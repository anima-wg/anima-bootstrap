<!doctype html>
<html lang="en">
<head>
<title>anima-boostrapping</title>
<meta charset="utf-8">
<style> * { font-family: arial, sans-serif;
font-size: 13px;
line-height: 17px; }ul.indent { list-style-type: none; }ol { list-style-type: none; padding-left:0;}body > ol { counter-reset: first second third fourth fifth sixth seventh eigth ninth tenth eleventh twelth thirteenth fourteenth fifteenth sixteenth; }ol > li:before {content: counter(first) ". " ;counter-increment: first;}ol > ol > li:before {content: counter(first) "." counter(second) ". " ;counter-increment: second;}ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) ". ";counter-increment: third;}ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) ". ";counter-increment: fourth;}ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) ". ";counter-increment: fifth;}ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) ". ";counter-increment: sixth;}ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) ". ";counter-increment: seventh;}ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) ". ";counter-increment: eigth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) ". ";counter-increment: ninth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) ". ";counter-increment: tenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) ". ";counter-increment: eleventh;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) ". ";counter-increment: twelth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) ". ";counter-increment: thirteenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) ". ";counter-increment: fourteenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "."  counter(eigth) "."  counter(ninth) "."  counter(tenth) "."  counter(eleventh) "."  counter(twelth) "."  counter(thirteenth) "."  counter(fourteenth) "." counter(fifteenth) ". ";counter-increment: fifteenth;}ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "."  counter(eigth) "."  counter(ninth) "."  counter(tenth) "."  counter(eleventh) "."  counter(twelth) "."  counter(thirteenth) "."  counter(fourteenth) "."  counter(fifteenth) "."  counter(sixthteenth) ". ";counter-increment: sixthteenth;}ol{ text-indent: 0px; }ol > ol{ text-indent: 10px; }ol > ol > ol{ text-indent: 20px; }ol > ol > ol > ol{ text-indent: 30px; }ol > ol > ol > ol > ol{ text-indent: 40px; }ol > ol > ol > ol > ol > ol{ text-indent: 50px; }ol > ol > ol > ol > ol > ol > ol{ text-indent: 60px; }ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 70px; }ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 80px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 90px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 100px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 110px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol { text-indent: 120px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 130px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 140px; }ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol{ text-indent: 150px; }</style>
</head>
<body>WEEKLY INVITE, SEE ANIMA BOOTSTRAP WIKI: <a href="https&#x3a;&#x2F;&#x2F;trac&#x2e;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap">https:&#x2F;&#x2F;trac.tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap</a><br><br>2016-09-13<br><ul class="indent"><li>present: max, toerless, kent, michaelB, mcr</li></ul><br><ul class="indent"><li>please use this webex if your calendar is out of date:&nbsp;</li><li><a href="https&#x3a;&#x2F;&#x2F;cisco&#x2e;webex&#x2e;com&#x2F;ciscosales&#x2F;j&#x2e;php&#x3f;MTID&#x3d;ma063d9efeede668658e75e63d877005f">https:&#x2F;&#x2F;cisco.webex.com&#x2F;ciscosales&#x2F;j.php?MTID=ma063d9efeede668658e75e63d877005f</a></li></ul><br><br>&nbsp;&nbsp; discussion about: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;system&#x2d;keychain&#x2d;00">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-system-keychain-00</a> could replace [suppliment]&nbsp; EST, but needs some extensions for ANIMA.&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (It can&#x27;t replace because the server isn&#x27;t long term appropriate for knowing when the client needs to obtain a new cert etc. I think its suppliment).<br>&nbsp;&nbsp; In netconf the management infrastructure is driving the state machine.&nbsp; So the mgmt drives to push the initial certificate.<br>&nbsp;&nbsp; But, certificates have lifetimes, and unless they are ~infinite~, so the client knows when it needs to renew the certificate, and so it still has to have a state machine to enable to renew.<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; Renew is built-in to EST, but system-keychain doesn&#x27;t deal with it? Kent: client can send notification, but agrees that client has to initiate the callback.<br>&nbsp;&nbsp;&nbsp;<br>Discussion points:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>1. reduce provisional state<br><ul class="indent"><li>flipping the TLS connection and having a TLS extension for the auth token &#x2F; ownership voucher</li><li>this would require a new doc for a TLS extension.</li><li><br></li><li><br></li></ul><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------+-------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------v-------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Discover&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; +------------&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------+-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------v-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Identity&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; ^------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; | rejected&nbsp;&nbsp; +------+-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;-- 1. moving imprint to here as part of TLS handshake<br><ul><ul><ul><ul><ul><ul><ul><ul><ul><ul><ul><ul><ul class="indent"><li>&nbsp;&nbsp; this reduces the provisional state.</li></ul></ul></ul></ul></ul></ul></ul></ul></ul></ul></ul></ul></ul>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------v-------+&nbsp;&nbsp;&nbsp; This is an interesting&#x2F;great&#x2F;cool optimization but would slow us down a lot (extension auth token)<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Join&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------+-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------v-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Imprint&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; Optional<br>&nbsp;&nbsp; ^------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;--+Manual input<br>&nbsp;&nbsp; | Bad Vendor +------+-------+<br>&nbsp;&nbsp; | response&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------v-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Enroll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | &lt;-- 2. should this be driven by the registrar&#x2F;netconf style server<br>&nbsp;&nbsp; ^------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; as server side state (e.g. netconf-system-keychain)<br>&nbsp;&nbsp; | Enroll&nbsp;&nbsp;&nbsp;&nbsp; +------+-------+&nbsp;&nbsp;&nbsp;&nbsp; this is implied because the order of the TLS in netconf call home<br>&nbsp;&nbsp; | Failure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; but we could swap the roles again to get back to EST (current anima draft)<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------v-------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Being&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; ^------------+&nbsp; Managed&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; Factory&nbsp;&nbsp;&nbsp;&nbsp; +--------------+<br>&nbsp;&nbsp;&nbsp; reset<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; ACTION ITEM for MCR: Can we use RFC5878 (SAML) to replace ownership &#x2F; auth token.<br><br><br>2016-09-06<br><ul class="indent"><li>present: max, mcr, [toerless]</li><li><br></li><li>what&#x27;s up with webex? Support was connected, not gone.</li><li>(connecting now; well, to the webex at least. my local phone is crashed and rebooting still. apparently it had a longer weekend than i did)</li><li>who is &quot;support&quot;? yeah. support is back.</li><li><br></li><li>Max did action items: netconf, CSR things.</li><li><br></li><li>POST from max&#x27;s offline notes:</li><li><br></li><li>Netconf push&#x2F;pull model discussion.</li><li><br></li><li>In Anima the entities are:</li><li><br></li><li>the new device</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; normally the &#8220;client&#8221; of a tls connection</li><li>the registrar</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; normally the &#8220;server&#8221; of a tls connection&nbsp;</li><li><br></li><li>In netconf:</li><li><br></li><li>the new device</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; normally the &#8220;server&#8221; of a tls&#x2F;ssh connection</li><li>the management system</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; normally the &#8220;client&#8221; of a tls&#x2F;ssh connection</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;call&#x2d;home&#x2d;17">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-call-home-17</a></li><li><br></li><li>s2: Solution Overview</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NETCONF&#x2F;RESTCONF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NETCONF&#x2F;RESTCONF</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Client</li></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (anima new device)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (anima registrar)<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. TCP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-------------SYN-------------------&gt;|&nbsp; Just a SYN, SYN&#x2F;ACK.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;------------SYN&#x2F;ACK----------------|</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. SSH&#x2F;TLS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;------------ClientHello------------| same TCP connection.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-------------ServerHello-(cert)----&gt;| Registrar verifies 802.1AR cert, and obtains auth token</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;------------client cert------------| &lt;- client cert = ownership voucher&#x2F;auth token</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;------------extension auth token---| * modification or extensions to TLS handshake&nbsp;</li></ul>(NOTE: This is an idea around optimizing the initial authentication. netconf&#x2F;restconf DOES NOT explore this either)<br><br>continue with BRSKI or NETCONF&#x2F;RESTCONF etc:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3. NETCONF&#x2F;RESTCONF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-----------------------------------|</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Note: arrows point from the &quot;client&quot; to</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the &quot;server&quot; at each protocol layer</li><li><br></li><li>The device initiates the tcp connection but the management system initiates the tls&#x2F;ssh connection.&nbsp;</li><li><br></li><li><br></li><li><strong><u>This is intriguing. By flipping the TLS connection the handshake works out nicely in our favor: the TLSCertificate payload is the 802.1AR cert and then *after* it is authenticated the client could respond with the ownership voucher cert</u></strong></li><li><strong><u>assuming the necessary extension could be defined.&nbsp;</u></strong></li><li>see TLS time sequence diagram: <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;cs&#x2e;cmu&#x2e;edu&#x2F;&#x7e;mmaass&#x2F;tpm&#x5f;tls&#x2F;report&#x2e;html">https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~mmaass&#x2F;tpm_tls&#x2F;report.html</a>&nbsp;&nbsp;</li><li>or&nbsp;&nbsp; <a href="http&#x3a;&#x2F;&#x2F;etutorials&#x2e;org&#x2F;shared&#x2F;images&#x2F;tutorials&#x2F;tutorial&#x5f;113&#x2F;09fig03&#x2e;gif">http:&#x2F;&#x2F;etutorials.org&#x2F;shared&#x2F;images&#x2F;tutorials&#x2F;tutorial_113&#x2F;09fig03.gif</a></li><li><br></li><li>Compare this to the flow in BRSKI: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;03&#x23;section&#x2d;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-03#section-3</a></li><li>at about:</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TLS via the Circuit Proxy&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;--Registrar TLS server authentication---|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp; [PROVISIONAL accept of server cert]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P---IEEE 802.1AR client authentication---&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><ul class="indent"><li>[then doing REST stuff to get out of P state]</li><li><br></li></ul></ul>QUESTION: Is this optimization worth pursuing NOW or can it be handled as a true optimization in later work?<br><ul><ul class="indent"><li>delaying this incurs technical debt</li><ul class="indent"><li>It might involve the REST interface being flipped. This makes re-use of existing libraries harder.</li><li>This netconf draft addresses how the interface might be implmented:</li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;system&#x2d;keychain&#x2d;00">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-system-keychain-00</a></li><li>(thus DRAFT vs EST RFC7030)</li><li>Our path to RFC is quicker&#x2F;easier if we reference RFCs.&nbsp;</li><li>But this role reversal isn&#x27;t a bad idea at all.&nbsp;</li><li><br></li></ul><li>delaying this might speed deployment (because the technical debt is faster to implement)</li><li><br></li></ul><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;zerotouch&#x2d;09&#x23;section&#x2d;5&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-zerotouch-09#section-5.3</a></li><li><br></li><li>&nbsp;&nbsp; #&nbsp;&nbsp;&nbsp; either NMS-initiated NC or RC connection</li><li>&nbsp;&nbsp; #&lt;-----------------------------------------------------------------#</li><li>&nbsp;&nbsp; #&nbsp;&nbsp;&nbsp; or device-initiated NC or RC call home connection&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp; #-----------------------------------------------------------------&gt;|</li><li><br></li><li>Uses either netconf or restconf to actually engage the device. This independence on the transport is handy.&nbsp;</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;restconf&#x2d;16">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-restconf-16</a></li><li>Augh. The definition of &#8220;client&#8221; vs &#8220;server&#8221; in this document is clear as mud.</li><li><br></li><li>&nbsp;&nbsp; The following figure shows the system components if a RESTCONF server</li><li>&nbsp;&nbsp; is co-located with a NETCONF server:</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------------+</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Web app&nbsp; | &lt;-------&gt; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+&nbsp; RESTCONF | network device&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; +-----------+ |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | NETCONF&nbsp;&nbsp; | &lt;-------&gt; |&nbsp;&nbsp; | datastore | |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Client&nbsp;&nbsp;&nbsp; |&nbsp; NETCONF&nbsp; |&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; +-----------+ |</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------------+</li><li><br></li><li>But from this it appears that the &#8220;server&#8221; is consistently the device. See also:</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc6241">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc6241</a> (netconf)</li><li>&#8220;the client can be a script or</li><li>&nbsp;&nbsp; application typically running as part of a network manager.&nbsp; The</li><li>&nbsp;&nbsp; server is typically a network device.&nbsp; The terms &quot;device&quot; and</li><li>&nbsp;&nbsp; &quot;server&quot; are used interchangeably in this document&#8221;</li><li><br></li><li><br></li><li>QUESTION: in all of netconf&#x2F;restconf is the device always passive?&nbsp;</li><li><br></li></ul>ACTION ITEM FOR MAX: Continue this conversastion with a more detailed discussion of what the netconf provisional state actually is (they don&#x27;t spell it out).&nbsp;<br>Tentative plan: maintain current flows and work toward optimization in netconf by partnering with netconf folks?<br><ul class="indent"><li><br></li></ul>2016-08-30<br><ul class="indent"><li>present: max</li><li><br></li><li>max got dragged into a meeting and can&#x27;t make it. I&#x27;m on the etherpad.&nbsp;</li><li>mcr was camping.</li></ul><br>2016-08-23:<br>&nbsp;&nbsp;&nbsp; present: max, [mcr joined the audio but is on a mobile and may not be able to type], kent, mcr!<br><ul class="indent"><li><br></li><li>mcr suggests looking at oauth bind tokens (vs bearer token) as the format</li><li><br></li><li>cut &amp; paste from webex chat:</li><li>&gt;from mcr@sandelman.ca to Everyone:</li><li>&gt;i suggest oauth2,&nbsp; and&#x2F;or ace cbor token.&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc6750">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc6750</a> and <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;wahlstroem&#x2d;ace&#x2d;cbor&#x2d;web&#x2d;token&#x2d;00">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-wahlstroem-ace-cbor-web-token-00</a></li><li><br></li><li><br></li><li>pushback from kent and mcr to having the BRSKI doc include the normative format for the ownership token</li><ul class="indent"><li>argument: having a distinct document allows BRSKI and netconf to both point to it which really clarifies that it is a common format</li><li>max&#x27;s argument: minize process and move the working-group document forward</li><li><br></li><li>cut &amp; paste from webex chat:</li><li>&gt;from mcr@sandelman.ca to Everyone:</li><li>&gt;bandwidth bad for me. . lets write the text for voucher,&nbsp; and let process happen later.</li><li><br></li><li>kent to begin a document within his repository and will add max&amp;mcr to allow edit of it.&nbsp;</li><li>doing a yang description of the format w&#x2F; ref to yang-&gt;json for consistency with other anima json messages&nbsp;</li><li>[need ref on the yang-&gt;json mapping]</li><li><br></li><li>AI KENT: will try to have something before next weeks meeting (mcr will be out but we can move forward; plenty of time to talk)</li><li><br></li><li>[also ref notes from: 2016-05-17:]</li><li><br></li><li>2) I&#x27;m still uncomfortable with the level of detail&#x2F;protocol around getting</li><li>&nbsp; the pledge to put the &quot;right things&quot; into the CSR.</li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;03&#x23;section&#x2d;5&#x2e;7&#x2e;2">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-03#section-5.7.2</a></li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;system&#x2d;keychain&#x2d;00&#x23;section&#x2d;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-system-keychain-00#section-3</a></li><li>section <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;system&#x2d;keychain&#x2d;00&#x23;section&#x2d;2&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-system-keychain-00#section-2.3</a></li><li>includes YANG action statement &quot;generate-certifacte-signing-request&quot; that takes input PKCS#10</li><li>structures &#x27;subject&#x27; and &#x27;attributes&#x27;, and generates output structure &#x27;certificate-signing-request&#x27;</li><li>(the CSR itself).</li><li>Uses &quot;callhome&quot; spec... device-&gt;NMS, but inside, it&#x27;s role reversal, and NMS becomes &quot;client&quot;, to PUSH to device.</li><li>mcr: CoAP isn&#x27;t TCP, and we don&#x27;t have &quot;SSH-over-CoAP&quot;, so that would be really weird... but for RESTconf, it should be easy.</li><li><br></li></ul></ul>&nbsp; max: this redefines the enrollment process to be the netconf-embedded process... Kent is presenting it for awareness&#x2F;consideration.<br>&nbsp;&nbsp;<br>&nbsp; I lost max too. (i&#x27;m back!)&nbsp;<br>&nbsp;&nbsp;<br>&nbsp; Keychain draft a bit unstable, current issue list: <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;netconf&#x2d;wg&#x2F;system&#x2d;keychain&#x2F;issues">https:&#x2F;&#x2F;github.com&#x2F;netconf-wg&#x2F;system-keychain&#x2F;issues</a>&nbsp;&nbsp;<br>&nbsp; Cisco folks helping Kent with Kaychain draft: <em>Mahesh Jethanandani: </em>mjethanandani@gmail.com, Gary Wu: garywu@cisco.com)<br>&nbsp; MAX: Your audio cut out again!!!<br>&nbsp;&nbsp;<br>&nbsp; AI max: form an articulate position on how this push model discussion migth integrate with the anima pull model -- as a thought excercise.<br>&nbsp; 6tisch would prefer a pull model (server&#x2F;NMS initiated) as well for bandwidth management reasons, and I&#x27;m trying to reverse it back to client initiated, with some way to manage bandwidth...<br>&nbsp;&nbsp;<br>&nbsp; thanks to all!&nbsp; - thank-you, and enjoy your camping trip :)<br>&nbsp;&nbsp;<br><ul><ul class="indent"><li><br></li></ul></ul>2016-08-16:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent, toerless<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; (welcome back)<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>Agenda:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>1) recap on, do we need&#x2F;want to write up an example ownership voucher.<br>&nbsp; or perhaps, I should say this differently.&nbsp; I intend to write up<br>&nbsp; an Informational Document.&nbsp; Does this group feel it should be a WG<br>&nbsp; deliverable, or not?&nbsp; Perhaps a premature question since no document<br>&nbsp; exists yet.<br>&nbsp;&nbsp;<br>&nbsp; netconf ownership voucher data model &amp; example:&nbsp; (TREE DIAGRAM)<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;zerotouch&#x2d;09&#x23;appendix&#x2d;A&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-zerotouch-09#appendix-A.1</a><br>&nbsp;&nbsp; module: example-zerotouch-ownership-voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw owner-id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; step3 look for this in &#x27;owner&#x27; cert asserted<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw unique-id*&nbsp;&nbsp;&nbsp; string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; step2 look for self here<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw created-on&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw expires-on?&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw vendor-blob?&nbsp; anydata&nbsp; &lt;- added stuff?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw signature&nbsp;&nbsp;&nbsp;&nbsp; string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; step1 verify this<br><br>&nbsp; BRSKI ownership voucher example:&nbsp;<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;03&#x23;section&#x2d;5&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-03#section-5.3</a>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br><ol class="number"><li>&nbsp;&nbsp;&nbsp; &quot;Content-Type: application&#x2F;authorization-token; format=encrypted&quot;</li><li>&nbsp;&nbsp;&nbsp; &quot;Content-Type: application&#x2F;authorization-token; format=clearsign&quot;&nbsp;</li><li>&nbsp;&nbsp;&nbsp; &quot;Content-Type: application&#x2F;netconf-zerotouch-voucher&quot;&nbsp;</li></ol>&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp; &quot;version&quot;:&quot;1&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;nonce&quot;:&quot;&lt;64bit nonce value&gt;&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;IDevIDAuthorityKeyIdentifier&quot;:&quot;&lt;base64 encoded keyIdentifier&gt;&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;DevIDSerialNumber&quot;:&quot;&lt;id-at-serialNumber&gt;&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; step2 look for self here<br>&nbsp;&nbsp;&nbsp; &quot;domainCAcert&quot;:&quot;&lt;the base64 encoded domain CA&#x27;s certificate&gt;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; step3 verify &#x27;owner&#x27; cert with this<br>&nbsp;&nbsp; }<br>&nbsp;&nbsp; &quot;The audit token response is encapsulated in a [RFC5652] Signed-data<br>&nbsp;&nbsp; that is signed by the MASA server.&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; step1 verify this<br>&nbsp;&nbsp;&nbsp;<br>encryption discusion:&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>might be useful for this to be encrypted? for privacy? to do decryption you need the key which is possible sometimes for for a 1toMany ownership voucher (netconf) the scalability means having encryption might be difficult.&nbsp;</li><li>for operational uses not encrypting might be valuable (debugging)</li><li>there are a bunch of key management issues involved</li><li><br></li><li><strong><u>We don&#x27;t believe there is a confidentiality requirement for vouchers</u></strong></li><li>&nbsp;&nbsp;&nbsp; <strong><u>We believe there is no confidentiality requirement for vouchers</u></strong></li><li>There might be a <u>privacy issue </u>if vouchers are too easily visible to 3rd parties</li><li>3 paths forward: a) treat this as a hard requirement b) try to leave the door open for future work here c) declare totally out of scope.</li><li>proposed decision: (b) try to keep the door open but not address at this time.&nbsp;</li></ul><br><br>NETCONF pretty clearly needs to have a standard format.<br>ANIMA would benefit from having a common&#x2F;popular format, but not necessary standard.<br>ANIMA would like to enable outsourcing of MASA functionality to a MASA-provider, as this will help enable the specification.<br><br>I lost audio. something broken with my phone.&nbsp; We are at top of hour anyway, and I will attempt to write a summary, and CC to netconf WG list too. I wonder if a CBOR format created from the YANG statement would satisfy all groups...<br>ok. sorry we lost you.&nbsp; Yeah, given that I&#x27;ve now hung up, and webex hasn&#x27;t figured out that I&#x27;m offline, tells me that the call is still up somewhere.&nbsp;&nbsp;<br>on for next week?&nbsp; I will be in a train station for part of it.\<br>i believe we are still on for next week. this call is about to wrap and then we can pick up next week.<br><br><br>&nbsp;&nbsp;&nbsp;<br>2) I&#x27;m still uncomfortable with the level of detail&#x2F;protocol around getting<br>&nbsp; the pledge to put the &quot;right things&quot; into the CSR.<br><br>3) draft-pritikin-coap-bootstrap-00<br><ul class="indent"><li>Kampanakis has tie into EST internal to Cisco.</li><li><br></li></ul><br><br>2016-07-05<br><ul class="indent"><li>present: max</li><li>(MCR is out as previously indicated)</li><li>(Max has to leave at 30min after the hour)&nbsp;</li><li><br></li><li>Nobody else joined and I&#x27;ve got other work to do. I&#x27;m closing the session. If you have questions or feedback</li><li>or just want to chat details go ahead and reach out. Enjoy all and see you in Berlin.&nbsp;</li><li><br></li><li>I will be unable to attend next week&nbsp;</li></ul><br>2016-06-28:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, max</li><li>deadline for submission 7&#x2F;8 (not this friday, but next friday!)</li><li>max&#x27;s action item: continue working on ednotes as per previous discussions and general cleanup.</li><li><br></li></ul><br>2016-06-21 - no meeting as planned.<br><br>2016-06-14:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: max, Michael B, mcr</li><li><br></li></ul>pre-03 version can be built or found at:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;ietf&#x2d;roll&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2d;03&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;ietf-roll&#x2F;anima-bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap-anima-keyinfra-03.txt</a></li><li>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;ietf&#x2d;roll&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2d;03&#x2e;html">https:&#x2F;&#x2F;github.com&#x2F;ietf-roll&#x2F;anima-bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap-anima-keyinfra-03.html</a></li><li><br></li><li>&nbsp;&nbsp;&nbsp; <a href="http&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;&#x2F;rfcdiff&#x3f;url1&#x3d;https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;id&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;02&#x2e;txt&amp;url2&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;ietf&#x2d;roll&#x2F;anima&#x2d;bootstrap&#x2F;master&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2d;03&#x2e;txt">http:&#x2F;&#x2F;tools.ietf.org&#x2F;&#x2F;rfcdiff?url1=https:&#x2F;&#x2F;tools.ietf.org&#x2F;id&#x2F;draft-ietf-anima-bootstrapping-keyinfra-02.txt&amp;url2=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;ietf-roll&#x2F;anima-bootstrap&#x2F;master&#x2F;dtbootstrap-anima-keyinfra-03.txt</a></li><li><br></li><li>ACTION: MUST have IPv6 address and &quot;ACP name&quot;. This MUST go in bootstrap document. (v6 =&gt; subjectAltName&#x2F;iPAddress, name =&gt; subjectAltName&#x2F;FQDN)</li><li>The details as to what the IPv6 address&#x2F;name is going to *be* belongs in the addressing document.</li><li><br></li><li>This is the current text of the ednote:</li><li><br></li><li>[[EDNOTE: The following sentence is specific to anima purposes and should be moved to an appropriate anima document so as to keep bootstrapping&nbsp;</li><li>as generic as possible: What we want are a &#x27;domain name&#x27; stored in [TBD] and an &#x27;ACP IPv6 address&#x27; stored in the iPAddress field as specified&nbsp;</li><li>in RFC5208 s4.2.1.6.&nbsp; ref ACP draft where certificate verification [TBD]. These should go into the subjectaltname in the [TBD] fields.]]. If the&nbsp;</li><li>hardwareModuleName in the IDevID is populated then it SHOULD by default be propagated to the LDevID along with the hwSerialNum.&nbsp;</li><li>The registar SHOULD support local policy concerning this functionality. [[EDNOTE: extensive use of EST CSR Attributes might need an new OID definition]].&nbsp;</li><li><br></li><li>This is an example of firefox looking at a cert with multiple domain names in it:</li><li><a href="http&#x3a;&#x2F;&#x2F;www&#x2e;sandelman&#x2e;ca&#x2F;tmp&#x2F;mcrcapture&#x2F;5867&#x2e;2016&#x2d;06&#x2d;14&#x2F;capture1&#x2e;png">http:&#x2F;&#x2F;www.sandelman.ca&#x2F;tmp&#x2F;mcrcapture&#x2F;5867.2016-06-14&#x2F;capture1.png</a></li><li><br></li><li><br></li><li><strong>6.4.1.&nbsp; Checking of Traditional Domain Names</strong></li><li><br></li><li>&nbsp;&nbsp; If the DNS domain name portion of a reference identifier is a</li><li>&nbsp;&nbsp; &quot;traditional domain name&quot;, then matching of the reference identifier</li><li>&nbsp;&nbsp; against the presented identifier is performed by comparing the set of</li><li>&nbsp;&nbsp; domain name labels using a case-insensitive ASCII comparison, as</li><li>&nbsp;&nbsp; clarified by [DNS-CASE] (e.g., &quot;WWW.Example.Com&quot; would be lower-cased</li><li>&nbsp;&nbsp; to &quot;www.example.com&quot; for comparison purposes).&nbsp; Each label MUST match</li><li>&nbsp;&nbsp; in order for the names to be considered to match, except as</li><li>&nbsp;&nbsp; supplemented by the rule about checking of wildcard labels</li><li>&nbsp;&nbsp; (Section 6.4.3).</li><li><br></li><li>From RFC6125, appears to do something different than common behavior? (no, no conflict. this is around how to match a set of dns labels).&nbsp;</li><li>The term &quot;label&quot; here refers to &quot;www&quot; or &quot;example&quot; (those are two labels).</li><li><br></li><li>Proposed text for the ACP draft (Below 5.6, &quot;addressing&quot;):&nbsp;</li><li>&quot;An ANIMA device uses its ACP address with zone-ID set to 0 (zero) as an identifier. This ACP address zone-ID 0 MUST be set as &quot;subject-alt-name &#x2F; IPv6 address&quot; in the LDevID. In ANIMA, the Registrar assigns the ACP address, and MUST pass this parameter as a parameter during the bootstrap process to the enroling device. See [bootstrap] for details on the enrolment process.&quot;&nbsp;</li><li>(Reason for putting this into ACP draft: the bootstrap doc may be used for non-ANIMA networks; so ANIMA specific parameters shouldn&#x27;t be specified here. Best place from ANIMA perspective seems the ACP draft.)</li><li><br></li></ul>2016-06-07:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, max</li><li><br></li><li>Warning of low attendence:&nbsp;</li><ul><ul class="indent"><li>Max is out 6&#x2F;21&nbsp;</li><li>MCR is out 7&#x2F;12</li><li><br></li></ul></ul></ul>No pressing topics for today. We&#x27;re going to give the time back and focus on updating as per previous discussions with a goal of pushing a new document on 6&#x2F;27-ish.&nbsp;<br><ul class="indent"><li><br></li></ul><br>2016-05-31:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, max, peter, kent, MichaelB</li><ul class="indent"><li>minutes from last week: <a href="https&#x3a;&#x2F;&#x2F;mailarchive&#x2e;ietf&#x2e;org&#x2F;arch&#x2F;msg&#x2F;anima&#x2d;bootstrap&#x2F;hc12ffWZw4fsCAs6b3MW9JlJsdE">https:&#x2F;&#x2F;mailarchive.ietf.org&#x2F;arch&#x2F;msg&#x2F;anima-bootstrap&#x2F;hc12ffWZw4fsCAs6b3MW9JlJsdE</a></li><li><br></li></ul></ul>Agenda:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; Possibility of clarifying the purpose&#x2F;role of the proxy. Peter to provide comments on section 2 (definition) or section 3.2.&nbsp;</li><li><br></li><li>Discussion about whether TPM&#x27;s IDevID can be used to form a TLS connection with the registar.&nbsp; We could directly use the 4108 &#x2F; TCG HardwareModuleName.</li><li>&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;srajiv&#x2F;trousers">https:&#x2F;&#x2F;github.com&#x2F;srajiv&#x2F;trousers</a></li><li>EST would enroll over TLS authenticated IDevID (while CMC message would be signed by IDevID).</li><li><br></li><li>It should not matter if we are bootstrapping the TPM or the Chassis identity.</li><li><br></li><li>[[EDNOTE: An appropriate extension for indicating the&nbsp;&nbsp; Vendor URI and imprint method could be defined using the methods&nbsp;&nbsp; described in [I-D.lear-mud-framework]]].</li></ul><br>&nbsp;&nbsp;&nbsp; How does the registrar know where the MASA for this vendor?<br>&nbsp;&nbsp;&nbsp; Kent: wary of embedding something that might change into the IdevID. netconf model allows a hostname&#x2F;uri into the device (which is similar).<br>&nbsp;&nbsp;&nbsp; mcr: acceptable to mandate the registrar be configured with trust anchor *and* MASA URI. Future work could include this in the trust anchor certificates which may be important for home &#x2F; smb markets where additional confguration is problematic.&nbsp;<br>&nbsp;&nbsp;&nbsp; This could be an area for future work so for now we can say &quot;MUST support static configuration&quot; on the registrar and leave open the MAY possibility of vendor specific additions or future standards work.<br>ACTION: max to edit document.<br><br><ol class="number"><li>[[EDNOTE: format TBD.&nbsp; The configuration package signature data must&nbsp;&nbsp; contain the full certificate path sufficient for the new entity to use the domainID information (as a trust anchor) to accept and&nbsp;&nbsp; validate the configuration)]]</li><li>SEction 5.5 of current document &quot;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;02&#x23;section&#x2d;5&#x2e;5">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-02#section-5.5</a></li></ol><br>&nbsp;&nbsp;&nbsp;&nbsp; +--------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------+&nbsp;&nbsp;&nbsp;&nbsp; +------------+<br>&nbsp;&nbsp;&nbsp;&nbsp; | New&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Proxy |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Domain&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | Vendor&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp; | Entity |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Registrar&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | Service&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | (Internet&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp; +--------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------+&nbsp;&nbsp;&nbsp;&nbsp; +------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-RFC3927 IPv4 adr&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; or|&lt;-RFC4862 IPv6 adr&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--------------------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | optional: mDNS query|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | RFC6763&#x2F;RFC6762&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;--------------------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | mDNS broadcast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | response or periodic|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-------------------&gt;|&lt;-----------------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (d)TLS via the Proxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;--Registrar TLS server authentication---|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp; (includes servercert = registar cert (signed by domain CA cert, but domain CA cert not inclued)<br>&nbsp; [PROVISIONAL accept of server cert]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P---IEEE 802.1AR client authentication---&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P---Request Audit Token (include nonce)--&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;.well-known&#x2F;brski&#x2F;requestaudittoken<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;---&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [accept device?]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [contact Vendor]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--New Entity ID----&gt;|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--Domain ID--------&gt;|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--optional:nonce---&gt;|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; [extract DomainID]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; optional:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; [update audit log]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |can&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |occur&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; optional: is&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; an ownership&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |advance&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; voucher available?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-device audit log--|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-audit token-------|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-optional: --------|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \----&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; ownership voucher |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [verify audit log or voucher]&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P&lt;--Audit token and&#x2F;or ownership voucher--|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSON format reply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Could include configuration package?&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Could look closer to NETCONF (RESTCONF - JSON. Descendant: ownership v)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Maybe does not need to be signed if it is just the trust anchor (which the ownership voucher references)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Verged toward: simple format for just distribution of trust anchor&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CONVERSATION NOT COMPLETE. Max to present a couple of formats for next week.&nbsp;</li></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------&gt;do EST &#x2F;cacerts-----------------&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;--------domain ca cert--------------------<br>[verify domain ca cert against auth token domainid]<br>[now can verify the registrar cert against the ca cert]<br>[if everything is good, leave P mode]&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp; [verify response&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; [verify provisional cert ]|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |----------------------------------------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Continue with RFC7030 enrollment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | using now bidirectionally authenticated |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | TLS session.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br><br>ACTION: mcr write up minutes, include question from line 101.<br><br><ol class="number"><li>Continuation of prior discussion wrt to bearer token cryptography. Need a method of signaling this.</li><li>&nbsp;[[EDNOTE: the above authority key identifier trick works for database lookups and here the inclusion of the DNS name would serve the same purpose.&nbsp; Alternatively an Anima specified domain specific identifier must be indicated.]]</li><li>5.2.&nbsp; EST over CoAP&nbsp;&nbsp; [[EDNOTE: In order to support smaller devices the above section on Proxy behavior introduces mandatory to implement support for CoAP support by the Proxy.&nbsp; This implies similar support by the New Entity and Registrar and means that the EST protocol operation encapsulation&nbsp;&nbsp; into CoAP needs to be described.&nbsp; EST is HTTP based and &quot;CoaP is&nbsp;&nbsp; designed to easily interface with HTTP for integration&quot; [RFC7252] so this section is anticipated to be relatively straightforward.&nbsp; A complexity is that the large message sizes necessary for&nbsp;&nbsp; bootstrapping will require support for [draft-ietf-core-block].]]</li><li>[[EDNOTE: exact format TBD.&nbsp; There is an advantage to having the&nbsp;&nbsp; client sign the nonce (similar to a PKI Certification SigningPritikin, et al.&nbsp; Request) since this allows the MASA service to confirm the actual&nbsp;&nbsp; device identity.&nbsp; It is not clear that there is a security benefit from this since its the New Entity that verifies the nonce.]]</li><li>[[EDNOTE: There is a strong similarity between this and the previous&nbsp;&nbsp; section.&nbsp; Both involve requesting the Audit Token from the upstream&nbsp;&nbsp; element.&nbsp; Because there are differing requirements on the data&nbsp;&nbsp; submitted and the signing of that data they are specified in distinct sections.&nbsp; The design team should have a meeting to discuss how to&nbsp;&nbsp; unify these sections or make the distinctions more clear]]</li><li>[[EDNOTE: The domainID as included in the log and as sent in the&nbsp;&nbsp; authorization token is only a hash of the domain root certificate.Pritikin, et al.&nbsp;&nbsp; This is insufficient for the new entity to move out of the&nbsp;&nbsp; provisional state as it needs a full root certificate to validate the TLS certificate chain.&nbsp; This information package could be used to&nbsp;&nbsp; deliver the full certificate or the full certificate could be&nbsp;&nbsp; included in the authorization token.&nbsp; Lacking either the new entity&nbsp;&nbsp; needs to stay in the provisional state until it performs an RFC7030&nbsp;&nbsp; &#x2F;getcacerts to obtain the full certificate chain.]]&nbsp;&nbsp;&nbsp;</li><li>[[EDNOTE: The package format to be specified here.&nbsp; Any signed format&nbsp;&nbsp; is viable and ideally one can simply be specified from netconf.&nbsp; The&nbsp;&nbsp; Registar knows the New Entity device type from the 802.1AR credential&nbsp;&nbsp; and so is able to determine the proper format for the configuration.]]</li><li>[[EDNOTE: certificate transparency style use of merkle tree hash&#x27;s&nbsp;&nbsp; might offer an alternative log entry method]]</li><li>Vendor Service, MASA:&nbsp; This form of vendor service is trusted to accurately log all claim attempts and to provide authoritative log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information to Registrars.&nbsp; The MASA does not know which devices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; are associated with which domains.&nbsp; [[EDNOTE: these claims could be strengthened using by using cryptographic log techniques toPritikin, et al.&nbsp; provide append only&quot;, cryptographic assured, publicly auditable logs.&nbsp; Current text provides for a fully trusted vendor.]]</li></ol><br>2016-05-24:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: max, mcr, peter,toerless</li><li><br></li></ul>Discussion of s5.1 use of IEEE 802.1AR for device serial numbers:<br>&nbsp;&nbsp; this was me, without audio who asked about: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc4108&#x23;">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc4108#</a> can we use this in our certificates? (mcr not on call)<br>&nbsp;&nbsp; discussion about section 5.1, SHOULD mandate Hardware Module (rfc4108, section 5), with added restriction that the hwSerialNum OCTET STRING be printable (IA5String)<br>&nbsp;&nbsp; (OR DN, SerialNumber=)<br>&nbsp;&nbsp; The device SHOULD propogate all fields from the IDevID (subjectAltName, and subjectName) to the LDevID via the CSR. The Registar is, however, authoritative for the CN, and does not copy that literally.<br>&nbsp;&nbsp; Section 5.1 will be updated to indicate that the Registar SHOULD look to the rfc4108 hwModuleName for the hwSerialNum and MAY look to vendor specific locations for compatibilitiy with non-standard manufacturing installed credentials.<br>&nbsp;&nbsp;&nbsp; The Resulting LDevID MUST have a hwSerialNum regardless of where the registrar had to look to find it in the IDevID. The HardwareModuleName is the registrar&#x27;s identifier into the MASA.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br><br>&nbsp;&nbsp; If the hwType in the IDevID is populated then it MUST be propagated to the LDevID along with the hwSerialNum. If the IDevID does not have a hwType the registar MUST insert a unique hwTYpe (TBD) and assign a unique hwSerialNum.<br>&nbsp;&nbsp; (This language needs to be cleaned up to reflect the reality of EST vs CMC and the use of CSRattrs to the client for generation of the CSR conforming to these requirements)&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; From RFC4108:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The hardware module name form is identified by the id-on-<br>&nbsp;&nbsp; hardwareModuleName object identifier:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; id-on-hardwareModuleName OBJECT IDENTIFIER ::= {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iso(1) identified-organization(3) dod(6) internet(1) security(5)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mechanisms(5) pkix(7) on(8) 4 }<br><br>&nbsp;&nbsp; A HardwareModuleName is composed of an object identifier and an octet<br>&nbsp;&nbsp; string:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HardwareModuleName ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hwType OBJECT IDENTIFIER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hwSerialNum OCTET STRING }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>We will define (find) a hwType that indicates that the hwSerialNum is an IEEE assigned EUI-48 or EUI-64, and therefore is already unique. This is in support of vendors that do not have their own OID, but have IEEE assigned space. [all other vendors need to get an OID (such as a PEN) for hwType; this could be a generic &quot;all our serial numbers are unique&quot; such as Cisco with the PID as part of the serial number. After this point the remaining code can treat these as opaque blobs.]<br>[i think this is started; it might not be complete]<br><br>We made it part way through the open EDNOTEs during discussion in previous weeks. I&#x27;ve moved the rest of the EDNOTES up to here so we can continue the conversation:<br>&nbsp;&nbsp;&nbsp; SUDI == Secure Unique Device Identifier. (Cisco speak)<br><ul><ul class="indent"><li>&nbsp;&nbsp;&nbsp; not:&nbsp;&nbsp;&nbsp;&nbsp; Sudden Unexpected Death in Infancy (SUDI)</li><li><br></li></ul></ul>ACTION: mcr to summarize email and diffs and query Russ and spasm is we can use 4108 HardwareModuleName.<br><br><br>2016-05-17:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: max, peter, kent, MichaelB</li><li><br></li></ul>Start with discussion on voucher format&nbsp;<br><br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;zerotouch&#x2d;08">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-zerotouch-08</a><br>see 7.2 and 7.3 usage examples<br><br>&nbsp;&nbsp; module: ietf-zerotouch-ownership-voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw owner-id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw (applies-to)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-- (anima)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-- unique-id&nbsp; string<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-- nonce&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unit64<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-- (netconf)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-- unique-id*&nbsp; string<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw logging-type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enum {hash-tree, flat-file, masa-api?)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # each type needs an associated section detailing how that type works (forward ref to the s5 discussion)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw verification-type&nbsp; enum {verified, logged)<br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verification-type is a statement from the vendor that it knows the device by looking into a database or simply added a log entry (open bootstrapping)<br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this allows the registrar to know what assurance the vendor provides; which supports more detailed policy checks on the registar<br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; such as &quot;i only want to allow verified devices, not just logged devices&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw created-on&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--rw expires-on?&nbsp;&nbsp; yang:date-and-time<br><br><br>As compared to current anima &quot;voucher&quot; format:<br>&nbsp;&nbsp; {&quot;nonce&quot;:&quot;&lt;64bit nonce value&gt;&quot;,&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp; PERHAPS: add created-on, expires-on? to benefit future devices with a clock</li></ul>&nbsp;&nbsp; &quot;serialnumber&quot;:&quot;&lt;subjectname&#x2F;subjectaltname serial number&gt;&quot;,<br>&nbsp;&nbsp; &quot;domainID&quot;:&lt;domainID value&gt;}<br><ul class="indent"><li><br></li></ul><br>2016-05-10:<br>&nbsp;&nbsp;&nbsp; present: mcr, peter, MichaelB, Toerless, Max<br><br>here is the link to the current text:&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;ietf&#x2d;roll&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;ietf-roll&#x2F;anima-bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap-anima-keyinfra.txt</a><br>which is the same as on datatracker, etc.&nbsp;&nbsp;&nbsp;<br><br><br>0. [[EDNOTE: (addding live) discovery method recap discussion. Current language have MAY&#x2F;SHOULD for MDNS but not mandate (MUST).&nbsp;<br><ul><ul><ul><ul class="indent"><li>unique codespace&nbsp;</li><li>don&#x27;t want to invent a new protocol</li><li>result: mDNS.&nbsp;&nbsp;</li><li>not complete mDNS is needed in constrained devices, only accept of RR decribing the bootstrap server&nbsp;</li><li>The constrained device does not announce any services.</li><li>infrastructure requirement to be added to the text:&nbsp;</li><ul class="indent"><li>toerless recommends ensuring&#x2F;referencing the current mDNS text as much as possible</li><li>we have an expectation that client remains silent and can receive a broadcast. thus we might find it necessary to add a MUST broadcast requirement on the infrastructure. We might specify the timer frequency: how often to broadcast. (indicate possible client behavior)</li></ul></ul></ul></ul><li>Long discussion about mDNS vs insecure GRASP for discovery.</li></ul>&nbsp;&nbsp;&nbsp;<br><ul><ul><ul><ul><ul class="indent"><li><br></li></ul></ul></ul></ul><li>[[EDNOTE: An appropriate backoff or rate limiting strategy should be defined here such that the device doesn&#x27;t flood the local network&nbsp;&nbsp; with queries.&nbsp; If the device were to eventually give up -- or at&nbsp;&nbsp; least have too long between attempts -- a power cycle would restart&nbsp;&nbsp; the backoff mechanism.]]</li><li>verify the limiting method from mDNS and either reference that or depend on the reader having familiarity witht the underlying [completed]</li></ul><li>[[EDNOTE: The choice of CoAP as the mandatory to implement protocol rather than HTTP maximizes code reuse on the smallest of devices.&nbsp; Unfortunately this means this document will have to include the EST over CoAP (with block-wise transfer) details as additional sections.&nbsp; The alternative is to make &#x27;HTTPS&nbsp;&nbsp; proxy&#x27; method the mandatory to implement and provide a less friendly environment for the smallest of devices.&nbsp; This is a decision we&#x27;ll have to see addressed by the broader team.]]</li><li>Lets do a distinct document for this and collaborate on ensuring we&#x27;re all comfortable with it. max start the doc and solicite input.&nbsp;</li><li>That might mean that the CoAP proxy does not need to be a neighbour (it is not the anima proxy), but can be in a n-hop router. As per EST integration I think we&#x27;ll find that the CoAP proxy would need to be an &quot;EST RA&quot;.</li><li>mcr suggests: proxy MUST support coap and SHOULD support https?&nbsp;</li><li>toerless suggests: not having a requirement for the infrastructure. A better question: how does the client decide which to try? is it delivered as part of discovery or via tests from the client or? raises the question: should we be asking for _tcp, _udp, _http, or ? in our queries. Do we have a well known port number or&nbsp; mDNS replies with things like: **<em>My Music on lusk._http._tcp.local. (51)</em>**</li><li>toerless points out: if we move to a specific well known port then unsecured discovery can&#x27;t be used to do a DoS attack on unsuspecting 443 servers</li></ul><li>[[EDNOTE: The CONNECT syntax is that the New&nbsp;&nbsp; Entity specifies the Registrar server in the CONNECT line.&nbsp; See&nbsp;&nbsp; RFC7231 s4.3.6.&nbsp; We wish the Proxy to override any value with the locally known-to-the-proxy Registrar address.]]</li><li>this is an option that we could use, and have the CONNECT reference some magic well-known URL. &lt;-- this appears to be the preferred approach in the room</li><li>otherwise, the Join Node needs to know the actual URL of the registrar via TBD. &lt;-- this is NOT something we want. the new device only knows the address of the proxy.</li><li>continued conversation: because the Provisional nature of the TLS connection the client library needs to be fairly good. therefore MCR is willing to drop the &quot;connect&quot; proxy method and rely only on the circuit proxy. this would reduce options and make the draft simpler. Discussion is leading toward this.&nbsp;</li></ul></ul><br><br>WE DID NOT GET TO DISCUSSING THESE REMAINING SO THEY HAVE BEEN COPIED UP TO THE MEETING NOTES FOR NEXT WEEK.<br><ol class="number"><li>[[EDNOTE: An appropriate extension for indicating the&nbsp;&nbsp; Vendor URI and imprint method could be defined using the methods&nbsp;&nbsp; described in [I-D.lear-mud-framework]]].</li><li>[[EDNOTE: format TBD.&nbsp; The configuration package signature data must&nbsp;&nbsp; contain the full certificate path sufficient for the new entity to use the domainID information (as a trust anchor) to accept and&nbsp;&nbsp; validate the configuration)]]</li><li>&nbsp;[[EDNOTE: the above authority key identifier trick works for database lookups and here the inclusion of the DNS name would serve the same purpose.&nbsp; Alternatively an Anima specified domain specific identifier must be indicated.]]</li><li>5.2.&nbsp; EST over CoAP&nbsp;&nbsp; [[EDNOTE: In order to support smaller devices the above section on Proxy behavior introduces mandatory to implement support for CoAP support by the Proxy.&nbsp; This implies similar support by the New Entity and Registrar and means that the EST protocol operation encapsulation&nbsp;&nbsp; into CoAP needs to be described.&nbsp; EST is HTTP based and &quot;CoaP is&nbsp;&nbsp; designed to easily interface with HTTP for integration&quot; [RFC7252] so this section is anticipated to be relatively straightforward.&nbsp; A complexity is that the large message sizes necessary for&nbsp;&nbsp; bootstrapping will require support for [draft-ietf-core-block].]]</li><li>[[EDNOTE: exact format TBD.&nbsp; There is an advantage to having the&nbsp;&nbsp; client sign the nonce (similar to a PKI Certification SigningPritikin, et al.&nbsp; Request) since this allows the MASA service to confirm the actual&nbsp;&nbsp; device identity.&nbsp; It is not clear that there is a security benefit from this since its the New Entity that verifies the nonce.]]</li><li>[[EDNOTE: There is a strong similarity between this and the previous&nbsp;&nbsp; section.&nbsp; Both involve requesting the Audit Token from the upstream&nbsp;&nbsp; element.&nbsp; Because there are differing requirements on the data&nbsp;&nbsp; submitted and the signing of that data they are specified in distinct sections.&nbsp; The design team should have a meeting to discuss how to&nbsp;&nbsp; unify these sections or make the distinctions more clear]]</li><li>[[EDNOTE: The domainID as included in the log and as sent in the&nbsp;&nbsp; authorization token is only a hash of the domain root certificate.Pritikin, et al.&nbsp;&nbsp; This is insufficient for the new entity to move out of the&nbsp;&nbsp; provisional state as it needs a full root certificate to validate the TLS certificate chain.&nbsp; This information package could be used to&nbsp;&nbsp; deliver the full certificate or the full certificate could be&nbsp;&nbsp; included in the authorization token.&nbsp; Lacking either the new entity&nbsp;&nbsp; needs to stay in the provisional state until it performs an RFC7030&nbsp;&nbsp; &#x2F;getcacerts to obtain the full certificate chain.]]&nbsp;&nbsp;&nbsp;</li><li>[[EDNOTE: The package format to be specified here.&nbsp; Any signed format&nbsp;&nbsp; is viable and ideally one can simply be specified from netconf.&nbsp; The&nbsp;&nbsp; Registar knows the New Entity device type from the 802.1AR credential&nbsp;&nbsp; and so is able to determine the proper format for the configuration.]]</li><li>[[EDNOTE: certificate transparency style use of merkle tree hash&#x27;s&nbsp;&nbsp; might offer an alternative log entry method]]</li><li>Vendor Service, MASA:&nbsp; This form of vendor service is trusted to accurately log all claim attempts and to provide authoritative log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information to Registrars.&nbsp; The MASA does not know which devices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; are associated with which domains.&nbsp; [[EDNOTE: these claims could be strengthened using by using cryptographic log techniques toPritikin, et al.&nbsp; provide append only&quot;, cryptographic assured, publicly auditable logs.&nbsp; Current text provides for a fully trusted vendor.]]</li></ol><br>&nbsp;&nbsp;&nbsp;<br>Long discussion about mDNS vs insecure GRASP for discovery.<br>&nbsp;&nbsp;&nbsp;<br>11:41:11.608566 IP6 (hlim 255, next-header UDP (17) payload length: 59) lusk.gatineau.credil.org.mdns &gt; ff02::fb.mdns: [udp sum ok] 0 SRV (QM)? My Music on lusk._http._tcp.local. (51)<br>11:41:11.723355 IP6 (hlim 255, next-header UDP (17) payload length: 106) lusk.gatineau.credil.org.mdns &gt; ff02::fb.mdns: [udp sum ok] 0*- [0q] 2&#x2F;0&#x2F;0 My Music on lusk._http._tcp.local. (Cache flush) SRV lusk.local.:3689 0 0, lusk.local.&nbsp;<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>2016-05-03&nbsp;<br><ul class="indent"><li>present: mcr, max, toerless, behringer, vanderstok</li></ul><br>Agenda:<br>&nbsp;&nbsp;&nbsp; recap ownership discussion [delay w&#x2F;o Kent]<br>&nbsp;&nbsp;&nbsp; elements w&#x2F;in cert to support ACP (see notes from 4&#x2F;5)<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>ownership discussion:<br><ul class="indent"><li>clarify exactly which brski message it occurs: s5.3</li><li>in anima the client is always authenticated so we only send a single audittoken&#x2F;ownershipvoucher</li><li>in netconf the client is NOT always authenticated so we send a list of ownershipvouchers</li><ul class="indent"><li>netconf does this to allow the endpoint device to hide its identity</li><li>need a clear discussino of the privacy model in each case [action item]</li></ul><li>if we support a list format can we minimize the amount of different processing that occurs. is it:</li><ul class="indent"><li>token1, token2, token3</li><li>or</li><li>tokenlist (1,2,3)</li></ul><li>is the token encrypted in some format? for example lookup the public in a db and use it or use a known symetric key</li><li>doing this might allow responses to unauthenticated clients w&#x2F;o violating infrastructure privacy?</li><li>by hiding the device identity during DNS-SD&#x2F;DHCP the device either has to do brski style multiple attempts or&nbsp;</li><li>leak some hints to DNS-SD&#x2F;DHCP which is both an information leak and adds complexity to these protocols [max&#x27;s editorial comment]</li><li><br></li></ul>elements w&#x2F;in cert to support ACP&nbsp;<br><ul class="indent"><li>no, not elephants. we want snakes on the ACP plane. (the snakes in spain fall mostly on the ACP plane)</li><li>section 5.1 discussion of 802.1AR as client identity w&#x2F; certain subfields detailed.</li><li><br></li><li><br></li><li><br></li><li><br></li></ul><br>2016-04-05 AI from Toerless Eckert<br>- Need elements in certificate to support ACP.<br>&nbsp; - Proposed elements:<br>&nbsp;&nbsp;&nbsp;&nbsp; Autonomic Domain name<br>&nbsp;&nbsp;&nbsp;&nbsp; Autonomic Domain Address prefix<br>&nbsp;&nbsp;&nbsp;&nbsp; Device-ID prefix<br>&nbsp;&nbsp;&nbsp;&nbsp; - Autonomic Domain Address prefix + DEvice ID form ACP address excluding Zone (Zone determined automatically by ACP)<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp; need to have ACP IP address in certificate....</li><ul><ul class="indent"><li>how can client know what to put in the CSR? RFC7030, section 4.5</li><li>&quot;client MUST request &#x2F;CSRAttributes from the Registrar&quot; [action item for brski draft] add a picture for Toerless &#x2F; flow diagram</li><li>We define an Anima&#x2F;brski OID for ACP address to be included in the CSR [action item for ACP&#x2F;anima draft? or **brski** draft]</li><li>Suggest that we whitelist list of OIDs that we anticipate in the CSR. (see lines below &quot;target signaling flow of EST&quot;)</li><ul class="indent"><li>Examples: Indicate the IDevID&#x2F;hardwareModuleName information is to be included</li><ul><ul><ul><ul class="indent"><li>Indicate the ACP address information</li></ul></ul><li><br></li></ul></ul></ul></ul></ul></ul>&nbsp;&nbsp;&nbsp;&nbsp; - Autonomic Domain Address prefix determined by ACP addressing scheme, eg: Registrar-MAC + serial number + N bits for local use by device&nbsp;&nbsp;<br>&nbsp; - Encoding of proposed elements:<br>&nbsp;&nbsp;&nbsp;&nbsp; In NEW fields of the Subject of the Cert<br>&nbsp;&nbsp;&nbsp;&nbsp; NEW fields so that we would not modify the content of any existing fields that the AN domain Cert should have to be useful for any other services.<br>- Signaling of these elements:<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7030&#x23;section&#x2d;4&#x2e;5">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7030#section-4.5</a> ???<br>- Current text: Section 5.1<br>- Target signaling flow of EST:<br>&nbsp;&nbsp;&nbsp; - CSR Attributes request&#x2F;reply<br>&nbsp;&nbsp;&nbsp; - Signing request&#x2F;reply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - content of cert subject:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a) information from IDEVID<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b) information learned (&#x27;requested&#x27;) from CSR Attributes reply<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We want to make sure any future authentication can purely rely on the resulting LDEVID.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Therefore we want to inherit all the IDEVID attributes. (perhaps plus the original authority key identifier as a &quot;vendor key identifier&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Therefore we need to make sure domain attributes (learned from CSR attribute reply)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; will have non-conflicting location (eg: bski-ou=&lt;value&gt; to avoid overloading ou=&lt;value&gt;).<br>&nbsp;&nbsp;&nbsp; - In the absence of an IDEVID (&quot;bad device&quot;, put the following information into the LDEVID:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MODEL: The CSR Attributes tell the client: Do the anima brski defined fixups to no matter what your IDevID looks like<br><ul><ul><ul class="indent"><li>&nbsp;&nbsp;&nbsp; The resulting CSR Request will have everything in the right place as per the Anima specification</li><ul class="indent"><li>The issued LDevID will conform&nbsp;</li></ul></ul></ul></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>- WHere should this text go:<br>&nbsp;&nbsp;&nbsp;&nbsp; Threse are non-security relevant aspects, so we could write them into Bootstrap or into ACP draft.<br>- How would client device know these elements of the Cert:<br>&nbsp;&nbsp;&nbsp; enrolling client device needs to know these elements when forming its Cert to then send it off to RA&#x2F;CA to get it signed.<br>&nbsp;&nbsp;&nbsp; Aka: Need some way for the client to learn these field&#x2F;values.&nbsp;<br>&nbsp;&nbsp;&nbsp; Can EST do this ?<br>&nbsp;&nbsp;&nbsp; Else need to discuss how to get these elements into the Cert.<br><br>2016-03-24 meeting notes:<br>&nbsp;&nbsp;&nbsp; present: Michael Behringer, Toerless, Michael Richardson,&nbsp;<br><br><ul class="indent"><li>discussion: what goes into the certificate?</li><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc4945">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc4945</a>: The Internet IP Security PKI Profile of IKEv1&#x2F;ISAKMP, IKEv2, and PKIX</li><li>and</li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc3779">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc3779</a>: X.509 Extensions for IP Addresses and AS Identifiers</li><li><br></li><li><br></li><li><br></li><li><br></li></ul></ul>2016-03-17 meeting notes:<br>&nbsp;&nbsp;&nbsp; present: max, mcr, kent,<br>&nbsp;&nbsp;&nbsp; hi?<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>2016-03-10 meeting notes:<br>&nbsp;&nbsp;&nbsp; present: max, kent, mcr<br>&nbsp;&nbsp;&nbsp; Discussed open EDNOTEs in the doc and alignment with netconf.&nbsp;<br><br>2016-03-04 meeting notes:<br>&nbsp;&nbsp;&nbsp; has it really been a month?<br><ul class="indent"><li><br></li></ul>2016-02-04 meeting notes:<br><ul class="indent"><li><br></li><li>&nbsp; present: mcr, max, peter, Michael Behringer, Toerless Eckert, Kent Watsen</li><li><br></li><li>max presents flow diagram, text which is &quot;anima flow notes.txt&quot; (want to capture that text file as part of minutes)</li><li><br></li></ul><br>2016-01-28 meeting notes:<br>&nbsp;&nbsp;&nbsp; present: mcr, michael behringer, peter van der stok, Toerless Eckert,&nbsp;<br>&nbsp;&nbsp;&nbsp; meeting was cancelled due to lack of max, and conflicing other meetings<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap">https:&#x2F;&#x2F;tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap</a><br><br>Review of message flow with references capturing previous meeting notes before insertion into draft text. This is what Max will be working on for the next push. This will be emailed by max to the mailing list.<br><br>Bootstrapping flow for anima-bootstrapping-keyinfra-02-pre01<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .+------------------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--------------Drop Ship--------------&gt;.| Vendor Service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .+------------------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .| M anufacturer|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .| A uthorized&nbsp; |Ownership|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .| S igning&nbsp;&nbsp;&nbsp;&nbsp; |Tracker&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .| A uthority&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .+--------------+---------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ..............&nbsp; ^<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; +-------+&nbsp;&nbsp;&nbsp;&nbsp; ............................................|...<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; +------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;---L2---&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;-------+&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; or&nbsp;&nbsp; |&nbsp;&nbsp; Proxy&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Registrar |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;---L3---&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;---L3--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; | New&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; | Entity|&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; +------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----+-----+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------------+----------+&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Domain Certification&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Authority&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; +-------+&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Management and etc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------------------------+&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ................................................<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Domain&quot; components<br><br><br>&nbsp;+---------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+<br>&nbsp;|&nbsp; New&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Proxy&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Vendor&nbsp;&nbsp; |<br>&nbsp;| Entity&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Registrar |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; Service&nbsp; |<br>&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (Internet)|<br>&nbsp;+---------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------+<br><br>New entity boots in CLEAN STATE<br>RFC3927 IPv4 Link-Local Address<br>RFC4862 IPv6 Stateless Address Autoconfiguraion &lt;&#8212; design for this<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --------&gt;<br><br>RFC6763&#x2F;RFC6762 mDNS query&nbsp;<br>*or*&nbsp;<br>ietf-anima-grasp-02 GRASP query<br>Include a paragraph explaining the choice to be made<br><br>&#8220;MAY&#8221; do this but is it not required. Include a paragraph outlining the tradeoff between speed vs exposing the new device.<br>This indicates to the network that this new entity is looking to bootstrap<br>It leaks some information to watchers that the new device is in CLEAN STATE<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;--------<br>&#8220;MUST&#8221; be broadcast periodically w&#x2F;o query<br>RFC6763&#x2F;RFC6762 mDNS broadcast<br>*or*<br>ietf-anima-grasp-02 GRASP broadcast&nbsp;<br>non-query devices can wait to listen for these<br>this response&#x2F;broadcast indicates the local proxy contact information&nbsp;<br><br>(In this flow it is assumed a response&#x2F;broadcast is seen by New Entity. If one is not the NE MAY continue to communicate with a well known cloud based AN proxy. This flow is not detailed here.)&nbsp;<br><br>&nbsp;+---------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;<br>&nbsp;| New&nbsp;&nbsp;&nbsp;&nbsp; |--------&gt;|&nbsp; Proxy&nbsp;&nbsp; |--------&gt;|Registrar |&nbsp;<br><br>(d)TLS established.&nbsp;<br>This is to-be RFC7030 EST with a bootstrapping extension.<br>The New Entity authenticates with IEEE 802.1AR credentials<br>The Domain authenticates with current Domain credentials which the new entity *PROVISIONALLY* accepts.<br>Proxy behavior: discussed in draft-richardson-anima-state-for-joinrouter-00<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;The New Entity MUST use method 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Registrar MUST support method 3&#8221;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HTTP-Proxy method is used and domain MUST support &#8216;CONNECT&#8217; which allows maximum flexibility in proxy implementations<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; including: circuit proxy, napt66, http proxy, CoAP&#x2F;DTLS with relay, HTTP with IPIP tunnel, CoAP&#x2F;DTLS with IPIP tunnel<br>MCR to bring over the conclusion and justification but leave the analysis via reference to his draft.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Registrar |&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Verify 802.1AR credential against white list?&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Extract MASA server information from 802.1AR credential extensions&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; see: MUD extension.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If they don&#8217;t exist the registrar needs to be configured appropriately<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCR has additional notes about what goes into the certificate. Create a section in the doc for discussing this.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPTIONAL: MASA *or* NETCONF ownership voucher flow<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--------+&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Registrar |--------&gt;| Vendor MASA<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HTTPS REST API *also defined EST extensions*<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The 802.1AR ID is forwarded (not proved)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Domain ID is forwarded&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Short story: Signed proof of Registrar of unknown domain. Domain auth only for DoS protection.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPTIONAL: Verify Domain&#x2F;NE pairing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log ownership claim<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Longer story:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nonce based<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this exchange MAY occur out-of-band&#x2F;prior to deployment (nonce-less)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--------+&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Registrar |&lt;--------| Vendor MASA<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Return proof of logging<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Return audit log information<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPTION: &#8220;ownership voucher&#8221; instead of log based<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Registrar |&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Verify logged information, still accept?&gt;<br><br><br>&nbsp;+---------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;<br>&nbsp;| New&nbsp;&nbsp;&nbsp;&nbsp; |&lt;--------|&nbsp; Proxy&nbsp;&nbsp; |&lt;--------|Registrar |&nbsp;<br><br>Log&#x2F;ownership voucher information returned via EST extension<br>New Entity now checks the previously accepted *PROVISIONAL* domain certs&nbsp;<br><br>&lt;all ok?&gt;<br><br><br>&nbsp;+---------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;<br>&nbsp;| New&nbsp;&nbsp;&nbsp;&nbsp; |--------&gt;|&nbsp; Proxy&nbsp;&nbsp; |--------&gt;|Registrar |&nbsp;<br><br><br>Continue with off the shelf EST:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; request CA certs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Move from provisional to authenticated EST, as defined is RFC7030<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; request client cert<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Registrar&nbsp; acts as off the shelf RA&gt;&nbsp;<br>&nbsp;+---------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------+&nbsp;<br>&nbsp;| New&nbsp;&nbsp;&nbsp;&nbsp; |&lt;--------|&nbsp; Proxy&nbsp;&nbsp; |--------&gt;|Registrar |&nbsp;<br><br>LDevID installed on device<br><br>Now fire up (secured) GRASP and ACP<br><br><br>=========<br><br>CoAP support:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Describe how to use block transfer *draft* for EST. That would enable this use of EST to work over dTLS&#x2F;CoAP.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Do this as a new document. Potentially for anima or core working group? This would only work if the core document proceeds.&nbsp;&nbsp;&nbsp;&nbsp;<br><br><br>2016-01-21 meeting notes:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; present: mcp, mcr, michael behringer,&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; discussing draft-richardson-anima-state-for-joinrouter-00<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; on client (new node): the three options (method 1&#x2F;2&#x2F;5 HTTP, method 3 HTTP-Proxy, method 4&#x2F;6 CoAP) can be&nbsp;<br>&nbsp;&nbsp;&nbsp; reduced to HTTP-proxy, CoAP)<br>&nbsp;&nbsp;&nbsp; by insisting that the registrar supports the HTTP CONNECT method (to itself), and mandate that the<br>&nbsp;&nbsp;&nbsp; new node *ALWAYS* sends an HTTP CONNECT, even if the Join Router is really a circuit proxy&#x2F;NAT66.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>The new entity MUST use method 3</li><li>The Registrar MUST support method 3</li><ul class="indent"><li>when it gets a connection through an http proxy it won&#x27;t see the CONNECT but all&nbsp;</li><li>else is the same. Likely on a distinct port (not 80 or 443) so that it can&nbsp;</li><li>seamlessly start in the clear (for the CONNECT) and then move to (d)TLS</li></ul><li>The Joining Node is therefore free to be implemented using any of the other methods</li></ul><br><ul class="indent"><li>This leaves the option of (d)TLS or TLS still available. (with lack of TCP features in (d)TLS still an open issue). Potentially this could be addressed by:</li><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;core&#x2d;block&#x2d;18">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-core-block-18</a></li></ul><li>This would be reasonably possible to implement under an &quot;off the shelf&quot; registrar (running EST HTTP&#x2F;TLS) assuming the client RA method or the client authentication is forwarded.&nbsp;</li><li>or via a protocol like &quot;UWSGI&quot; (<a href="https&#x3a;&#x2F;&#x2F;uwsgi&#x2d;docs&#x2e;readthedocs&#x2e;org&#x2F;en&#x2F;latest&#x2F;&#x29;">https:&#x2F;&#x2F;uwsgi-docs.readthedocs.org&#x2F;en&#x2F;latest&#x2F;)</a>&nbsp;</li><li><br></li><li>Brian&#x27;s concern on list was &quot;</li><li>Which means that low end devices will end up carrying a load of software</li><li>they don&#x27;t really need,&quot; to which MCR notes &quot;which is why I&#x27;d like for the MTI to be over CoAP&#x2F;DTLS&quot; using</li><li>the core-block approach for large msgs.&nbsp;</li></ul><br>2016-01-12 meeting notes<br>&nbsp; present: mcp, mcr, kent watson, toerless, michael behringer<br>&nbsp;&nbsp;<br>&nbsp; review action items and meeting notes from last week.&nbsp;<br><ul class="indent"><li>&nbsp; optimization options dismissed: lets worry about optimizing later</li><li><br></li></ul>&nbsp; start discussion DoS scenario wrt to state on the proxy. reviewed notes from last week.<br>&nbsp; continued discussion on potential DoS during deployment.<br>&nbsp; statement: the proxy can be DoS&#x27;d. So long as this doesn&#x27;t DoS the registar we are fine.<br>&nbsp; After DoS is complete the nodes should continue to bootstrap.<br>&nbsp; &quot;we want the proxy to fall over and protect the registrar&quot;<br>&nbsp; &quot;we want the proxy to protect valid clients (e.g. do on an per interface)&quot;<br>&nbsp;&nbsp;<br>&nbsp; discusion is leaning toward some state on the proxy to &quot;distribute&quot; the state rather than&nbsp;<br>&nbsp; putting that load on the registrar. if a particular proxy implementation can&#x27;t handle the&nbsp;<br>&nbsp; state then proprietary&#x2F;extensions can be used to move the state to a more capable node<br>&nbsp; but the bootstrapping protocol doesn&#x27;t need to define this.<br><br>discussion: DTLS (size over UDP) questions<br><ul class="indent"><li>one principle: the proxy only forwards packets and not proxy the entire protocol</li><li>(thus proxy can use udp or tcp without significant modification)</li></ul><br><ul class="indent"><li>one option: we define a TLS&#x2F;tcp only solution to start with and do DTLS&#x2F;udp (e.g. coap) later.</li><li>another option: a proxy could do DTLS&#x2F;udp&#x2F;coap to TLS&#x2F;tcp? A: not possible w&#x2F;o being involved in the crypto layer and we don&#x27;t want to do this.</li><li><br></li><li>do a new version of the draft w&#x2F; text explaining that udp&#x2F;dtls&#x2F;etc are outside the scope of the current document but that &quot;we forsee the potential need for different transport for contrained devices&quot; our requirements include packet loss, reordering and message size such as is provided by tcp.&nbsp;</li><li>for next ietf: explain the possible need: solicite help providing text if any constained device folks feel this is appropraitely in scope.&nbsp;</li></ul><br>2016-01-07 meeting notes<br>&nbsp;&nbsp; notes from 2015-12-17 not yet written up<br>&nbsp;&nbsp; present: mcr, mcp, peter van der stok<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; review action items (swap in after the break):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max: Try to align the Manditory to Implemenet parts of the components we need, anima bootstrapping, netconf&#x2F;zerotouch...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mcr to write up considerations for joining router and state.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Next steps:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocol stack &#x2F; was derailed on DTLS (size over UDP) questions</li></ul><br><ul class="indent"><li>One approach: what service does the proxy node provide? Is the currently defined &quot;just proxy packets&quot; sufficient or ...? [mcr&#x27;s action item was to think about this more]&nbsp;</li><li><br></li><li>Discussion: What about DoS attacks and&#x2F;or what happens when the system is overloaded (large bringup)</li><ul class="indent"><li>* need to resist DoS caused problems</li><li>* need to succeed even when a large bringup causes an overloaded proxy&#x2F;registar that takes a long time to service all the connections</li></ul><li>&nbsp;&nbsp;&nbsp; &quot;Service temporarily overloaded 502&quot;&nbsp; or &quot;10.4.9 408 Request Timeout&quot; [ <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc2324">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc2324</a> ]</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 429 Too Many Requests (RFC 6585)&nbsp; -- The user has sent too many requests in a given amount of time. Intended for use with rate limiting schemes.[61]</li><li>503 service uanavailable, try later.</li><li>Why not delay discovery? proxy only returns some per time unit.</li><ul class="indent"><li>This needs to work both ways: the New Element needs to &quot;give up&quot; on the proxy&#x2F;registrar (rather than allowing itself to be locked into a constantly delaying proxy).&nbsp;</li><li>ACTION: Need to clarify how&#x2F;when the new device state circles back to the beginning. With backoff? This would be Figure 3 and s3.1.3. (needs &quot;no response&quot; transition)</li><li>OPTIMIZATION POSSIBILITY: Are there some responses that causes the NE to stop contacting that responder?</li><li><br></li></ul></ul>Discussions on how to minimize state on the proxy:<br>&nbsp;&nbsp;&nbsp; ip in ip tunneling as a solution?&nbsp; If specified correctly, this may have no visible impact on the New Entity, and be a private &quot;proxy&#x2F;registrar&quot; protocol. [allowing a high state proxy or a low state proxy depending on implementation experience]&nbsp;<br>Outgoing packets:&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; pledge&#x2F;NewEntity has: TCP [me -&gt; registrar&#x27;] {routed to proxy&#x2F;Join Assistant&#x2F;Router}&nbsp;<br>&nbsp;&nbsp; proxy, encapsulates IP[proxy,registrar] IP[me,registrar&#x27;] TCP.<br>&nbsp;&nbsp;&nbsp;<br><br>Incoming packets:&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; registary sends: IP[registar,proxy] IP[registar&#x27;, me] TCP.&nbsp; [but, if me is link-local, IPIP may not provide for if_index to send packet, me might have to be ULA; this would be a problem because the same addr could be on multiple interfaces]<br>&nbsp;&nbsp; pledge&#x2F;NewEntity has: TCP [me -&gt; registrar&#x27;] {routed to proxy&#x2F;Join Assistant&#x2F;Router}<br>&nbsp;&nbsp; proxy, encapsulates IP[proxy,registrar] IP[me,registrar&#x27;] TCP.<br>This would move extra complexity to the registrar but minimizes state on the proxy (if it works).&nbsp;<br>ACTION: Need toerless or michaelB to help understand the capabilities of proxies&#x2F;registars in expected use cases.<br>ACTION: MCR to write this up for detailed discussion.<br><br>2015-12-17 meeting notes<br><ul class="indent"><li>Present: mcr, Carsten, Robert Cragie</li><li><br></li><li>We have an agreed discovery ordering of A,B,C from below hopefully enabling parallelism</li><li>[webex says service unavailable. dialing]</li><li>Todays call: protocol stacking&nbsp; --- how&#x2F;where to do the EST</li><ul class="bullet"><li>do not depend (run inside) ACP or GRASP for bootstrapping.</li><li>complexity of defining a non-secure mode for GRASP is motivator</li><li><br></li></ul><li>carsten: lets see a more detailed writeup on using mDNS than what is currently in the doc. specifically:</li><ul class="indent"><li>what does a request message look like</li><li>what does the response look like. what is the language around unsolicited responses [re: toerless&#x27;s points].</li><li>the defined name of the service.&nbsp;</li><li>the complexity of the state machine, maybe some idea of the overall complexity of implementation</li></ul></ul>&nbsp;&nbsp; Max: Try to align the MTI parts of the components we need, anima bootstrapping, netconf&#x2F;zerotouch...<br><br><ul class="indent"><li><br></li></ul>from the existing doc:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. Performs DNS-based Service Discovery [RFC6763] over<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Multicast DNS [RFC6762] searching for the service<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;_bootstrapks._tcp.local.&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; or &quot;_bootstrapks._udp.local.&quot; if we&#x27;re doing dtls (using Thread-like RLY_RX CoAP relay, cf: <a href="http&#x3a;&#x2F;&#x2F;threadgroup&#x2e;org&#x2F;Portals&#x2F;0&#x2F;documents&#x2F;whitepapers&#x2F;Thread&#x25;20Commissioning&#x25;20white&#x25;20paper&#x5f;v2&#x5f;public&#x2e;pdf">http:&#x2F;&#x2F;threadgroup.org&#x2F;Portals&#x2F;0&#x2F;documents&#x2F;whitepapers&#x2F;Thread%20Commissioning%20white%20paper_v2_public.pdf</a> figure 11)<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. Performs DNS-based Service Discovery [RFC6763] over normal<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DNS operations.&nbsp; In this case the domain is known so the service<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; searched for is &quot;_bootstrapks._tcp.localexample.com&quot;. [mcr: discovering a local domain&#x2F;dhcp-v4-search-path is deprecated]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [so for now drop this language]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3. MAY: If no local bootstrapks service is located using the DNS-<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; based Sevice Discovery methods the New Entity contacts a well<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; known vendor provided bootstrapping server by perfoming a DNS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lookup using a well known URI such as &quot;bootstrapks.vendor-<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example.com&quot;.<br><br>How do we run EST. Over a &quot;TLS&quot;-like thing. DTLS does not provide fragmentation.<br>One could run this over CoAP instead of HTTP, but there is no fragmentation provided by DTLS or CoAP, unless ??<br><ul class="indent"><li>DTLS does fragmentation and reassembly of DTLS *handshake*, but not for data, and we know that the certificate that will be sent through the channel could easily exceed 1280 bytes.</li><li>Agree that any certificates carried in application data may need to be able to be sent fragmented. CoAP has block mechanism which could be used</li><li><br></li></ul>In the {,D}TLS handshake what certificates are exchanged (based on the cipher suite):<br><ul class="bullet"><li>ClientCertificate (new device) contains 802.1AR IDevID certificate (chain?)</li><li>ServerCertificate (domain registrar) contains Domain CA, which must be provisionally accepted by the new device, but not trusted until further in the protocol.</li><ul class="bullet"><li>MASA reply (which new device can authenticate) would contain a signed hash-of-Domain-CA-key</li></ul></ul><br>Worth looking at Smart Energy Protocol 2 and ZigBee IP, which did authentication based on 802.1AR IDevID certificates through TLS and PANA&#x2F;EAP&#x2F;EAP-TLS respectively.<br><ul class="indent"><li>Can you reference section of these?</li></ul>SEP2 is not public but is available FOC from ZigBee. You have to check a T&amp;C acceptance box: <a href="http&#x3a;&#x2F;&#x2F;www&#x2e;zigbee&#x2e;org&#x2F;zigbee&#x2d;for&#x2d;developers&#x2F;applicationstandards&#x2F;zigbeesmartenergy&#x2F;">http:&#x2F;&#x2F;www.zigbee.org&#x2F;zigbee-for-developers&#x2F;applicationstandards&#x2F;zigbeesmartenergy&#x2F;</a>. Section 8 is the relevant section.<br><ul class="indent"><li><br></li></ul>Large data that is sent over the data channel:<br><ul class="indent"><li>client certificate request</li><li>client certificate response&nbsp;</li><li>server authoriziation statment (MASA response&#x2F;zeroconf ownership voucher): CAN be small but signed so might be large</li><li>actual CA certificate that roots the chain: in EST this is the &#x2F;cacert response&#x27;</li><li><br></li></ul>ACTION: mcr to write up considerations for joining router and state.<br><br><br>2015-12-10 meeting notes:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; [PLEASE add your OWN NAME]</li><li>&nbsp;&nbsp;&nbsp; present: Max Pritikin, Carsten Bormann, Michael Richardson (mcr),&nbsp;</li><li>&nbsp;&nbsp;&nbsp; absent: WebEX phone system</li><ul class="indent"><li>&nbsp; system starting working at 11:17.</li></ul></ul><br><br>Device bring-up ordering:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>MUST: Obtains a link local address using IPv6 methods&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>mechanism A - To address the security point made by Toerless on thread about new device behavior:<br>Domain MUST periodicaly broadcast the discovery response (via either mDNS or GRASP or anycast (MCR) or router advertisement [RFC4861?]) every &quot;timeout&quot;<br>New entity MAY request a discovery response (for timing reasons)<br>After &quot;timeout&quot; new device MUST a request discovery response before contacting DNS [step6]<br>NOTE: the response might imply that you need to get a global address to proceed<br><br>mechanism [intermediate] - MAY: obtain a global IPv4&#x2F;IPv6 address<br><ul class="indent"><li>&nbsp;mcr: depends on if the device can get a global ip address (if it CAN get an address then its unlikely that it&#x27;s in a high-security, highly controlled environment)</li></ul><br>mechanism B - MAY: use DHCP response or local DNS to find a local proxy<br><ul class="indent"><li>will want recommended DHCP options, and local DNS name information</li><li><br></li></ul>mechanism C - MAY: do DNS discovery to find a well-known global server (depends upon global reachability)<br><br>Can we run (A,B,C) in parallel?<br><ul class="indent"><li>Toerless: can we prefer choice #1</li><ul><ul><ul><ul class="indent"><li>can we do so quickly</li></ul></ul></ul></ul></ul>&nbsp;&nbsp; max: Sounds like device choice. lets see how the language works.&nbsp;<br><br>Toerless points out that section3.1 needs a review to ensure that there isn&#x27;t an infinite loop in the state machine wrt a proxy that fails but is attempting to provide bootstrapping. Does the client try again (forever) or move on to the next proxy (providing a DoS opportunity)?&nbsp;<br><br>Are we having the &quot;protocol stack alignment &quot; discussion now? [because I&#x27;m not sure what that discussion is, and I want to know if this is what this is about]<br><br>Reasons:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) want to avoid ACP involvedment in bootstrap as REQUIREMENT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) want to avoid running GRASP insecurely on the link.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br><br><br>2015-12-03 meeting notes:<br>&nbsp;&nbsp;&nbsp; present: Michael Richardson, Peter van der Stok, Carsten, Michael Behringer, Max Pritikin, Toerless, Robert Cragie<br><br>Next work items include:<br>&nbsp;&nbsp;&nbsp; protocol stack alignment (bootstrap, GRASP, ACP)<br>&nbsp;&nbsp;&nbsp; discovery method(s)<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Current text of section 3.1.1 (with modifications here)<br>&nbsp;&nbsp; 1.&nbsp; MUST: Obtains a link local address using either IPv4 or IPv6 methods<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as described in [[EDNOTE: we need a reference:]].<a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc3927">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc3927</a>: Dynamic Configuration of IPv4 Link-Local Addresses<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; only ipv6 link local (not ipv4)</li><li>reorder to #1</li></ul><br>&nbsp;&nbsp; 2.&nbsp; MUST: Attempt to establish a D&#x2F;TLS connection to the next hop<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; neighbor at a well known AN port building on the [[EDNOTE: AN<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; node discovery discussion, need a reference??]].&nbsp; [Toerless to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; provide updated text]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reorder to #??<br><br>&nbsp;&nbsp; 3.&nbsp; MUST: unsecured-GRASP as a link local discovery method?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Toerless to provide updated text]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reorder to #4<br><br>&nbsp;&nbsp; 4.&nbsp; MAY: Performs DNS-based Service Discovery [RFC6763] over<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Multicast DNS [RFC6762] searching for the service<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;_bootstrapks._tcp.local.&quot;</li><ul class="indent"><li>reorder to #2.</li><li><br></li></ul></ul>MCR suggests &quot;anycast&quot; here as an alternative to mDNS or GRASP. [ref: RFC4786? RFC7094?]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc2526">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc2526</a> and <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc4291">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc4291</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; argument in favor of mDNS: the complexity addresses real problems that must be addressed for consistent operations. This might be a question for the GRASP document.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toerless is worried about the multiple DNS operations (chasing PTR records: the DNS-SD complexity)<br><ul><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp; There are priority and additional information that could be included in the response. Are these necessary&#x2F;useful?</li><li><br></li><ul><ul class="indent"><li>if we can peel out just hte discovery portion of GRASP and use it here we might reduce total code size for implementations that are implementing AN but not mDNS.</li><li>(this implies running some of GRASP before ACP is up and running)</li></ul></ul></ul></ul><br>&nbsp;&nbsp; 5.&nbsp; MAY: Performs DNS-based Service Discovery [RFC6763] over normal<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DNS operations.&nbsp; In this case the domain is known so the service<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; searched for is &quot;_bootstrapks._tcp.example.com&quot;.<br><br>&nbsp;&nbsp; 6.&nbsp; MAY: If no local bootstrapks service is located using the DNS-<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; based Sevice Discovery methods the New Entity contacts a well<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; known vendor provided bootstrapping server by perfoming a DNS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lookup using a well known URI such as &quot;bootstrapks.vendor-<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example.com&quot;.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; tls vs dtls issues<br>&nbsp;&nbsp;&nbsp; device identifier discussion (what goes into the cert issued)<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Move on to:<br><ul class="indent"><li>1. PROTOCOL STACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2015-12-10.</li><li>2. DISCOVERY MECHANISM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2015-12-17.</li></ul><br><br><br><br></body>
</html>
