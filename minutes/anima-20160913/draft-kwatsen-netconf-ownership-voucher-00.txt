



NETCONF Working Group                                          K. Watsen
Internet-Draft                                          Juniper Networks
Intended status: Standards Track                             M. Pritikin
Expires: March 17, 2017                                    M. Richardson
                                                                   Cisco
                                                      September 13, 2016


             Ownership Vouchers for Bootstrapping Protocols
                draft-kwatsen-netconf-ownership-voucher

Abstract

   This document defines an artifact called the "ownership voucher".
   The ownership voucher is generated by the device's manufacture, or a
   delegate of the manufacturer.  An ownership voucher's purpose is to
   assign one or more devices to an "owner".  The ownership voucher
   informs each device which entity it should consider to be its
   rightful owner.

Editorial Note (To be removed by RFC Editor)

   This draft contains many placeholder values that need to be replaced
   with finalized values at the time of publication.  This note
   summarizes all of the substitutions that are needed.  Please note
   that no other RFC Editor instructions are specified anywhere else in
   this document.

   This document contains references to other drafts in progress, both
   in the Normative References section, as well as in body text
   throughout.  Please update the following references to reflect their
   final RFC assignments:

   o  ...

   Artwork in this document contains shorthand references to drafts in
   progress.  Please apply the following replacements:

   o  "XXXX" --> the assigned RFC value for this draft

   Artwork in this document contains placeholder values for the date of
   publication of this document.  Please apply the following
   replacement:

   o  "2016-09-13" --> the publication date of this draft

   The following one Appendix section is to be removed prior to
   publication:



Watsen, et al.           Expires March 17, 2017                 [Page 1]

Internet-Draft             Ownership Vouchers             September 2016


   o  Appendix A.  Change Log

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 17, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  Ownership Voucher Format  . . . . . . . . . . . . . . . . . .   4
     2.1.  Overview  . . . . . . . . . . . . . . . . . . . . . . . .   4
     2.2.  Examples  . . . . . . . . . . . . . . . . . . . . . . . .   4
     2.3.  YANG Module . . . . . . . . . . . . . . . . . . . . . . .   4
   3.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
     4.1.  The IETF XML Registry . . . . . . . . . . . . . . . . . .   7
     4.2.  The YANG Module Names Registry  . . . . . . . . . . . . .   7
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   7



Watsen, et al.           Expires March 17, 2017                 [Page 2]

Internet-Draft             Ownership Vouchers             September 2016


     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   8
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   8
   Appendix A.  Change Log . . . . . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   This document defines a strategy to assign devices to an owner, using
   an artifact signed, directly or indirectly, by the device's
   manufacturer.  This artifact is known as the ownership voucher.

   An ownership voucher may be useful in several contexts, but the
   driving motivation herein is to support secure bootstrapping
   mechanisms, such as are defined in [draft-ietf-netconf-zerotouch] and
   [draft-ietf-anima-bootstrapping-keyinfra].  With these mechanisms,
   assigning ownership is important so that the booting device can
   authenticate the network that's trying to take control of it.

   When processing an ownership voucher, devices must first authenticate
   the ownership voucher, by verifying that the signature over it was
   generated by an entity the device trusts by default (e.g., the
   device's manufacturer or delegate).  How this is done is described in
   future sections.

   An ownership voucher can contain a number of fields, but it must at
   least contain the identifier of the owner the device is being
   assigned to.  Having an assigned owner, the device is able to
   establish secure connections to its owner's network infrastructure
   (e.g., a controller).

   This document uses YANG [RFC7950] to define the format for the
   ownership voucher format.  YANG is a data modeling language with
   established mappings to XML and JSON, with mappings to other
   encodings in progress.  Which encodings a particular solution uses is
   specified by the particular solution.  This document presents
   examples in both XML and JSON for completeness only.

1.1.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in the
   sections below are to be interpreted as described in RFC 2119
   [RFC2119].








Watsen, et al.           Expires March 17, 2017                 [Page 3]

Internet-Draft             Ownership Vouchers             September 2016


2.  Ownership Voucher Format

2.1.  Overview

   The following tree diagram provides an overview of the ownership
   voucher.  Please see below the diagram for information on its
   notation.

   module: ietf-ownership-voucher
      +--rw voucher
         +--rw assertion          enumeration
         +--rw owner-id           string
         +--rw unique-id*         string
         +--rw created-on         yang:date-and-time
         +--rw expires-on?        yang:date-and-time
         +--rw nonce?             string
         +--rw additional-data?

   The meaning of the symbols in the above diagram is as follows:

   o  Brackets "[" and "]" enclose list keys.

   o  Braces "{" and "}" enclose feature names, and indicate that the
      named feature must be present for the subtree to be present.

   o  Abbreviations before data node names: "rw" (read-write) represents
      configuration data and "ro" (read-only) represents state data.

   o  Symbols after data node names: "?" means an optional node, "!"
      means a presence container, and "*" denotes a list and leaf-list.

   o  Parentheses enclose choice and case nodes, and case nodes are also
      marked with a colon (":").

   o  Ellipsis ("...") stands for contents of subtrees that are not
      shown.

2.2.  Examples

2.3.  YANG Module

  module ietf-ownership-voucher {
    yang-version 1.1;

    namespace
      "urn:ietf:params:xml:ns:yang:ietf-ownership-voucher";
    prefix "ov";




Watsen, et al.           Expires March 17, 2017                 [Page 4]

Internet-Draft             Ownership Vouchers             September 2016


    import ietf-yang-types { prefix yang; }

    organization
     "IETF NETCONF (Network Configuration) Working Group";

    contact
     "WG Web:   <http://tools.ietf.org/wg/netconf/>
      WG List:  <mailto:netconf@ietf.org>
      Author:   Kent Watsen
                <mailto:kwatsen@juniper.net>
      Author:   Max Pritikin
                <mailto:pritikin@cisco.com>
      Author:   Michael Richardson
                <mailto:mcr+ietf@sandelman.ca>";

    description
     "This module defines the format for an ownership voucher,
      which is produced by manufacturers to assign a device to an
      'owner', so that it may establish secure connections to the
      owner's network infrastructure (e.g., controller).";

    revision "2016-09-13" {
      description
       "Initial version";
      reference
       "RFC XXXX: Ownership Vouchers for Bootstrapping Protocols";
    }

    // top-level container
    container voucher {
      description
        "A voucher, containing an owner's identifier, a list of
         device's unique identifiers, and potentially some other
         fields described herein.  The voucher must be signed,
         but each solution using this voucher needs to specify
         how the signature is generated and communicated.";

      leaf assertion {
        mandatory true;
        type enumeration {
          enum verified {
            description "fixme";
          }
          enum logged {
            description "fixme";
          }
        }
        description



Watsen, et al.           Expires March 17, 2017                 [Page 5]

Internet-Draft             Ownership Vouchers             September 2016


          "The assertion is a statement from the manufacturer that it
           knows the device by looking into a database or by simply
           adding a log entry (open bootstrapping).  This allows the
           device to know what assurance the manufacturer provides,
           which supports more detailed policy checks such as 'I only
           want to allow verified devices, not just logged devices'.";
      }

      leaf owner-id {
        type string;
        mandatory true;
        description
          "A manufacturer-assigned value for the owner of the
           devices enumerated by this voucher.";
      }

      leaf-list unique-id {
        type string;
        min-elements 1;
        description
          "A regular expression identifying one more more device
           unique identifiers.  For instance, the expression could
           match just a single serial number, or it might match a
           range of serial numbers.  Devices use this value to
           determine if the voucher applies to it.";
      }

      leaf created-on {
        type yang:date-and-time;
        mandatory true;
        description
          "The date this voucher was created";
      }

      leaf expires-on {
        type yang:date-and-time;
        description
          "An optional date value for when this voucher expires.
           In order for the expiration to be honored, devices must
           have access to a trusted real time clock.";
      }

      leaf nonce {
        type string;  // unit64?
        description
          "what can be said about this that's ANIMA-neutral?";
      }




Watsen, et al.           Expires March 17, 2017                 [Page 6]

Internet-Draft             Ownership Vouchers             September 2016


      anydata additional-data {
        description
          "Additional data signed by the manufacturer.  The manufacturer
           might put additional data into its vouchers, for human
           consumption or for device-consumption, for their devices
           only. [Ed. or is this per RFC standards, should we use YANG
           'augment' instead?].";
      }

    }
  }

3.  Security Considerations

4.  IANA Considerations

4.1.  The IETF XML Registry

   This document registers one URI in the IETF XML registry [RFC3688].
   Following the format in [RFC3688], the following registration is
   requested:

      URI: urn:ietf:params:xml:ns:yang:ietf-ownership-voucher
      Registrant Contact: The NETCONF WG of the IETF.
      XML: N/A, the requested URI is an XML namespace.

4.2.  The YANG Module Names Registry

   This document registers one YANG module in the YANG Module Names
   registry [RFC6020].  Following the format defined in [RFC6020], the
   the following registration is requested:

      name:         ietf-ownership-voucher
      namespace:    urn:ietf:params:xml:ns:yang:ietf-ownership-voucher
      prefix:       ztbs
      reference:    RFC XXXX

5.  Acknowledgements

   The authors would like to thank for following for lively discussions
   on list and in the halls (ordered by last name):

6.  References








Watsen, et al.           Expires March 17, 2017                 [Page 7]

Internet-Draft             Ownership Vouchers             September 2016


6.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC6020]  Bjorklund, M., Ed., "YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)", RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              <http://www.rfc-editor.org/info/rfc6020>.

   [RFC7950]  Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
              RFC 7950, DOI 10.17487/RFC7950, August 2016,
              <http://www.rfc-editor.org/info/rfc7950>.

6.2.  Informative References

   [draft-ietf-anima-bootstrapping-keyinfra]
              Pritikin, M., Richardson, M., Behringer, M., and S.
              Bjarnason, "Bootstrapping Key Infrastructures", draft-
              ietf-anima-bootstrapping-keyinfra (work in progress),
              2016, <https://tools.ietf.org/html/draft-ietf-anima-
              bootstrapping-keyinfra>.

   [draft-ietf-netconf-zerotouch]
              Watsen, K. and M. Abrahamsson, "Zero Touch Provisioning
              for NETCONF or RESTCONF based Management", draft-ietf-
              netconf-zerotouch (work in progress), 2016,
              <https://tools.ietf.org/html/draft-ietf-netconf-
              zerotouch>.

   [RFC3688]  Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
              DOI 10.17487/RFC3688, January 2004,
              <http://www.rfc-editor.org/info/rfc3688>.
















Watsen, et al.           Expires March 17, 2017                 [Page 8]

Internet-Draft             Ownership Vouchers             September 2016


Appendix A.  Change Log

Authors' Addresses

   Kent Watsen
   Juniper Networks

   EMail: kwatsen@juniper.net


   Max Pritikin
   Cisco

   EMail: pritikin@cisco.com


   Michael Richardson
   Cisco

   EMail: mcr+ietf@sandelman.ca































Watsen, et al.           Expires March 17, 2017                 [Page 9]
