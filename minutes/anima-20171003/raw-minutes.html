<!doctype html>
<html lang="en">
<head>
<title>anima-boostrapping</title>
<meta name="generator" content="Etherpad">
<meta name="author" content="Etherpad">
<meta name="changedby" content="Etherpad">
<meta charset="utf-8">
<style>
* {
  font-family: arial, sans-serif;
  font-size: 13px;
  line-height: 17px;
}
ul.indent {
  list-style-type: none;
}
ol {
  list-style-type: none;
  padding-left: 0;
}
body > ol {
  counter-reset: first second third fourth fifth sixth seventh eigth ninth tenth eleventh twelth thirteenth fourteenth fifteenth sixteenth;
}
ol > li:before {
  content: counter(first) ". ";
  counter-increment: first;
}
ol > ol > li:before {
  content: counter(first) "." counter(second) ". ";
  counter-increment: second;
}
ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) ". ";
  counter-increment: third;
}
ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) ". ";
  counter-increment: fourth;
}
ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) ". ";
  counter-increment: fifth;
}
ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) ". ";
  counter-increment: sixth;
}
ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) ". ";
  counter-increment: seventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) ". ";
  counter-increment: eigth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) ". ";
  counter-increment: ninth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) ". ";
  counter-increment: tenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) ". ";
  counter-increment: eleventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) ". ";
  counter-increment: twelth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) ". ";
  counter-increment: thirteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) ". ";
  counter-increment: fourteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) ". ";
  counter-increment: fifteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) "." counter(sixthteenth) ". ";
  counter-increment: sixthteenth;
}
ol {
  text-indent: 0px;
}
ol > ol {
  text-indent: 10px;
}
ol > ol > ol {
  text-indent: 20px;
}
ol > ol > ol > ol {
  text-indent: 30px;
}
ol > ol > ol > ol > ol {
  text-indent: 40px;
}
ol > ol > ol > ol > ol > ol {
  text-indent: 50px;
}
ol > ol > ol > ol > ol > ol > ol {
  text-indent: 60px;
}
ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 70px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 80px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 90px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 100px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 110px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 120px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 130px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 140px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 150px;
}

</style>
</head>
<body>
WEEKLY INVITE, SEE ANIMA BOOTSTRAP WIKI: <a href="https&#x3a;&#x2F;&#x2F;trac&#x2e;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap">https:&#x2F;&#x2F;trac.tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap</a>&nbsp; draft is always at: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;04">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-04</a><br><br>NOTE NOTE NOTE: BRSKIEtherpad<br>Current and most recent meeting notes are added to the BOTTOM of this document.<br>The reason for this is so that we can consistently refer to line number and have them stay (mostly) the same as we add newlines. If Etherpad offered a feature for numbering from the bottom we could dispense with the pain of scrolling to the bottom of the document but:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; History can now be found at: <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;concise&#x2F;minutes&#x2F;anima&#x2d;20170502&#x2F;anima&#x2d;bootstrap&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;concise&#x2F;minutes&#x2F;anima-20170502&#x2F;anima-bootstrap.txt</a><br><br>Pre IETF99 notes removed from etherpad.<br><br>2017-07-25:<br>&nbsp;&nbsp;&nbsp; present: kent, mcr, max, toerless,<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; BRSKI will import the YANG voucher model, and will refine it to produce a voucherrequest.<br>&nbsp;&nbsp;&nbsp; Discussion about whether or not YANG 1.1 deprecated&#x2F;discouraged use of refine.<br>&nbsp;&nbsp;&nbsp; No, this was &quot;deviation&quot;, not refine. [see <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netmod&#x2d;rfc6087bis&#x2d;13">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netmod-rfc6087bis-13</a>]<br>&nbsp;&nbsp;&nbsp; ACTION: Kent to produce some suggested text for the &#x27;voucher request&#x27; so we can evaluate<br><br>&nbsp;&nbsp;&nbsp; Voucher request dsicussion is targeted for BRSKI document. If it is unweildy&#x2F;complex beyond reason then we would make the voucher doc address. But generally: our goal is to allow voucher document to proceed (not hold it up!) and get BRSKI<br>&nbsp;&nbsp;&nbsp; finalized asap afterward. This may not be globally ideal but it is a local ideal.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; <s>TOPIC from MCR: freshness in nonce and PoP in voucherrequest.</s><br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; concern that nonce in voucher request may be &quot;stale&quot; --- that it could be captured and then repeated.</li><ul class="indent"><li>&nbsp; proximity tries to assert that the registry and pledge are near each other.</li></ul></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We believe that the VR being signed by the same identity as the TLS Client Certificate.<br><br><ul><ul class="indent"><li>The MASA verifies that the Registrar making the claim is the same registrar that the pledge sees. This ensures that the asokan etc attack is not occuring. It is not a freshness check.</li><li>What is verified is: The pledge and the MASA are seeing the same registrar.&nbsp;</li><li>ACTION: mcr to write up concern for security considerations, and to explain why the above solves the problem.</li><li>&quot;&nbsp;&nbsp; pinned-domain-cert:&nbsp; In a Pledge voucher request this is the</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrar certificate as extracted from the TLS handshake (for</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example the first certificate in the TLS &#x27;certificate_list&#x27;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sequence (see [RFC5246]).&nbsp; This MUST be populated in a Pledge&#x27;s</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher request if the &quot;proximity&quot; assertion is populated.&quot;</li></ul></ul><br><br>&nbsp;&nbsp;&nbsp; TOPIC from Max: lets discuss &#x27;proxy&#x27; and Lp (as per thread)<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;ietf&#x2e;org&#x2F;mail&#x2d;archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02857&#x2e;html">https:&#x2F;&#x2F;www.ietf.org&#x2F;mail-archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02857.html</a></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;ietf&#x2e;org&#x2F;mail&#x2d;archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02862&#x2e;html">https:&#x2F;&#x2F;www.ietf.org&#x2F;mail-archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02862.html</a></li><li>&nbsp;&nbsp;&nbsp; ACTION: mcr to write up the Proxy tells the Registrar what the LxX is&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vs:&nbsp; the Registrar tells the Proxy what LxR to use</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vs:&nbsp; the Registrar has multiple addresses and all tunnels are unique.</li><li><br></li></ul>2017-08-01:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; additional discussion for proxy discussion:</li><ul class="indent"><li>As indicated in Discover 3.1 the Pledge:</li></ul></ul>&nbsp;&nbsp; a.&nbsp; MUST: Obtains a local address using IPv6 methods as described in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [RFC4862] IPv6 Stateless Address AutoConfiguration.&nbsp; [RFC7217] is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encouraged.&nbsp; Pledges will generally prefer use of IPv6 Link-Local<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; addresses, and discovery of Proxy will be by Link-Local<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mechanisms.&nbsp; IPv4 methods are described in Appendix A<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add text ref RFC4941 temporary addresses (s3.3):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Use of &lt;xref target=&quot;RFC4941&quot; &#x2F;&gt; temporary addresses is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encouraged.&nbsp; A new temporary address SHOULD be allocated<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; whenever the discovery process is forced to restart due<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to failures.<br><br><ul><ul class="indent"><li>Content-Type: application&#x2F;voucher[request]; format=jwt&nbsp; &lt;- not well defined.</li><li><br></li><li>Content-Type: application&#x2F;voucher[request]+cms</li><li><br></li></ul></ul>We agree do the iana for the media types currently defined in the document:<br>application&#x2F;voucherrequest<br>application&#x2F;unsignedvoucherrequest<br>etc<br><br>With the additional iana for the &quot;+cms&quot; and &quot;+jwt&quot; to be defined IN THE FUTURE as well (its just iana cookie cutter for now). These types are not used for mandatory to implement but doing the iana work now to prepare for future in one shot.&nbsp;<br>&quot;Future voucher documents MAY use other +xxx formats, relying parties are encouraged to fail gracefully for unknown formats.&quot;<br>ACTION: Max to produce the diffs for this<br><br>Update address for:&nbsp;<br>For &quot;Bjarnason, Steinthor&quot; &lt;sbjarnason@arbor.net&gt;<br>sbjarnason@arbor.net&nbsp;<br><br><br><br><br><br><br><br><br><br><br>module ietf-voucher-request {<br>&nbsp; yang-version 1.1;<br><br>&nbsp; namespace<br>&nbsp;&nbsp;&nbsp; &quot;urn:ietf:params:xml:ns:yang:ietf-voucher-request&quot;;<br>&nbsp; prefix &quot;vch&quot;;<br><br>&nbsp; import ietf-yang-types {<br>&nbsp;&nbsp;&nbsp; prefix yang;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 6991: Common YANG Data Types&quot;;<br>&nbsp; }<br><br>&nbsp; import ietf-restconf {<br>&nbsp;&nbsp;&nbsp; prefix rc;<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;This import statement is only present to access<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the yang-data extension defined in RFC 8040.&quot;;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 8040: RESTCONF Protocol&quot;;<br>&nbsp; }<br><br>&nbsp; import ietf-voucher {<br>&nbsp;&nbsp;&nbsp; prefix v;<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;&quot;;<br>&nbsp;&nbsp;&nbsp; reference &quot;&quot;;<br>&nbsp; }<br><br>&nbsp; organization<br>&nbsp;&nbsp; &quot;IETF ANIMA Working Group&quot;;<br><br>&nbsp; contact<br>&nbsp;&nbsp; &quot;WG Web:&nbsp;&nbsp; &lt;<a href="http&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;">http:&#x2F;&#x2F;tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;</a>&gt;<br>&nbsp;&nbsp;&nbsp; WG List:&nbsp; &lt;<a href="mailto&#x3a;anima&#x40;ietf&#x2e;org">mailto:anima@ietf.org</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Kent Watsen<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;kwatsen&#x40;juniper&#x2e;net">mailto:kwatsen@juniper.net</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Max Pritikin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;pritikin&#x40;cisco&#x2e;com">mailto:pritikin@cisco.com</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Michael Richardson<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;mcr&#x2b;ietf&#x40;sandelman&#x2e;ca">mailto:mcr+ietf@sandelman.ca</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Toerless Eckert<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;tte&#x2b;ietf&#x40;cs&#x2e;fau&#x2e;de">mailto:tte+ietf@cs.fau.de</a>&gt;&quot;;<br><br>&nbsp; description<br>&nbsp;&nbsp; &quot;This module... FIXME<br><br>&nbsp;&nbsp;&nbsp; The key words &#x27;MUST&#x27;, &#x27;MUST NOT&#x27;, &#x27;REQUIRED&#x27;, &#x27;SHALL&#x27;, &#x27;SHALL NOT&#x27;,<br>&nbsp;&nbsp;&nbsp; &#x27;SHOULD&#x27;, &#x27;SHOULD NOT&#x27;, &#x27;RECOMMENDED&#x27;, &#x27;MAY&#x27;, and &#x27;OPTIONAL&#x27; in<br>&nbsp;&nbsp;&nbsp; the module text are to be interpreted as described in RFC 2119.<br><br>&nbsp;&nbsp;&nbsp; Copyright (c) 2017 IETF Trust and the persons identified as&nbsp;<br>&nbsp;&nbsp;&nbsp; authors of the code. All rights reserved.<br><br>&nbsp;&nbsp;&nbsp; Redistribution and use in source and binary forms, with or without<br>&nbsp;&nbsp;&nbsp; modification, is permitted pursuant to, and subject to the license<br>&nbsp;&nbsp;&nbsp; terms contained in, the Simplified BSD License set forth in Section<br>&nbsp;&nbsp;&nbsp; 4.c of the IETF Trust&#x27;s Legal Provisions Relating to IETF Documents<br>&nbsp;&nbsp;&nbsp; (<a href="http&#x3a;&#x2F;&#x2F;trustee&#x2e;ietf&#x2e;org&#x2F;license&#x2d;info&#x29;">http:&#x2F;&#x2F;trustee.ietf.org&#x2F;license-info)</a>.<br><br>&nbsp;&nbsp;&nbsp; This version of this YANG module is part of RFC XXXX; see the RFC<br>&nbsp;&nbsp;&nbsp; itself for full legal notices.&quot;;<br><br>&nbsp; revision &quot;YYYY-MM-DD&quot; {<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;Initial version&quot;;<br>&nbsp;&nbsp;&nbsp; reference<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;RFC XXXX: Voucher Profile for Bootstrapping Protocols&quot;;<br>&nbsp; }<br><br>&nbsp; &#x2F;&#x2F;rc:yang-data voucher-request-artifact {<br><br>&nbsp; container voucher-request-artifact {<br>&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; YANG data template for a voucher-request.<br>&nbsp;&nbsp;&nbsp; uses v:voucher-artifact-grouping {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; augment &quot;voucher&quot;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf prior-signed-voucher2 {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; refine &quot;voucher&#x2F;created-on&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br><br>}<br><br>A current example from the draft, modified to be a request would look like:<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;ietf-voucher-request:voucher&quot;: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nonce&quot;: &quot;62a2e7693d82fcda2624de58fb6722e5&quot;,<br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;created-on&quot;: &quot;2017-01-01T00:00:00.000Z&quot;,</s><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;assertion&quot;: &quot;proximity&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;pinned-domain-cert2&quot;: &quot;&lt;base64 encoded certificate&gt;&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>Kent: to create a high level section (between 2 and 3) that details this. We&#x27;ll review the new outline&#x2F;toc and ensure we like it.<br><br><br>2017-08-08:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>COMPLETE: max to respond to ipr discussion<br>COMPLETE: max to describe initial mime-type changes<br><ul class="indent"><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;2e6d4669d89e75a06bcb7dc4cf281543eb24cb66">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;2e6d4669d89e75a06bcb7dc4cf281543eb24cb66</a></li><li><a href="https&#x3a;&#x2F;&#x2F;www&#x2e;iana&#x2e;org&#x2F;assignments&#x2F;media&#x2d;type&#x2d;sub&#x2d;parameters&#x2F;media&#x2d;type&#x2d;sub&#x2d;parameters&#x2e;xhtml">https:&#x2F;&#x2F;www.iana.org&#x2F;assignments&#x2F;media-type-sub-parameters&#x2F;media-type-sub-parameters.xhtml</a></li></ul>smime-type Value Reference certs-only[RFC5751, Section 3.2.2]CMC-Request[RFC5273, Section 3]CMC-Response[RFC5273, Section 3]compressed-data[RFC5751, Section 3.2.2]enveloped-data[RFC5751, Section 3.2.2]enveloped-x400[RFC3854, Section 3.3.1]server-generated-key[RFC7030, Section 4.4.2]signed-data[RFC5751, Section 3.2.2]signed-receipt[RFC2634, Section 2.4]signed-x400[RFC3854, Section 3.2.1]<br><br><br>&nbsp;&nbsp; HTTP&#x2F;1.1 200 OK<br>&nbsp;&nbsp; Status: 200 OK<br>&nbsp;&nbsp; Content-Type: application&#x2F;pkcs7-mime; smime-type=voucher<br>OPEN QUESTION: do what do we say about the &#x27;content-transfer-encoding&#x27;?<br>&nbsp;&nbsp; Content-Transfer-Encoding: base64<br>For application&#x2F;json the transfer encoding is text<br><br>raw from my notes:<br>smime-type is originally defined in RFC3851 but the more recent reference is RFC5751, RFC7030, 3851 etc. But RFC7114 defines the IANA registry.<br><br>For raw JSON info, e.g. status we use:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;section title=&quot;Voucher Status Telemetry &quot;&gt;<br>[snip]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;The posted data media type: application&#x2F;json&lt;&#x2F;t&gt;<br>We could then do application&#x2F;json for the unsigned voucher request and it would be consistent with this.<br>RESOLUTION: use application&#x2F;json ; max to update text to reflect this<br><br>{<br>&nbsp; &quot;ietf-voucher-request:voucher&quot;: {<br>&nbsp;&nbsp;&nbsp; &quot;nonce&quot;: &quot;62a2e7693d82fcda2624de58fb6722e5&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;created-on&quot;: &quot;2017-01-01T00:00:00.000Z&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;assertion&quot;: &quot;proximity&quot;<br>&nbsp;&nbsp;&nbsp; &quot;idevid-issuer&quot;: &quot;&lt;base64 encoded Authority Key Identifier&gt;&quot;<br>&nbsp;&nbsp;&nbsp; &quot;serial-number&quot;: &quot;JADA123456789&quot;<br>&nbsp;&nbsp;&nbsp; &quot;prior-signed-voucher&quot;: &quot;&lt;base64 encode prior voucher request&gt;&quot;<br>&nbsp; }<br>}<br><br>application&#x2F;jwt<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7519">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7519</a><br><br>kent failed to do his action items&nbsp; :(<br>&nbsp;&nbsp;&nbsp; mcr also is behind on actions.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;issues&#x2F;18">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;issues&#x2F;18</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>2017-08-15:<br>&nbsp;&nbsp;&nbsp; present: max, kent, toerless<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; mcr sent notice that he will miss this and the next meeting.</li></ul>&nbsp;&nbsp;&nbsp;&nbsp;<br><br>$ pyang -f tree --tree-print-groupings ietf-voucher\@2017-08-15.yang&nbsp;<br>module: ietf-voucher<br>&nbsp; groupings:<br>&nbsp; voucher-artifact-grouping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- created-on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- expires-on?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- assertion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enumeration<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- serial-number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- idevid-issuer?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- pinned-domain-cert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- domain-cert-revocation-checks?&nbsp;&nbsp; boolean<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- nonce?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- last-renewal-date?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br><br><br>$ pyang -f tree --tree-print-groupings ietf-voucher-request\@2017-08-15.yang&nbsp;&nbsp;<br>module: ietf-voucher-request<br>&nbsp; groupings:<br>&nbsp; voucher-request-grouping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- created-on?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- expires-on?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- assertion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enumeration<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- serial-number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- idevid-issuer?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- pinned-domain-cert&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- domain-cert-revocation-checks?&nbsp;&nbsp; boolean<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- nonce?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- last-renewal-date?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---- prior-signed-voucher-request?&nbsp;&nbsp;&nbsp; binary<br><br><br>{<br>&nbsp; &quot;ietf-voucher-request:voucher&quot;: {<br>&nbsp;&nbsp;&nbsp; &quot;nonce&quot;: &quot;62a2e7693d82fcda2624de58fb6722e5&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;created-on&quot;: &quot;2017-01-01T00:00:00.000Z&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;assertion&quot;: &quot;proximity&quot;<br>&nbsp;&nbsp;&nbsp; &quot;idevid-issuer&quot;: &quot;base64encodedvalue==&quot;<br>&nbsp;&nbsp;&nbsp; &quot;serial-number&quot;: &quot;JADA123456789&quot;<br>&nbsp;&nbsp;&nbsp; &quot;prior-signed-voucher&quot;: &quot;base64encodedvalue==&quot;<br>&nbsp; }<br>}<br><br>Action item for Kent<br><ul class="indent"><li>1) check in the voucher-request .yang</li><li>2) create &#x2F;ref directory with gen-trees.sh</li><li><br></li></ul>Action item for Max<br><ul class="indent"><li>1) update makefile to be like &#x27;voucher&#x27;; goal: automatically build .yang for inclusion and gen-tree.sh output etc</li><li>2) update base64 examples to use &quot;base64encodedvalue==&quot; (COMPLETE)</li><li>3) move .json example out of the xml into &#x2F;refs&#x2F;*json examples&nbsp;</li><li><br></li></ul>open: to perform &#x27;validate-all.sh&#x27; but since this doesn&#x27;t work it isn&#x27;t a priority. And it isn&#x27;t being done today either.&nbsp;<br><br><br><br>On the question of renewal of certificates current language is in:<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7030&#x23;section&#x2d;3&#x2e;3&#x2e;2">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7030#section-3.3.2</a><br>&nbsp;&nbsp;&nbsp; 4th paragraph, which references<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc5280&#x23;section&#x2d;6&#x2e;1&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc5280#section-6.1.3</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; PKIX normative is that certs can&#x27;t be used after they expire.&nbsp;<br>&nbsp;&nbsp;&nbsp; Note: In products this is often configurable as a policy rule.<br>&nbsp;&nbsp;&nbsp; Potential solutions include:&nbsp;<br>1) mandate clients renew before their cert expires. Painful. IOS uses the 70% rule to trigger renewal (configurable).<br><ul class="indent"><li>Difficult to ensure this occurs. Not clear what the final failure state is. Does the client give up?</li><li><br></li></ul>2) relying party can support expired certificates (this is common but not normative).&nbsp;<br><ul class="indent"><li>Requires a normative statement of: &quot;EST server SHOULD support expired client certificates as a policy option&quot;.&nbsp;</li><ul class="indent"><li>could have a normative statement of: &quot;BRSKI client SHOULD start requesting before lifetime expires but MAY continue requesting using expired certs&quot;. NOTE: need a signal to indicate that client should &#x27;get lost&#x27; and stop bugging the server. Wouldn&#x27;t want clients to think they can always bug the server forever. Perhaps a time limit on how long expired certs can be used.&nbsp;</li><li>QUESTION: How much is the BRSKI proxy used for ongoing certificate management.</li></ul></ul><br>3) clearly define that enroll falls back on IDevID for client authentication if the LDevID does finally expire.&nbsp;<br><ul class="indent"><li>This relies on IDevID for many future uses. Bad practice.</li><li><br></li><li><br></li><li><br></li></ul>2017-08-22:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr (may no mic), max, kent,</li><li><br></li><li>1) Discussion about voucher-request yang model</li><li>2) Issue #20 --- <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;issues&#x2F;20">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;issues&#x2F;20</a>&nbsp; how does the pledge know what to ask for in the certificate.</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;keystore&#x2d;02&#x23;section&#x2d;2&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-keystore-02#section-2.3</a>&nbsp; (scroll down to page 16 for&nbsp;</li><li>generate-certificate-signing-request)</li><li><br></li><li>mcr asks if attributes need to be generically described such that the pledge does not need to know new attributes. max says that this probably leads to disaster, so new attributes will need to be known by pledge.</li><li>mcr suggests that ACPinfo structure should be broken down into pieces, so let&#x27;s solve this for the ANIMA subjectAltName, and then push back on the PKI people to fix this.</li><li>mcr fell off at 10:55, couldn&#x27;t get back on.&nbsp; Kent, please commit with the container-less version.</li><li><br></li></ul>2017-08-29:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent (reluctantly ;)<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;The Pledge SHOULD follow the BRSKI operations with an EST enrollment.&lt;&#x2F;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MAX: insert into BRSKI-07, s3.8 at second to last paragraph. This thus allows the &#x27;0&#x27; enrollment case<br><ul><ul><ul class="indent"><li>&nbsp;&nbsp;&nbsp; but recommends the &#x27;1&#x27; enrollment case.</li></ul></ul></ul>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Although EST allows clients to obtain multiple certificates by sending<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multiple CSR requests BRSKI mandates use of the CSR Attributes request<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and mandates that the Registrar validate the CSR against the expected<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attributes. This implies that client requests will &quot;look the same&quot; and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; therefore result in a single logical certificate being issued even if<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the client were to make multiple requests. Registrars MAY contain<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; more complex logic but doing so is out-of-scope of this specification.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BRSKI does not signal any enhancement or restriction to this<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; capability. Pledges that require multiple certificates could establish<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; direct EST connections to the Registrar.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The current text actually does restrict slightly:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A Pledge that properly implements s3.8.2 (CSR attributes) would<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be expected to request a certificate with the same attributes each time. The&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PKI infrastructure handling of this is underdefined, and this specification does<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not add clarity.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s3.8.2 indicates &quot;The Registar MUST also confirm the resulting CSR is formatted as<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; indicated before forwarding the request to a CA.&quot;<br><br>2017-09-05<br><ul class="indent"><li>present: max, toerless, mcr,</li><li><br></li><li><br></li><li>reviewed result of YANG integration of voucher-request.</li><li>sorting:</li><li>&nbsp;&nbsp; RFC7159: The JavaScript Object Notation (JSON) Data Interchange Format</li><li>&nbsp;&nbsp; RFC7951: JSON Encoding of Data Modeled with YANG</li><li><br></li><li><br></li></ul>2017-09-12<br><ul class="indent"><li>present: max, kent (can&#x27;t hear max)</li><li><br></li><li>would like to resolve this pull request:&nbsp;</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;d294e13e686f741f11181bb330c2a1c4808e4e33">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;d294e13e686f741f11181bb330c2a1c4808e4e33</a></li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;voucher&#x2d;request&#x2d;yang&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2d;08&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;voucher-request-yang&#x2F;dtbootstrap-anima-keyinfra-08.txt</a></li><li><br></li></ul>addressing asymetric insertion of the Registrar&#x27;s cert into the pledge&#x27;s request:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;tree&#x2F;proximity&#x2d;domain&#x2d;mumble">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;tree&#x2F;proximity-domain-mumble</a></li></ul><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;bec6d97207aa8faaa600d60622c9b4650ee04934">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;bec6d97207aa8faaa600d60622c9b4650ee04934</a><br><br><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;ietf&#x2d;roll&#x2F;6tisch&#x2d;secure&#x2d;join&#x2F;blob&#x2F;master&#x2F;ietf&#x2d;cwt&#x2d;voucher&#x2e;yang">https:&#x2F;&#x2F;github.com&#x2F;ietf-roll&#x2F;6tisch-secure-join&#x2F;blob&#x2F;master&#x2F;ietf-cwt-voucher.yang</a><br>\<br><br><br>&nbsp; &#x2F;&#x2F; Grouping defined for future usage<br>&nbsp; grouping voucher-request-grouping {<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Grouping to allow reuse&#x2F;extensions in future work.&quot;;<br><br>&nbsp;&nbsp;&nbsp; uses v:voucher-artifact-grouping {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; refine &quot;voucher&#x2F;created-on&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; refine &quot;voucher&#x2F;pinned-domain-cert&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; augment &quot;voucher&quot;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Adds leaf nodes appropriate for requesting vouchers.&quot;;<br><br>2017-09-19:<br><ul class="indent"><li>present: max, mcr</li><li>regrets: kent</li><li><br></li><li>* discussed plan to close loop with list on recent concerns that resulted in addition of: proximity-registrar-cert to the voucher-request.</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;network">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;network</a></li></ul><br>MiTM dicsussion:<br>&nbsp;&nbsp;&nbsp; p&lt;---&gt;Ra&lt;---&gt;M<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; p&lt;---&gt;MiTM&lt;---Ra---&gt;M<br>&nbsp;&nbsp;&nbsp; results in:<br>&nbsp;&nbsp;&nbsp; p (voucher to Rb)&lt;---&gt;Ra&lt;---&gt;M<br><ul><ul class="indent"><li>this is detected via pinned cert and is blocked by the pledge</li><li>IF pledge signs request, and includes proximity-registrar-cert then M will fail this</li></ul></ul><br>p&lt;---&gt;MiTM&lt;---RB----&gt;M<br><ul class="indent"><li>Will succeed. Detected with logs.</li><li>pledge has been stolen. we expect this.</li><li><br></li></ul><br>p&lt;----MiTM----&gt;Rm, pledge is NOT signing request<br><ul><ul><ul><ul><ul><ul class="indent"><li>, M offers a voucher to Rm</li></ul></ul></ul></ul></ul><li><br></li></ul>p&lt;---&gt;<s>MiTM</s>&lt;---Ra----&gt;M (expected)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (actual: the request is FORKED)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \----&gt;Rm----&gt;M<br><br>resulting in multple claims at &#x27;M&#x27;. Which show up in the logs. Rm has control of the log sequence (which comes first).<br><br>mcr: What if MITM strips out the nonce?<br><br>2017-09-26:<br>&nbsp;&nbsp;&nbsp; present: mcr, toerless, max, kent<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 1) recap of MiTM attack.<br><br>BRSKI uses EST message formats for existing operations, uses JSON &lt;ref&gt; for all new operations defined here, and voucher formats.<br><br>p&lt;------------Ra----&gt;M (expected)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (actual: the request is FORKED)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \----&gt;Rm----&gt;M<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Ordering: p&#x2F;Ra proceeds as normal and gets to provisional state slowly.<br><ul><ul><ul><ul class="indent"><li><br></li></ul></ul></ul></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p&#x2F;Rm proceeds at faster pace, gets voucher from M.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>The audit log issues must be &quot;up-to-date&quot; at the time it is requested (after the telemetry update).<br>So the MASA must issue vouchers &quot;slow enough&quot; (or with enough locks) so that the audit log is always correct.<br><br>conclusion:<br>&nbsp;&nbsp;&nbsp; section 4.5 becomes mandatory, this indicates that the pledge has accepted a voucher<br>&nbsp;&nbsp;&nbsp; R verifies log after 4.5 occurs (may need statemachine to explain)<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>section 2.3 protocol flow needs to indicate status telemetry</li><li><br></li></ul>&nbsp;&nbsp;&nbsp; MASA &#x27;MAY&#x27; limit log responses to only entities in the log itself (privacy protection discussion)<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; this is not broken by our fix for Rm.</li></ul><br><br>2017-10-03:<br>&nbsp;&nbsp;&nbsp; present: mcr, toerless, max<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; updated diff for mitm:<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;bdeb75def1301eb03cb2aadfc412e114d5f65296">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;bdeb75def1301eb03cb2aadfc412e114d5f65296</a><br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt&#x23;L2977">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap-anima-keyinfra.txt#L2977</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>Proxy:<br><ul class="indent"><li>Action: insert section betweeen 2.4 and 2.5 that indicates the proxy is part of the architecture</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if you are going to implement a proxy then you should support a circuit proxy so that it works with all registrars</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; add a high level section between s5 and s6 that details proxy discussion</li><li><br></li><li>Action: update figure 1 from &quot;dead branch&quot;</li><li>Action: move 4.1.2 to new section.</li><li><br></li><li>Moving on in appendix D:</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt&#x23;L3341">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;master&#x2F;dtbootstrap-anima-keyinfra.txt#L3341</a></li><li><br></li><li>Maybe add section 2.0 about MASA to section 2, protocol overview.</li><li>Move section D.1.4 to section 1.3, with reference to ACP.</li><li><br></li><li>TBD: Toerless suggesting text for 1.0 architecture overview. Include eg: notion that proxy&lt;-&gt;registar network can be ACP and role of proxy is to support simplifying pledge initial network stack.</li><li><br></li><li>names from DNSSD -&gt; become objective names&nbsp;&nbsp; foo._tcp -&gt; AN_foo?</li></ul>
<div style="display:none"><a href="/javascript" data-jslicense="1">JavaScript license information</a></div>
</body>
</html>
