<!doctype html>
<html lang="en">
<head>
<title>anima-boostrapping</title>
<meta name="generator" content="Etherpad">
<meta name="author" content="Etherpad">
<meta name="changedby" content="Etherpad">
<meta charset="utf-8">
<style>
* {
  font-family: arial, sans-serif;
  font-size: 13px;
  line-height: 17px;
}
ul.indent {
  list-style-type: none;
}
ol {
  list-style-type: none;
  padding-left: 0;
}
body > ol {
  counter-reset: first second third fourth fifth sixth seventh eigth ninth tenth eleventh twelth thirteenth fourteenth fifteenth sixteenth;
}
ol > li:before {
  content: counter(first) ". ";
  counter-increment: first;
}
ol > ol > li:before {
  content: counter(first) "." counter(second) ". ";
  counter-increment: second;
}
ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) ". ";
  counter-increment: third;
}
ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) ". ";
  counter-increment: fourth;
}
ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) ". ";
  counter-increment: fifth;
}
ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) ". ";
  counter-increment: sixth;
}
ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) ". ";
  counter-increment: seventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) ". ";
  counter-increment: eigth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) ". ";
  counter-increment: ninth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) ". ";
  counter-increment: tenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) ". ";
  counter-increment: eleventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) ". ";
  counter-increment: twelth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) ". ";
  counter-increment: thirteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) ". ";
  counter-increment: fourteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) ". ";
  counter-increment: fifteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) "." counter(sixthteenth) ". ";
  counter-increment: sixthteenth;
}
ol {
  text-indent: 0px;
}
ol > ol {
  text-indent: 10px;
}
ol > ol > ol {
  text-indent: 20px;
}
ol > ol > ol > ol {
  text-indent: 30px;
}
ol > ol > ol > ol > ol {
  text-indent: 40px;
}
ol > ol > ol > ol > ol > ol {
  text-indent: 50px;
}
ol > ol > ol > ol > ol > ol > ol {
  text-indent: 60px;
}
ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 70px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 80px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 90px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 100px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 110px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 120px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 130px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 140px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 150px;
}

</style>
</head>
<body>
WEEKLY INVITE, SEE ANIMA BOOTSTRAP WIKI: <a href="https&#x3a;&#x2F;&#x2F;trac&#x2e;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap">https:&#x2F;&#x2F;trac.tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap</a>&nbsp; draft is always at: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;04">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-04</a><br><br>NOTE NOTE NOTE: BRSKIEtherpad<br>Current and most recent meeting notes are added to the BOTTOM of this document.<br>The reason for this is so that we can consistently refer to line number and have them stay (mostly) the same as we add newlines. If Etherpad offered a feature for numbering from the bottom we could dispense with the pain of scrolling to the bottom of the document but:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; History can now be found at: <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;concise&#x2F;minutes&#x2F;anima&#x2d;20170502&#x2F;anima&#x2d;bootstrap&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;concise&#x2F;minutes&#x2F;anima-20170502&#x2F;anima-bootstrap.txt</a><br><br>2017-04-25:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, peter, mbehringer, kent looking for correct webex...&nbsp; Didn&#x27;t work for me.</li><li>webex is dead to me:&nbsp; <a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a> I&#x27;m in.</li><li>Michael Behringer... you joining? trying hard. I&#x27;m in the appear in room, I THINK. But can&#x27;t see anyone else?&nbsp; You mistyped the URL. no &#x27;t&#x27; my gosh....</li><li><br></li><li>{mcr still way behind; was ill last week}</li><li><br></li></ul>brief recap by mcr, about what we did last week.<br>Max: recap of list is that we need a definitive form for the voucher request.... &quot;it&#x27;s just a voucher&quot; ,&nbsp;<br>Kent: related, but slightly different format.<br><br>Max: signed certificate requests mean that the registrar can not change it, and this has caused a mess.<br>mcr asks for details... max: lack of interoperation.<br><br>To fix the syntax from 1357:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>voucher request<br><br>{&nbsp;<br>&nbsp;&nbsp;&nbsp; &quot;header&quot;: &quot;foo&quot;<br>}<br>.<br>{<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; payload&quot; : &quot;bar&quot;</li></ul>}<br>.signature<br><br>{&nbsp;<br>&nbsp;&nbsp;&nbsp; &quot;header&quot;: &quot;foo&quot;<br>}<br>.<br>{<br><ul class="indent"><li>payload&quot; : &quot;bar&quot;,</li><li>prior_jwt : &quot;{h}.{p,prior_jwt:&quot;&lt;base64&gt;&quot;}.s&quot;</li></ul>}<br>.signature<br><br>Max&#x27;s proposed algorithm for signing vouchers is:<br><ul class="indent"><li>The relying party validates and signs the &quot;first&quot; voucher in the list</li><li>The relying party MAY recurse into the list to verify, for example, that the inner jwt was signed by the pledge</li></ul><br><ul class="indent"><li>Processing is effectively this:&nbsp;</li><li>recurse to the bottom of the list. Built a json from the payload. As you return up the list re-apply each JSON payload.</li><ul class="indent"><li>Has the disadvantage of making it difficult to remove something.&nbsp;</li></ul><li>each node copies what it want to maintain. the optional history list is purely informative. &lt;----- BEST&nbsp;</li></ul><br><br><ul class="indent"><li><br></li></ul><br><br>DIAGRAM OF ACTORS:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CMS&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; [MASA] &lt;--A--&gt; [ REGISTRAR ] &lt;--C--&gt; [ CERTAUTHORITY ]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher&nbsp; \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; proto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \B&nbsp; [BRSKI&#x2F;EST]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [PLEDGE]<br><br><br>handling criticality:<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7515&#x23;section&#x2d;4&#x2e;1&#x2e;11">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7515#section-4.1.11</a><br>&nbsp;&nbsp;&nbsp;&nbsp; {&quot;alg&quot;:&quot;ES256&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;crit&quot;:[&quot;exp&quot;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;exp&quot;:1363284000<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br><br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7951">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7951</a> (yang-json)<br><a href="https&#x3a;&#x2F;&#x2F;datatracker&#x2e;ietf&#x2e;org&#x2F;doc&#x2F;draft&#x2d;ietf&#x2d;core&#x2d;yang&#x2d;cbor&#x2F;">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;draft-ietf-core-yang-cbor&#x2F;</a> (yang to cbor)<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7950&#x23;section&#x2d;11">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7950#section-11</a> (updating a yang module)<br>&nbsp;&nbsp; o&nbsp; A &quot;mandatory&quot; statement may be removed or changed from &quot;true&quot; to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;false&quot;.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>ACTION:<br><ul class="indent"><li>1) add version field to the voucher&nbsp;</li><li>2) define voucher request in BRSKI (as a voucher)</li><li>3) define any additional fields in BRSKI:</li><ul class="indent"><li><br></li></ul><li><br></li></ul>module ietf-voucher-req {<br>&nbsp; import ietf-vouher {<br>&nbsp;&nbsp;&nbsp; prefix v;<br>&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp; augment &quot;v:voucher&#x2F;&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf prior_signedvoucher {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;...&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>}<br><ul class="indent"><li><br></li></ul><br>2017-05-02<br><ul class="indent"><li>present: mcr, Michael Behringer&nbsp;</li><li><br></li><li>suggest we go through EDNOTEs in document.</li><li><br></li><li>&nbsp;&nbsp; [[EDNOTE: move below?]]The Pledge establishes a TLS connection with</li><li>&nbsp;&nbsp;&nbsp; ---&gt; agreed</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;concise&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;concise&#x2F;dtbootstrap-anima-keyinfra.txt</a></li><li><br></li><li>Is there a relationship between the TLS Server Certificate of the MASA, and the Issuer Certificate from the IDevID.</li><li>Cases:&nbsp;</li><li>&nbsp;- pledge contains URL of MASA</li><li>&nbsp;- step 1: registrar follows URL (default)</li><li>&nbsp;- option 1: redirect: should it be allowed? (if not, cannot deploy anti-DDOS re-direct)</li><li>&nbsp;- option 2: manual override of URL: should it be allowed?&nbsp;</li><li>Tentatively: Neither option 1 or 2 have an impact on security (&quot;stealing&quot; a device).&nbsp;</li><li>HTTP&#x2F;2, TLS upgrade.</li><li>Can&#x2F;should the registrar connect to MASA, online to the TLS connection to the Pledge, to get the certificate chain to validate the pledge?</li><li>{is there an attack on the Registrar by the pledge,&nbsp;</li><li>MB suggests that<s> IDevID and </s>MASA Server Certificate would be verifiable via the WebPKI, and there would not necessarily be any common root of trust between the two.</li><li><br></li><li>There are two security associations:&nbsp;</li><li>- between pledge and MASA</li><li>- between Registrar and MASA</li><li>Observations:&nbsp;</li><li>- those two SAs are independent</li><li>- the first (BRSKI&#x2F;EST) is anchored on a trust anchor that may be private (ie not part of the public PKI)</li><li>- the second (MASA&lt;-&gt;Registrar) is normally anchored on the public WebPKI for the ServerCertificate.</li><li>- the URL in the certificate of the IDevID of the pledge may be used to point the registrar to the MASA. (or, redirect, or override, see line 1477-1478)</li><li>&nbsp; --&gt; In that URL, the vendor defines the <strong>type</strong> of security association to be used between registrar and MASA.&nbsp;</li><li>&nbsp; --&gt; The vendor choooses the type of SA. MUST define a minimum protocol set that MUST be supported on the registrar, including a minimum level of security.</li><li><br></li></ul>2017-05-09<br><ul class="indent"><li>present: max, Michael Behringer, mcr, kent (looking for the webex again)</li><li>&quot;webex&quot; is at:&nbsp; <a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a>&nbsp; (can we update the meeting invite with this URL?)&nbsp; I&#x27;ll update the WIKI?&nbsp;</li><li>- I updated the local copy of the meeting invite.&nbsp; Regardless, it says that I&#x27;m the only oe in the room...&nbsp; Click on URL above. on line 140. I did.&nbsp; Works for me. Not alone.&nbsp; In now.</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;trac&#x2e;ietf&#x2e;org&#x2F;trac&#x2F;anima&#x2F;wiki&#x2F;Bootstrap">https:&#x2F;&#x2F;trac.ietf.org&#x2F;trac&#x2F;anima&#x2F;wiki&#x2F;Bootstrap</a> updated.&nbsp; got question for kent!</li><li><br></li><li>discussion of URL:&nbsp;</li><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;05&#x23;section&#x2d;2&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-05#section-2.3</a></li></ul><li><br></li><ul class="indent"><li>1) URL contains &quot;<a href="https&#x3a;&#x2F;&#x2F;example&#x2e;com">https:&#x2F;&#x2F;example.com</a>&quot;</li><ul class="indent"><li>ACTION: s3.1 would need to indicate that &#x27;https&#x27; needs to be specified? or deal with http using http2 w&#x2F; upgrade? either way need to&nbsp;</li><li>decide what the normative text on that would be</li></ul><li>2) Every protocol defines .well-known&#x2F;protocol&nbsp;</li><ul class="indent"><li>so, &quot;<a href="https&#x3a;&#x2F;&#x2F;example&#x2e;com&#x2F;&#x2e;well&#x2d;known&#x2F;protocol">https:&#x2F;&#x2F;example.com&#x2F;.well-known&#x2F;protocol</a>&quot;</li><li>the above might be resolved by .well-known indicating the transport method (e.g. http or https)&nbsp;</li></ul><li>3) A protocol&nbsp;</li><li><br></li></ul><li>redirect handled as specified (see 3.1.3.1 in 05, and the EST redirect discussion).</li><li><br></li><li>ACTION: Need normative language that the registrar&lt;-&gt;MASA communication is secured using a &quot;web pki&quot;&nbsp;</li><li><br></li></ul><br>Going to JWT discussion. Discussion of Kent&#x27;s email from may2:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>I&#x27;ve had some time now to investigate JWS, in particular, reproducing some examples in RFCs 7515 and 7520 using nothing but shell scripts and the `openssl` command line utility.<br><br>I want to like JWS, but I wish the header was in a more technology-neutral format, it being JSON seems weird to me.&nbsp;<br>Had this been done, it would be a nice general-purpose signature format.&nbsp; Size wise, JWS grows the size of the data 33% when b64 encoding it for the &quot;compact serialization&quot; form, which is actually a 65-character alphabet including &#x27;.&#x27;.&nbsp; It seems that a binary header could&#x27;ve also allowed for a binary payload and signature, which would&#x27;ve been perfect, in my opinion.&nbsp; [Of course, the entire binary blob could still be base64url-encoded for those that want it, without forcing it on those that don&#8217;t]<br><br><br><br>The example voucher you obtained from mcr wasn&#x27;t as trimmed down as it could&#x27;ve been, using the -noattr and -nocert options, which is one reason the asn1parse dump looks as busy as it does.&nbsp; Another being that the owner&#x2F;domain-cert-trusted-ca encode very different certs (is one ec while the other is rsa?)<br><br>In the end, JWS appears to be just another signature format with its own set of peculiarities.&nbsp; And given that we already have to support ASN.1 (the voucher encodes both an X.509 cert as well as a X.509 certificate chain), not to mention the need for the MASA to have a PKIX infrastructure, it&#x27;s not clear to me if this is a good trade at all.<br><br>Lastly, as mentioned before, my netconf zerotouch draft uses CMS&#x2F;PKCS7 elsewhere.&nbsp; While it would be trivial to update the draft to use a JWS-based format, it would be awkward for clients to have to consider it at all.<br><br>Kent<br><br><ul class="indent"><li><br></li></ul>2017-05-16:<br>&nbsp;&nbsp;&nbsp; present: mcr, max (joining), peter,&nbsp;<br><ul class="indent"><li>&nbsp;<a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a></li><li><br></li><li><br></li><li><em><s>I am doing a thorough review as the document shepherd with my ANIMA</s></em></li><li><em><s>chair hat on. Please address the below comments so that we could</s></em></li><li><em><s>process this document further. I cannot claim myself a security</s></em></li><li><em><s>expert, so extra security expert review is needed, either in WGLC or</s></em></li><li><em><s>IESG review stage.</s></em></li><li><br></li><li><em>Firstly, there is report that this document has warnings or errors</em></li><li><em>returned by YANG validation. <s>Please&nbsp;</s></em></li><li><br></li><ul class="indent"><li><strong>Likely this was the bug in the validator.</strong></li></ul><li><br></li><li><em>Secondly, please check the references and normative words. This</em></li><li><em>document has a &#8220;MUST not&#8221;, which is not an accepted usage according to</em></li><li><em>RFC 2119. RFC6066 &amp; RFC5652 has been quota in the document, but not</em></li><li><em>defined; and normative reference to an Informational RFC 2315.</em></li><li><br></li><ul class="indent"><li>This is fixed in the ietf-voucher.yang.</li><li>Discussion about whether there should be a failure if the expires-on field can not be validated due to lack of clock.</li></ul><li><br></li><li><em>Thirdly, there are 19 question marks in the document. Most of these</em></li><li><em>are discussed and reach conclusions, I believe. Please remove these</em></li><li><em>question marks and relevant text. If there are still open questions,</em></li><li><em>please discuss in mailing list and address them, before we could</em></li><li><em>process WGLC.</em></li><ul class="indent"><li>done.</li></ul><li><br></li><li><br></li><li><em>In section 2, The quota from Konrad Lorenz should be put into</em></li><li><em>quotation marks.</em></li><ul class="indent"><li><strong>done.</strong></li></ul><li><br></li><li><em>&#8220;This document describes vouchers in detail.&#8221;It is better to give a</em></li><li><em>reference to the specific section 4.</em></li><li><br></li><li><em>In definition of Domain CA, &#8220;Optionally, it certifies all elements.&#8221;</em></li><li><em>What does the term &#8220;element&#8221; mean? This term does not appear anywhere</em></li><li><em>else in the document.</em></li><ul class="indent"><li><br></li></ul><li><br></li><li><br></li><li><br></li><li><em>In definition of MASA, &#8220;It does not track ownership.&#8221; It is not clear</em></li><li><em>for me, whether the MASA is technically not be able to track ownership</em></li><li><em>or in the commercial deployment model, it MUST NOT&#x2F;SHOULD NOT track</em></li><li><em>ownership. There is no enough description or discussion on the</em></li><li><em>relationship between the MASA and device ownership.</em></li><li><br></li><li><em>A few inconsistent for capital abbreviation, such as cn-id, dns-id,</em></li><li><em>etc.</em></li><li><br></li><li><em>A few DISCUSS &amp; EDNOTE from editor notes should be removed.</em></li><ul class="indent"><li><strong>done.</strong></li></ul><li><br></li><li><em>The normative words in design consideration seems odd for me. The</em></li><li><em>design consideration means not protocol definition neither behavior</em></li><li><em>specification although security consideration may be specification in</em></li><li><em>my eyes. It should not have normative words.</em></li><ul class="indent"><li><strong>done.</strong></li></ul><li><br></li><li><em>Typo: &#8220;informative&#8221;, &#8220;informative&#8221;; &#8220;Circustance&#8221;, &#8220;Circumstances&#8221;;</em></li><li><em>&#8220;maintanence&#8221;, &#8220;maintenance&#8221;; hardware security modules (HSMs),</em></li><li><em>Hardware Security Modules (HSMs).</em></li><li><br></li><li><br></li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf expires-on {</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type yang:date-and-time;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; must &quot;not(..&#x2F;nonce)&quot;;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A value indicating when this voucher expires.&nbsp; The node is</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; optional as not all pledges support expirations, such as</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledges lacking a reliable clock.</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If this field exists, then the the pledge MUST ensure that</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the expires-on time has not yet passed.&nbsp; A pledge without</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an accurate clock cannot meet this requirement.</li><li><br></li><li>[insurance. i have to drop. sorry]</li><li><br></li><li><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The MASA SHOULD NOT populate this field for pledges that</s></li><li><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do not have real time clocks.&quot;;</s></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</li><li><br></li><li><br></li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;section title=&quot;Security Considerations&quot; anchor=&quot;sec-con&quot;&gt;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;section title=&quot;Clock Sensitivity&quot;&gt;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; An attacker could use an expired voucher to gain control over</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a device that has no understand of time.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;t&gt;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; To defend against this there are three things: devices are</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; required to verify that the expires-on field has not yet passed.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Devices without access to time can use nonces to</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get ephermal vouchers.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Thirdly, vouchers without expiration times may be used, which</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; will appear in the audit log, informing the security decision.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;t&gt;</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;This document defines optional artifacts containing time values</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for voucher expirations, which require an accurate clock</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in order to be processed correctly.&nbsp; Vendors planning on</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; issuing vouchers with expiration values must ensure devices</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; have an accurate clock when shipped from manufacturing</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; facilities, and take steps to prevent clock tampering.</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If it is not possible to ensure clock accuracy then</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vouchers with expirations should not be issued.&lt;&#x2F;t&gt;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;section&gt;</li></ul><br>This is my personal webex. We should be able to edit live in the etherpad.&nbsp;<br><a href="https&#x3a;&#x2F;&#x2F;cisco&#x2e;webex&#x2e;com&#x2F;join&#x2F;pritikin">https:&#x2F;&#x2F;cisco.webex.com&#x2F;join&#x2F;pritikin</a><br><br>AGREED TO RESUME Friday, at 11am. MAX, please confirm, or suggest another time.<br>Thursday at 1pm is another possible time.<br><br>DISCUSS 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t hangText=&quot;Ownership ID Voucher:&quot;&gt;An Ownership ID Voucher is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; named after inclusion of the Pledge&#x27;s CN-ID or DNS-ID within the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher. An example Ownership Voucher is defined in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;xref target=&quot;I-D.ietf-netconf-zerotouch&quot;&#x2F;&gt;. The MASA service<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mitigates a MiTM Registrar by identifying the specific Registrar<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authorized to own the Pledge. [DISCUSS: still needed?]&lt;&#x2F;t&gt;<br><br><br>&nbsp; module: ietf-voucher<br>&nbsp;&nbsp;&nbsp;&nbsp; +--ro voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro created-on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro expires-on?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro assertion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enumeration<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro serial-number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro serial-number-issuer?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro pinned-domain-cert*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro assert-revocations-on-PKIX-certs?&nbsp;&nbsp; boolean<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro nonce?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; binary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--ro last-renewal-date?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yang:date-and-time<br><br>Argument for this is: When the &#x27;pinned-domain-cert&#x27; is updated by the registrar (e.g. they communicate with their CA infrastructure and update this) then the registrar is sufficiently online to obtain a new voucher.&nbsp;<br>There are edge conditions concievable where this not possible but these add significant complexity for minimal value and are declared out of scope.&nbsp;<br><br>The relying Pledge examines the pinned-domain-cert and uses it as follows:<br>&nbsp;&nbsp;&nbsp; if it is a CA cert then it is used as a trust-point in a PKI heirarchy and any leaf certificates it issues is valid.<br>&nbsp;&nbsp;&nbsp; if it is an end-entity cert then only that entity is trusted.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>BRSKI Protocol interaction (-pre06 section 3.3):<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; The voucher request is signed by the Registrar as indicated in<br>&nbsp;&nbsp; [I-D.ietf-anima-voucher] voucher.&nbsp; The entire certificate chain, up<br>&nbsp;&nbsp; to and including the Domain CA, MUST be included.&nbsp; The MASA service<br>&nbsp;&nbsp; checks the internal consistency of the voucher request but does not<br>&nbsp;&nbsp; authenticate the domain identity information since the domain is not<br>&nbsp;&nbsp; know to the MASA server in advance.&nbsp; The MASA server MUST verify that<br>&nbsp;&nbsp; the voucher request is signed by a Registrar certificate (by checking<br>&nbsp;&nbsp; for the cmc-idRA field) that was issued by a the self signed root<br>&nbsp;&nbsp; certificate included in the request.&nbsp; This ensures that the Registrar<br>&nbsp;&nbsp; making the claim is an authorized Registrar of the unauthenticated<br>&nbsp;&nbsp; domain.<br><br>&nbsp;&nbsp; The root certificate is extracted and used to populate the Voucher [pinned-domain-cert].<br>&nbsp;&nbsp; The domain ID (e.g. hash of the public key of the domain) is<br>&nbsp;&nbsp; extracted from the root certificate and is used to update the audit<br>&nbsp;&nbsp; log. [update to put the whole pinned-domain-cert field in there]&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>This assumes that it is the domain&#x27;s root-CA certificate that is pinned. This is an assumption that the pinned CA certificate is specific to the owner. This excludes the possibility of a shared root CA (as we see in the web PKI space). The assumption is that if there is a PKI service it supports multi-tenancy and maintains a unique root per domain.<br><br><br><br><br><br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf-list pinned-domain-cert {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;An X.509 v3 certificate structure as specified by RFC 5280,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Section 4 encoded using the ASN.1 distinguished encoding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rules (DER), as specified in ITU-T X.690.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This certificate is used by a pledge to trust a public key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; infrastructure, in order to verify a domain certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; supplied to the pledge separately by the bootstrapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocol.&nbsp; The domain certificate MUST have this certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; somewhere in its chain of certificates. This certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MAY be an end-entity certificate, including a self-signed<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; entity.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The voucher&#x27;s expiration MAY NOT exceed the dates of any of the pinned-domain-cert certificates.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reference<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;RFC 5280:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet X.509 Public Key Infrastructure Certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and Certificate Revocation List (CRL) Profile.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ITU-T X.690:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Information technology &#8211; ASN.1 encoding rules:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specification of Basic Encoding Rules (BER),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Canonical Encoding Rules (CER) and Distinguished<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Encoding Rules (DER).&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The expires-on value MUST NOT exceed the expiration date of any of the listed &#x27;pinned-domain-cert&#x27; certificates.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>2017-05-23:<br>&nbsp;&nbsp;&nbsp; present: mcr, toerles kent, peter, max&nbsp;&nbsp; (who is &quot;Mria Rita?)<br>&nbsp;&nbsp;&nbsp; toerless: we are at:&nbsp; <a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a> Note no t.<br>&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;voucher">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;voucher</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Agenda for tuesday:<br><ul class="indent"><li>Continue to close the open discuss&#x27;s for voucer as per sheng&#x27;s email</li><li>Return to the converation of the voucher request format.</li></ul><br><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;voucher&#x2F;blob&#x2F;master&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;voucher&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;voucher&#x2F;blob&#x2F;master&#x2F;draft-ietf-anima-voucher.txt</a></li></ul>&nbsp;&nbsp; [[EDNOTE: It might be worth including an indication of maximum<br>&nbsp;&nbsp; lifetime for which such automated renewal is available.&nbsp; If so the<br>&nbsp;&nbsp; language we&#x27;d use would be similar to the RFC5280 statement that<br>&nbsp;&nbsp; certificate validity period is &quot;the time interval during which the CA<br>&nbsp;&nbsp; warrants that it will maintain information about the status of the<br>&nbsp;&nbsp; certificate&quot; only here used to inform the Registrar of &quot;the time<br>&nbsp;&nbsp; interval during which the MASA warrants that it will maintain<br>&nbsp;&nbsp; information about the status of the ownership claim&quot;.&nbsp; Such a field<br>&nbsp;&nbsp; would be independent of the actual validity period of the voucher and<br>&nbsp;&nbsp; is not intended for consumption by the Pledge.&nbsp; A suggested name for<br>&nbsp;&nbsp; this field would be &quot;last-renewal-date&quot;.]]<br>&nbsp;&nbsp;&nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The date that the MASA projects to be the last date it<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; will renew a voucher on.&nbsp; This field is merely informative, it<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is not processed by pledges.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Circumstances may occur after the voucher&#x27;s generation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that can alter a voucher&#x27;s validity period.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>For Toerless: <a href="http&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff&#x2e;pyht&#x3f;url1&#x3d;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;05&amp;url2&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;concise&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">http:&#x2F;&#x2F;tools.ietf.org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff.pyht?url1=draft-ietf-anima-bootstrapping-keyinfra-05&amp;url2=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;concise&#x2F;dtbootstrap-anima-keyinfra.txt</a><br><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;concise&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;concise&#x2F;dtbootstrap-anima-keyinfra.txt</a></li></ul><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; DISCUSS: does the transition to &#x27;pinning&#x27; model mean we can<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; drop this leaf for now? future proofing allows it to be added<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; if needed but its a edge condition?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; DISCUSS: there must be such future proofing. not clear where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; to add it in the voucher document. This is probably the most<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; important point of these discusses<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf assert-revocations-on-PKIX-certs {<br><br><ul class="indent"><li>Turned into discussion about whether to fail open&#x2F;fail closed, and how this occurs.</li><li>Max points out that the MASA is going to verify the revocation status (if possible) of the Registrar (owners certificate) when it issues the voucher, and since the voucher is short lived (shorter than any CRL), then the voucher would expire before the CRL would matter anyway, so the Pledge really doesn&#x27;t need to worry about this.</li><li><br></li><li>The cert that gets pinned into the voucher is probably a sub-CA certificate...&nbsp;</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf domain-cert-revocation-checks {&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type boolean;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; must &quot;..&#x2F;expires-on&quot;;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A processing instruction to the device that it should</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verify revocation information for the PKIX certificates</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; related to the &#x27;pinned-domain-cert&#x27; certificate. This is available only if</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the pledge has an accurate clock. This is in addition</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to any revocation checks performed by the MASA.</li><li><br></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If this field is not set, then normal PKIX RFC5280 behaviour applies to validation of the Registrar certificate.&quot;;</li><li><br></li><li><br></li></ul>Afternoon session: Max, mcr, kent<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf serial-number {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type string;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;FIXME A unique identifier (e.g., serial number) within the scope<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of the MASA.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When processing a vouchers, pledges MUST ensure that their<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unique identifier matches at least one regular expression in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the list.&nbsp; If no matching regular expression is found, the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledge MUST NOT process this voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf serial-number-issuer {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;FIXME&nbsp; Optional because serial-numbers alone are sometimes unique &quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br><ul><ul class="indent"><li>MCR: would the MASA keep the same serial-number upon renewal?</li></ul></ul><br>s3.3 of BRSKI [conside] pre06 contains the following text about renewal:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; As described in [I-D.ietf-anima-voucher] vouchers are normally short<br>&nbsp;&nbsp; lived to avoid revocation issues.&nbsp; If the request is for a previous<br>&nbsp;&nbsp; (expired) voucher using the same Registrar (as determined by<br>&nbsp;&nbsp; Registrar&#x27;s&#x27; domainID) and the MASA has not been informed that the<br>&nbsp;&nbsp; claim is invalid - the request for a renewed voucher SHOULD be<br>&nbsp;&nbsp; automatically authorized.&nbsp; If authorization is successful the MASA<br>&nbsp;&nbsp; responds with a [I-D.ietf-anima-voucher] voucher.&nbsp; The MASA SHOULD<br>&nbsp;&nbsp; check for revocation of the Registrar certificate.&nbsp; The maximum<br>&nbsp;&nbsp; lifetime of the voucher issued SHOULD NOT exceed the lifetime of the<br>&nbsp;&nbsp; Registrar&#x27;s revocation validation (for example if the Registrar<br>&nbsp;&nbsp; revocation status is indicated in a CRL that is valid for two weeks<br>&nbsp;&nbsp; then that is an appropriate lifetime for the voucher).<br><br><br>NOTES:<br>&nbsp;&nbsp;&nbsp; 7.2 refs revocation. verify text<br>&nbsp;&nbsp;&nbsp; 6.1 has a &quot;must&quot; that MUST be resolved ;)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; leaf serial-number {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type string;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A serial number of the hardware.&nbsp; It is unique within the scope of the MASA.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When processing a voucher, a pledge MUST ensure that its<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; serial number matches this value.&nbsp; If no match occurs, then<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the pledge MUST NOT process this voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf idevid-issuer {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The RFC5280 4.2.1.1 Authority Key Identifier OCTET STRING from the IDevID<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that contains the serial number.&nbsp; Optional since some serial-numbers are<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; already unique within the scope of the MASA.&nbsp; Inclusion of the statisticaly unique key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identier ensures statistically unique identification of the hardware.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When processing a voucher, a pledge MUST ensure that its IDevID Authority<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Key Identifier matches this value.&nbsp; If no match occurs, then the pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MUST NOT process this voucher.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When issuing a voucher, the MASA MUST ensure that this field is populated&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for serial numbers that are not otherwise unique within the scope of the MASA.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>BRSKI concern:<br><ul class="indent"><li>the registrar extracts serial number from the idevid and forwards to MASA</li><li>there is no &quot;multitenant&quot; mechanism here; other than to include the serial-number-issuer</li><li>thus one needs a distinct MASA URL each. so no re-use of the URL?</li><li><br></li><li>s2.2 would need a normative statement that the URL is unique per issuer</li><li><br></li><li><br></li><li>search for &quot;unique-id&quot;:</li><li>&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;zerotouch&#x2d;13&#x23;section&#x2d;10&#x2e;3">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-zerotouch-13#section-10.3</a>&nbsp; (leaf defined)</li><li>&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;zerotouch&#x2d;13&#x23;section&#x2d;10&#x2e;2">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-zerotouch-13#section-10.2</a>&nbsp; (passed as a URL query param here)</li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;gist&#x2e;github&#x2e;com&#x2F;mcr&#x2F;4b0c52863c364e4645d4f2de16d40e75">https:&#x2F;&#x2F;gist.github.com&#x2F;mcr&#x2F;4b0c52863c364e4645d4f2de16d40e75</a></li><li><br></li></ul>------------------------------<br>2017-05-30: max, Michael Behringer, Toerless Eckert<br><a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>(actually, that isn&#x27;t loading. moving off my vpn)<br><br>I&#x27;m going here:&nbsp;<br><a href="https&#x3a;&#x2F;&#x2F;cisco&#x2e;webex&#x2e;com&#x2F;join&#x2F;pritikin">https:&#x2F;&#x2F;cisco.webex.com&#x2F;join&#x2F;pritikin</a><br>i don&#x27;t see toerless joining yet<br><br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff&#x2e;pyht">https:&#x2F;&#x2F;tools.ietf.org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff.pyht</a><br><br><br><br>TODO:<br>3.1.1 Discovery: Check if &quot;ACP+Proxy&quot; is the correct GRASP defintion.<br><br>This is a note for Toerless. We will table until we see his suggested diff. Concern is that Brian indicates something in his draft and we want alignment. Toerless will check.&nbsp;<br><br>--------------------------------<br>Q1: Is there any statement that the MASA can be optional, eg: is it clear what would<br>&nbsp;&nbsp;&nbsp; need to be implemented on pledge and registrar for pledges that do not require a MASA ?<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&quot; A Registrar MAY be configured to<br>&nbsp;&nbsp; ignore the history of the device but it is RECOMMENDED that this only<br>&nbsp;&nbsp; be configured if hardware assisted NEA [RFC5209] is supported.&quot;<br>and&nbsp;<br><strong>4.2.&nbsp; New Entity security reductions</strong><br>&quot;&nbsp;&nbsp; The Pledge MAY have an operational mode where it skips Voucher<br>&nbsp;&nbsp; validation one time.&nbsp; For example if a physical button is depressed<br>&nbsp;&nbsp; during the bootstrapping operation.&nbsp; This can be useful if the vendor<br>&nbsp;&nbsp; service is unavailable.&nbsp; This behavior SHOULD be available via local<br>&nbsp;&nbsp; configuration or physical presence methods to ensure new entities can<br>&nbsp;&nbsp; always be deployed even when autonomic methods fail.&nbsp; This allows for<br>&nbsp;&nbsp; unsecured imprint.<br><br>&nbsp;&nbsp; It is RECOMMENDED that this only be available if hardware assisted<br>&nbsp;&nbsp; NEA [RFC5209] is supported.&quot;<br><br>Q2: Is there any statement how a device without an IDevID could be used, pledge&#x2F;registrar ?<br><br><strong>4.3.&nbsp; Registrar security reductions</strong><br>&nbsp;&nbsp; 2.&nbsp; A registrar MAY choose to accept devices that claim a unique<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identity without the benefit of authenticating that claimed<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identity.&nbsp; This could occur when the Pledge does not include an<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X.509 IDevID factory installed credential.&nbsp; New Entities without<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an X.509 IDevID credential MAY form the Section 3.2 request using<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the Section 3.3 format to ensure the Pledge&#x27;s serial number<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information is provided to the Registar (this includes the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IDevIDAuthorityKeyIdentifier value which would be statically<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; configured on the Pledge).&nbsp; The Pledge MAY refuse to provide a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TLS client certificate (as one is not available).&nbsp; The Pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SHOULD support HTTP-based or certificate-less TLS authentication<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as described in EST RFC7030 section 3.3.2.&nbsp; A Registrar MUST NOT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; accept unauthenticated New Entities unless it has been configured<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to do so by an administrator that has verified that only expected<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new entities can communicate with a Registrar (presumably via a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; physically secured perimeter).<br><br>Q3: Is there a list of assignments needed ?<br>&nbsp;&nbsp;&nbsp; Page 13: id-mod-MASAURLExtn2016 - who assigns this ?<br><br><strong>5.&nbsp; IANA Considerations</strong><br><strong>5.1.&nbsp; PKIX Registry</strong><br><br>&nbsp;&nbsp; This document requests a number for id-mod-MASAURLExtn2016(TBD) from<br>&nbsp;&nbsp; the pkix(7) id-mod(0) Registry.&nbsp; [[EDNOTE: fix names]]<br><br>&nbsp;&nbsp; This document requests a number from the id-pe registry for id-pe-<br>&nbsp;&nbsp; masa-url.&nbsp; XXX<br><br>--------------------------------<br>Note 1: text is in textual order, sometimes i went back and found additional issues,<br>so the point numbering (Nxxx) is not in numerical order.<br><br>Note 2: I gave up on typos quickly, thats a separate round.<br><br>====================================================================================================<br><br>--------------------------------<br><br>N1: The intro with &quot;BRSKI provides a foundation to securely answer&quot; is great if we would<br>want the document to target only a room full of security expert. For the rest of us (ANIMA = OPS)<br>i think it would be great to prepend a few sentences that answer questions like &quot;what planet are we<br>on, what context do i need to load int my brain to understand the following&quot;.&nbsp;<br><br>I have suggested text to do that preprended before the existing text.&nbsp;<br><br>COMMENT: section 3.8 attempts to draw a clear line between BRSKI and EST to ensure a reasonable pivot to non-PKI solutions as necessary. Future proofed.&nbsp;<br><br>--------------------------------<br>A change has been added to clarify why voucher&#x27;s are their own document.<br>OK.<br>---------------------------------<br><br>N2: &quot;storing an X.509 root certificate&quot;.&nbsp;<br><br>Does this need to be a &quot;root&quot; certificate ?<br>Consider the most likely simple enterprise or SP deployment of BRSKI.<br>Organization has some root-CA. for the purpose of a particular ANI, a sub-CA is created, which<br>becomes the assigning CA that the registrar uses. The root-CA itself is likely never online<br>except when both Data Centers with the asigning CAs burn down.<br><br>In these environments, it is not suffficient to only store on the pledge the root-CA, because<br>that root-CA will also assign other subCA that create certificates, and those certificates<br>would not be valid for our ANI.<br><br>So, the pledge could either just store the assigning-CA, which becomes a virtual root CA,<br>and if it burns down the ANI is frozen (no new pledges possible, re-enroll whole ANI with<br>new CA), or the pledges need to store the CA-chain with root-CA and assigning CA. WHich is the<br>best solution because it allows revocation&#x2F;renewal of assigning CA in desaster cases.<br><br>I did not modify any text, but i am worried about this problem for actual deployments so i would<br>like to make sure we have documented an actual working solution.<br><br>Agreed: Remove the word &quot;root&quot;.&nbsp;<br>TBD: Move example of root CA and assigning CA into voucher document<br>The current text of the voucher document is (description of the relevant field in the yang module):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf-list pinned-domain-cert {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; min-elements 1;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;An X.509 v3 certificate structure as specified by RFC 5280,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Section 4 encoded using the ASN.1 distinguished encoding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rules (DER), as specified in ITU-T X.690.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This certificate is used by a pledge to trust a public key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; infrastructure, in order to verify a domain certificate.<br>In BRSKI terms: &quot;in order to verify that the registrar is a member of the domain by verifying it has a certificate that can be verified using pinned-domain-cert&quot;.&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; supplied to the pledge separately by the bootstrapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocol.&nbsp; The domain certificate MUST have this certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; somewhere in its chain of certificates.&nbsp; This certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MAY be an end-entity certificate, including a self-signed<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; entity.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reference<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;RFC 5280:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet X.509 Public Key Infrastructure Certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and Certificate Revocation List (CRL) Profile.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ITU-T X.690:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Information technology &#8211; ASN.1 encoding rules:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specification of Basic Encoding Rules (BER),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Canonical Encoding Rules (CER) and Distinguished<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Encoding Rules (DER).&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf domain-cert-revocation-checks {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type boolean;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; must &quot;..&#x2F;expires-on&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A processing instruction to the pledge that it MUST verify<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the revocation status for the domain certificate.&nbsp; This&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instruction is only available for vouchers that expire. If<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this field is not set, then normal PKIX behaviour applies<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to validation of the domain certificate.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf voucher-revocation-check {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; something to force (e.g. MUST) verify the revocation<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; status for the voucher&#x27;s certificate chain, to the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; extent possible<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KENT: What does it say in your version of voucher about lifetime? Section 6.1 4th paragraph?&nbsp;&nbsp; just a sec</li><ul><ul class="indent"><li>Or can you push your version?&nbsp; (i can&#x27;t, i&#x27;m mid-edit right now...)</li></ul></ul><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OK, pkease just check for us and i&#x27;ll wait till your edit is done.</li><li><br></li><li>6.1.&nbsp; Renewals instead of Revocations</li><li>The EDNOTE needs to be removed.&nbsp; (done, in my local copy)</li><li><br></li></ul><br>In BRSKI -06 it indicates:<br>&quot;The maximum<br>&nbsp;&nbsp; lifetime of the voucher issued SHOULD NOT exceed the lifetime of the<br>&nbsp;&nbsp; Registrar&#x27;s revocation validation (for example if the Registrar<br>&nbsp;&nbsp; revocation status is indicated in a CRL that is valid for two weeks<br>&nbsp;&nbsp; then that is an appropriate lifetime for the voucher).&quot;<br>I think this is ok. The voucher document doesn&#x27;t include this because it is a MASA behavior discussion.<br>--------------------------------<br><br>N3: The intro says &quot;and local access control lists. The Pledge actions&quot;...<br>What &quot;and local access control lists&quot; does this talk about ? If nobody knows, maybe delete ?<br><br>Suggest: (eg: whitelist or blacklist on registrar).<br><ul class="indent"><li>&nbsp;</li><li>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lists. The Pledge actions derive from a cryptographically protected</li><li>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lists (administratively defined white or black lists). The Pledge actions derive from a cryptographically protected</li><li><br></li></ul>--------------------------------<br><br>N4: I think the &quot;Other Bootstrapping Approaches&quot; is also a level of brackground information that<br>hurts the &quot;ease of digestion&quot; flow for the reader, so i have moved it into an appendix and left<br>a breadcrump in the intro section. Otherwise unchanged.<br><br>Not clear if we want to accept this change at all. MCR made it less destructive by moving it to the last appendix in Toerless&#x27;s suggested XML.<br>Here the git best practices of individual commits (via pull requests) would be helpful.&nbsp;<br><br>--------------------------------<br><br>N5: &quot;In many target applications, the systems involved are &quot;.... this section<br>in secion 1.3 is i think quite crucial and one of the biggest benefits of BRSKI<br>and a great reasoning why we have new complex elements like proxy and MASA, but i<br>think it is more suggestive than descriptive and raises more questions than<br>it answers. And even tthat is already divesting the readers attention by being<br>in the beginning of the document. This topic IMHO deserves a more thorough explanation.<br>I have suggested an appendix section &quot;Flexible SKU management&quot; that tries to do this.<br><br>I think it is appropriate for an appendix, because it seems that to enable this functionality,<br>we would need some more functionality eg: across ACP, in MASA and so on.<br><br>TODO: Change text to indicate the overall property is an ANIMA feature where both BRSKI and ACP need to collaborate to improbe ove existing bootstraps.<br><br>--------------------------------<br><br>N6: The &quot;Scope of the solution&quot; section is really a discussion about the applicability to<br>constrained environments. This IMHO also is not necessary to be at the top, so i also moved<br>it into an appendix and left a breadcrump in the introduction. Also changed the name<br>to &quot;Applicability to constrained environments&quot; as this is more descriptive of the actual content.<br>&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff&#x2e;pyht&#x3f;url1&#x3d;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;06&amp;url2&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;toerless&#x5f;review&#x5f;20170530&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;tools.ietf.org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff.pyht?url1=draft-ietf-anima-bootstrapping-keyinfra-06&amp;url2=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;toerless_review_20170530&#x2F;dtbootstrap-anima-keyinfra.txt</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>N6.1: &quot;The bootstrapping process can take minutes to complete&quot;. I bulletized and extended<br>the reasons for this. If i missed any core reasons contributing to the problem, please add.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;The bootstrapping process can take minutes to complete depending on<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the network infrastructure and device processing speed.&nbsp; Some of the reasons for this include: &lt;&#x2F;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;&lt;list style=&quot;symbols&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;The network communication itself is not optimized for speed (eg: no optimization for the number of round-trips).&lt;&#x2F;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;For privacy reasons, the discovery process allows for the Pledge to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; avoid announcing it&#x27;s presence through broadcasting. This can delay<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootstrap by the periodicity interval of the GRASP M_FLOOD announcements<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (eg: 30 seconds).&lt;&#x2F;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;Cryptographic operations (such as key generation and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exponentiation) can take a minute or more on pledges because of low-end CPU or TPM chips.&lt;&#x2F;t&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;list&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;t&gt;<br><br>N6.2: &quot;This protocol is not intended for low latency handoffs&quot;. I find the idea of<br>thinking to use this protocol for that purpose as grotesque as requesting a new passport<br>every time i want to go through airport security (instead of using one i got in before).<br>Aka: to me the statement is more confusing than helpfull. I would recommend to remove the sentence<br>or provide a more founded explanation why anybody would think about this option.<br><br>N6.3: &quot;specifically there are protocol aspects described here which might result<br>in congestion collapse&quot;...&nbsp; The following text makes it sound as if the verbosity of the<br>per-pledge enrolment is main the reason. I think this is misleading. From my understanding,<br>the likely even more important reason is the fact that parallel enrollment of multiple pledges<br>can not well be serialized. At least thats exactly the issue the 6TSCH adaptation of BRSKI is trying<br>to fix by reverting the initiator&#x2F;responder roles. I have tried to improve the text accordingly. Please check.<br><br>N6.4: &quot;It could also be used by non-constrained devices across a non-energy constrained, but challenged network&quot;<br>An short explanation what constitute being challenged in respect to 802.15.4 would help. Otherwise it is unclear why that example is being mentioned.<br><br>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;BRSKI provides a foundation to securely answer the following<br>+<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;The primary use-case for BRSKI is to be the secure, zero-touch<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootstrap component of an Autonomic Networking Infrastructure (ANI) as defined in<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;xref target=&quot;RFC7575&quot; &#x2F;&gt; and refined in &lt;xref target=&quot;I-D.ietf-anima-reference-model&quot; &#x2F;&gt;.<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The normative part of this document is necessary and sufficient for a<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; minimum interoperability standard to achieve this for equipment in well<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; managed, non-constrained networks and non-constrained class 2+ devices<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (as per &lt;xref target=&quot;RFC7228&quot; &#x2F;&gt;).&lt;&#x2F;t&gt;<br>+<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;Limitations and possible modifications&#x2F;extensions to BRSKI are discussed<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; later in the document. For example refer to &lt;xref target=&quot;IoT&quot; &#x2F;&gt; for how BRSKI relates<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to IoT environments and to &lt;xref target=&quot;reducedsecuritymodes&quot; &#x2F;&gt; for how to adopt BRSKI<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to various degress of reduced security.&lt;&#x2F;t&gt;<br>+<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;BRSKI is most easily understood as a new layer around PKI certificate<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enrollment using Enrollment over Secure Transport (EST, &lt;xref target=&quot;RFC7030&quot; &#x2F;&gt;) to make it&lt;&#x2F;t&gt;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;&lt;list style=&quot;symbols&quot;&gt;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;fully zero-touch and reliably diagnosed&lt;&#x2F;t&gt;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;eliminate trust on first use via&nbsp; the introduction of protocol between a&nbsp;<br><ul><ul><ul class="indent"><li>eliminate &#x27;Trust&nbsp; on First Use&#x27; (TOFU) [RFC7435], &#x27;resurrecting duckling&#x27; [Stajano99theresurrecting] or &#x27;pre-staging&#x27; via the introduction of this BRSKI protocol between a&nbsp;</li></ul></ul></ul>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MASA (Manufacturer Authorized Signing Authority) and (owner) Registrar&lt;&#x2F;t&gt;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;support minimal connectivity for initial bootstrap while protecting core network resources&nbsp;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; by the introduction of a component called the (Circuit) Proxy.&lt;&#x2F;t&gt;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;list&gt;<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&#x2F;t&gt;<br>+<br>+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;This new layer of BRSKI provides a foundation to securely answer the following<br><br>--------------------------------<br><br>N7: The paragraph mentioning 802.1X is very suggestive and IMHO opens more questions<br>than answering them. It also breaks the core flow of the text. I suggest to move this<br>discussion into an appendix and make it more descriptive. I have proposed text for this<br>via a separate appendix (Network Access Control interop).<br><br>for section 1.1:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;BRSKI does not depend upon, or preclude &lt;xref target=&quot;NACinterop&quot;&gt;Network Access Control.&lt;&#x2F;xref&gt;&lt;&#x2F;t&gt;<br><br><br><br>--------------------------------<br><br>N8: &quot;Architectural Overview&quot;<br><br>N8.1: &quot;Each component is logical and may be combined with other components as necessary.&quot;<br>I have no idea what this means. It sounds like i can build a solution without Registrar<br>and without Pledge. Aka: either clarify or remove sentence.<br><ul class="indent"><li>combined-&gt;colocated</li></ul><br>N8.2: Figure 1: Suggested improvements to picture leveraged in below improved explanation.<br>Added protocol to lines to clarify which protocols run where.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; In order to deploy an LDevID to the pledge, the Registrar also acts as a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PKI Registration Authority.&lt;&#x2F;t&gt;<br><br>IMprove picture:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - PKI RA included in Domain Registrar box<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - dotted line through the circuit proxy (to clarify it is just a proxy)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Label edges with appropriate protocols (need to come up with different word instead of BRSKI for new protocol elements -&gt; Max:).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - unchanged EST PKI RA to CA<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BRSKI-EST&nbsp;&nbsp;&nbsp; - these are EST as exists plus section 3.8<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BRSKI-MASA&nbsp;&nbsp; - these are the communications to the MASA from the vendor<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Ownership Tracker in Vendor Service dotted (optional).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>eg: remove from toerless pictuer - optional extension (no, PKI RA madatory in registrar).</li></ul><br>N8.3: Suggested improved text for textual explanation of Figure 1.&nbsp;<br>- It needed to better explain each block shown and how they relate. Eg; Added text for MASA.<br>- Original text said that PKI RA can optionally be integrated with Domain Registrar.<br>&nbsp; In reality i think that it is the other way around: It MUST be integrated with Domain<br>&nbsp; Registrar unless additional extensions are implemented, eg: in Circuit Proxy. Explained that<br>&nbsp; in the text.<br>- Mentioned that PKI CA can be outsourced and does not require any BRSKI extensions.<br>&nbsp; important IMHO to show the simplicity of deployment.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------------------+<br>&nbsp;&nbsp; +--------------Drop Ship---------------&gt;| Vendor Service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------------------+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | M anufacturer|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | A uthorized&nbsp; |Ownership|<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | S igning&nbsp;&nbsp;&nbsp;&nbsp; |Tracker&nbsp; .<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | A uthority&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +--------------+-.-.-.-.-+<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ^<br>&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.3,3.4&nbsp;&nbsp; |&nbsp; BRSKI-<br>&nbsp;&nbsp; V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.6,3.7&nbsp;&nbsp; |&nbsp;&nbsp; MASA<br>+-------+&nbsp;&nbsp;&nbsp;&nbsp; ............................................|...<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; +------------+ 3.2&nbsp;&nbsp; +-----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | 3.4&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; .<br>|Pledge |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; |&nbsp;&nbsp; Circuit&nbsp; | 3.5&nbsp;&nbsp; | Domain&nbsp;&nbsp;&nbsp; &lt;-------+&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; |&nbsp;&nbsp; Proxy&nbsp;&nbsp;&nbsp; | BRSKI | Registrar |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;--------&gt;............&lt;-------&gt; (PKI RA)&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | B-EST |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp; +------------+ 3.8&nbsp;&nbsp; +-----+-----+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>|IDevID |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | EST RFC7030&nbsp;&nbsp;&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-----------------+----------+&nbsp;&nbsp;&nbsp;&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Key Infrastructure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; ............| (e.g. PKI Certificate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |......<br>+-------+&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Authority)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------------------------+&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ................................................<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Domain&quot; components<br><br>&nbsp;<br>&nbsp;&nbsp;<br><br>--------------------------------<br><br>N9: 2.3 Protocol flow&nbsp;<br><br>N9.1: Expanded picture<br>&nbsp; - showing GRASP for Registrar discovery by Circuit Proxy, ACP, L2 to circuit proxy<br><br>N9.2 - redid discovery part.<br><br><br>+--------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------+&nbsp;&nbsp;&nbsp; +------------+&nbsp;&nbsp;&nbsp;&nbsp; +------------+<br>| Pledge |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Circuit |&nbsp;&nbsp;&nbsp; | Domain&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | Vendor&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Proxy&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; | Registrar&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | Service&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; |&nbsp; (PKI RA)&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; (MASA)&nbsp;&nbsp;&nbsp; |<br>+--------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------+&nbsp;&nbsp;&nbsp; +------------+&nbsp;&nbsp;&nbsp;&nbsp; +------------+<br>&nbsp; Discovery of Registrar by Proxy:<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;------------------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; GRASP M_FLOOD&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br><br>&nbsp;&nbsp;&nbsp; Discovery of Proxy by Pledge:<br>&nbsp; |&lt;-RFC4862 IPv6 adr&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>or|&lt;-RFC3927 IPv4 adr&nbsp;&nbsp; | Appendix A&#x2F;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |--------------------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; | optional: mDNS query| Appendix E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; | RFC6763&#x2F;RFC6762&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&lt;--------------------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; | GRASP M_FLOOD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp; periodic broadcast|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;<br>&nbsp; TLS connection Proxy to Proxy:<br>&nbsp; |&lt;-------------------&gt;C&lt;-----------------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TLS via the Circuit Proxy&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&lt;--Registrar TLS server authentication---|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>[PROVISIONAL accept of server cert]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P---X.509 client authentication----------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P---Request Voucher (include nonce)------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;---&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [accept device?]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [contact Vendor]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--Pledge ID--------&gt;|<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--Domain ID--------&gt;|<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |--optional:nonce---&gt;|<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; [extract DomainID]<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; optional:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; [update audit log]<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |can&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |occur&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |advance&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;-device audit log--|<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;- voucher ---------|<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \----&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [verify audit log and voucher]&nbsp;&nbsp; |<br>&nbsp; P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; P&lt;------voucher---------------------------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>[verify voucher ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>[verify provisional cert|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&lt;---------------------------------------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; | Continue with RFC7030 enrollment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; | using now bidirectionally authenticated |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; | TLS session.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br><br>--------------------------------<br><br>at end of 2017-06-02:<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff&#x2e;pyht&#x3f;url1&#x3d;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;06&amp;url2&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;toerless&#x5f;review&#x5f;20170530&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;tools.ietf.org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff.pyht?url1=draft-ietf-anima-bootstrapping-keyinfra-06&amp;url2=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;toerless_review_20170530&#x2F;dtbootstrap-anima-keyinfra.txt</a><br><br><br>at the end of 2017-06-06:<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff&#x2e;pyht&#x3f;url1&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;toerless&#x5f;review&#x5f;20170530&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt&amp;url2&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;toerless&#x5f;review&#x5f;section3&#x5f;20160606&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;tools.ietf.org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff.pyht?url1=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;toerless_review_20170530&#x2F;dtbootstrap-anima-keyinfra.txt&amp;url2=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;toerless_review_section3_20160606&#x2F;dtbootstrap-anima-keyinfra.txt</a><br><br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff&#x2e;pyht&#x3f;url1&#x3d;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;06&amp;url2&#x3d;https&#x3a;&#x2F;&#x2F;raw&#x2e;githubusercontent&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;toerless&#x5f;review&#x5f;section3&#x5f;20160606&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;tools.ietf.org&#x2F;tools&#x2F;rfcdiff&#x2F;rfcdiff.pyht?url1=draft-ietf-anima-bootstrapping-keyinfra-06&amp;url2=https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;toerless_review_section3_20160606&#x2F;dtbootstrap-anima-keyinfra.txt</a><br><br>N10: Protocol details<br><br>N10.1: Moved &quot;run BRSKI when unconfigured&quot; into subsection &quot;High Level&quot; and amended that<br>with an explanation of the high level workflow.<br><br><br>N10.2: Added explanation why BRSKI is EST7030 extension (instead of separate connection)<br>also ecause of circuit proxy.<br><br>N10.2: &quot;If the Registrar responds with a redirection to other web origins the Pledge MUST follow<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only a single redirection&quot;<br>Can we detail a single workflow where this is beneficial in the standard workflow, eg:<br>wrt to the Circuit Proxy ? I fail to see how this would work in general except if the<br>Pledge has aquired a global IPv4&#x2F;IPv6 address.<br><br>N10.3: &quot;discovered Registar&quot; -&gt; &quot;discovered Circuit Proxies&quot;<br><br><br>--------------------------------<br><br>N11: &quot;IPv4&#x2F;mDNS operations&quot;<br><br>It is unclear from existing text when and why pledges and&#x2F;or proxies would want to use<br>IPv4 instead of IPv6 and&#x2F;or mDNS instead of GRASP. Without further changes, these sections<br>would easily result in a lot of incompatible implementation choices.<br><br>I have proposed an expanded, refined text under the title of &quot;Supporting pledges without ANI&quot;.<br>That IMHO is really the context for which all these options are relevant:<br>&nbsp;- which devices could this apply to (many)<br>&nbsp;- benefits of BRSKI for these devices with simple example<br>&nbsp;- explain how to do BRSKI discovery using whatever protocols pledge already uses without BRSKI<br>&nbsp;&nbsp; (IPv4 vs. IPv6, mDNS vs GRASP)<br>&nbsp;-&nbsp;<br><br>I suggest to move this whole text into a new standalone document. Even if it becomes a rather<br>sort document, it would IMHO help a lot to promote the idea of applying BRSKI outside of full ANI<br>implementations.&nbsp;<br><br>If we fork off a document for this right now, we can leave a breadcrump (reference) to it<br>in BRSKI itself and therefore make sure that readers of BRSKI will still know about that<br>large scope of applicability of BRSKI.<br><br>Note: This move would of course eradicate all mentioning of IPv4 and mDNS from the main BRSKI<br>document.<br><br>NX.1: I have added a sentence &quot;Circuit Proxy SHOULD send unsolicited multicast responses for<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the bootstrap service every 30 seconds&quot; to the section about how to operate mDNS.<br><br>My understanding of RFC6762 is that there is NO periodic unsolicited multicast of<br>responses, so what this sentence says is a change to RFC6762. If that change is acceptable<br>to IESG review, then pledges can passively listen to mDNS. If this sentence is not acceptable,<br>then the whole paragraph will become questionable and pledges using mDNS may be forced to<br>send queries to reliably get responses.<br><br>--------------------------------<br><br>TODO: Need to update author addresses. (Also for Steinthor - just pinged him)<br><br>Toerless: Webex loading slowly...(toerless) 39% now..<br>Whats a good URL to compare two RFC XML files, then i can bring that up and screen share once my webex is up<br><br><br>2017-06-02:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr,&nbsp;</li><li>webex or appear.in?</li></ul><br>May Kuato live!!<br><br><br>6&#x2F;6: kent - are we meeting today? where?<br><ul class="indent"><li>we are doing appear.in right now?</li><li>(I have a webex standing by if we need it ;)&nbsp;</li></ul>2017-06-06:&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, toerless, max, michaelbehringer, kent (still here, just listening...)</li><li><br></li><li><br></li></ul>3.&nbsp; Protocol Details<br><br><s>&nbsp;&nbsp; The Pledge MUST initiate BRSKI after boot if it is unconfigured.&nbsp; The</s><br><s>&nbsp;&nbsp; Pledge MUST NOT automatically initiate BRSKI if it has been</s><br><s>&nbsp;&nbsp; configured or is in the process of being configured.</s><br><br>&nbsp;&nbsp; BRSKI is described as extensions to EST [RFC7030] to reduce the<br>&nbsp;&nbsp; number of TLS connections and crypto operations required on the<br>&nbsp;&nbsp; Pledge.&nbsp; The Registrar implements the BRSKI REST interface within the<br>&nbsp;&nbsp; same .well-known URI tree as the existing EST URIs as described in<br>&nbsp;&nbsp; EST [RFC7030] section 3.2.2.&nbsp; A MASA URI is therefore &quot;https:&#x2F;&#x2F;<br>&nbsp;&nbsp; authority &quot;.&#x2F;well-known&#x2F;est&quot;.<br><br>&nbsp;&nbsp; Establishment of the TLS connection for bootstrapping is as specified<br>&nbsp;&nbsp; in EST [RFC7030] section 4.1.1 &quot;Bootstrap Distribution of CA<br>&nbsp;&nbsp; Certificates&quot; [RFC7030] with the following extensions for automation:<br><br>&nbsp;&nbsp; Automation extensions for the Pledge (equivalent to EST client) are:<br><br>&nbsp;&nbsp; o&nbsp; The Pledge provisionally accepts the Registrar certificate during<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the TLS handshake as detailed in EST.<br><br>&nbsp;&nbsp; o&nbsp; If the Registrar responds with a redirection to other web origins<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the Pledge MUST follow only a single redirection.&nbsp; (EST supports<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; redirection but does not allow redirections to other web origins<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; without user input).<br><br>&nbsp;&nbsp; o&nbsp; The Registar MAY respond with an HTTP 202 (&quot;the request has been<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; accepted for processing, but the processing has not been<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; completed&quot;) as described in EST [RFC7030] section 4.2.3 wherein<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the client &quot;MUST wait at least the specified &#x27;retry-after&#x27; time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; before repeating the same request&quot;.&nbsp; The Pledge is RECOMMENDED to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; provide local feed (blinked LED etc) during this wait cycle if<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mechanisms for this are available.&nbsp; To prevent an attacker<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrar from significantly delaying bootstrapping the Pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MUST limit the &#x27;retry-after&#x27; time to 60 seconds.&nbsp; To avoid waiting<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on a single erroneous Registrar the Pledge MUST drop the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connection after 5 seconds and proceed to other discovered<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrars.&nbsp; Ideally the Pledge could keep track of the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; appropriate retry-after value for any number of outstanding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrars but this would involve a large state table on the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pledge.&nbsp; Instead the Pledge MAY ignore the exact retry-after value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in favor of a single hard coded value that takes effect between<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; discovery (Appendix D.1.1.1) attempts.&nbsp; A Registrar that is unable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to complete the transaction the first time due to timing reasons<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; will have future chances.<br><br>&nbsp;&nbsp; o&nbsp; The Pledge requests and validates a voucher using the new REST<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; calls described below.<br><br>&nbsp;&nbsp; o&nbsp; If necessary the Pledge calls the EST defined &#x2F;cacerts method to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; obtain the current CA certificate.&nbsp; These are validated using the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Voucher.<br><br>&nbsp;&nbsp; o&nbsp; The Pledge completes authentication of the server certificate as<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; detailed in Section 3.4.1.&nbsp; This moves the TLS connection out of<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the provisional state.&nbsp; Optionally the TLS connection can now be<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used for EST enrollment.<br><br>&nbsp;&nbsp; The Pledge establishes the TLS connection with the Registrar through<br>&nbsp;&nbsp; the circuit proxy (see Appendix D.1.2) but the TLS connection is with<br>&nbsp;&nbsp; the Registar; so in the above section the &quot;Pledge&quot; is the TLS client<br>&nbsp;&nbsp; and the &quot;Registrar&quot; is the TLS server.&nbsp; All security associations<br>&nbsp;&nbsp; established are between the new device and the Registrar regardless<br>&nbsp;&nbsp; of proxy operations.<br><br>&nbsp;&nbsp; The extensions for a Registrar (equivalent to EST server) are:<br><br>&nbsp;&nbsp; o&nbsp; Client authentication is automated using Initial Device Identity.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The subject field&#x27;s DN encoding MUST include the &quot;serialNumber&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attribute with the device&#x27;s unique serial number.&nbsp; In the language<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of RFC6125 this provides for a SERIALNUM-ID category of identifier<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that can be included in a certificate and therefore that can also<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be used for matching purposes.&nbsp; The SERIALNUM-ID whitelist is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; collated according to vendor trust anchor since serial numbers are<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not globally unique.<br><br>&nbsp;&nbsp; o&nbsp; The Registrar requests and validates the Voucher from the vendor<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authorized MASA service.<br><br>&nbsp;&nbsp; o&nbsp; The Registrar forwards the Voucher to the Pledge when requested.<br><br>&nbsp;&nbsp; o&nbsp; The Registar performs log verifications in addition to local<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authorization checks before accepting optional Pledge device<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enrollment requests.<br><br>3.1.&nbsp; Discovery<br><br>&nbsp;&nbsp; The result of discovery is a logical communication with a Registrar,<br>&nbsp;&nbsp; through a Proxy.&nbsp; The Proxy is transparent to the Pledge but is<br>&nbsp;&nbsp; always assumed to exist.<br><br>&nbsp;&nbsp; To discover the Registrar the Pledge performs the following actions:<br><br>&nbsp;&nbsp; <s>a.&nbsp; MUST: Obtains a local address using IPv6 methods as described in</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [RFC4862] IPv6 Stateless Address AutoConfiguration.&nbsp; [RFC7217] is</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encouraged.&nbsp; Pledges will generally prefer use of IPv6 Link-Local</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; addresses, and discovery of Proxy will be by Link-Local</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mechanisms.&nbsp; [[EDNOTE: In some environments, a routable public</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; address may be obtained, should it be?&nbsp; Should it be used?]] IPv4</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; methods are described in Appendix A</s><br><br>&nbsp;&nbsp;<s> b.&nbsp; MUST: Listen for GRASP M_FLOOD ([I-D.ietf-anima-grasp])</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; announcements of the objective: &quot;ACP+Proxy&quot;.&nbsp; See section</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Section 3.1.1 for the details of the the objective.&nbsp; The Pledge</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; may listen concurrently for other sources of information, see</s><br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Appendix B.</s><br><br><s>&nbsp;&nbsp; Once a proxy is discovered the Pledge communicates with a Registrar</s><br><s>&nbsp;&nbsp; through the proxy using the bootstrapping protocol defined in</s><br><s>&nbsp;&nbsp; Section 3.</s><br><br>&nbsp;<s>&nbsp; Each discovery method attempted SHOULD exponentially back-off</s><br><s>&nbsp;&nbsp; attempts (to a maximum of one hour) to avoid overloading the network</s><br><s>&nbsp;&nbsp; infrastructure with discovery.&nbsp; The back-off timer for each method</s><br><s>&nbsp;&nbsp; MUST be independent of other methods.</s><br><br><strong>&nbsp;&nbsp; <s>Methods SHOULD be run in parallel to avoid head of queue problems</s></strong><br><strong><s>&nbsp;&nbsp; wherein an attacker running a fake proxy or registrar can operate</s></strong><br><strong><s>&nbsp;&nbsp; protocol actions intentionally slowly.</s></strong><br><br><strong><s>&nbsp;&nbsp; Once a connection to a Registrar is established (e.g. establishment</s></strong><br><strong><s>&nbsp;&nbsp; of a TLS session key) there are expectations of more timely</s></strong><br><strong><s>&nbsp;&nbsp; responses, see Section 3.2.</s></strong><br><br><strong><s>&nbsp;&nbsp; Once all discovered services are attempted the device SHOULD return</s></strong><br><strong><s>&nbsp;&nbsp; to listening for GRASP M_FLOOD.&nbsp; It should periodically retry the</s></strong><br><strong><s>&nbsp;&nbsp; vendor specific mechanisms.&nbsp; The Pledge MAY prioritize selection</s></strong><br><strong><s>&nbsp;&nbsp; order as appropriate for the anticipated environment.</s></strong><br><br>3.1.1.&nbsp; Proxy Discovery Protocol Details<br><br>&nbsp;&nbsp; The proxy uses the GRASP M_FLOOD mechanism to announce itself.&nbsp; This<br>&nbsp;&nbsp; announcement is done with the same message as the ACP announcement<br>&nbsp;&nbsp; detailed in [I-D.ietf-anima-autonomic-control-plane].<br><br>&nbsp;&nbsp;&nbsp; proxy-objective = [&quot;Proxy&quot;, [ O_IPv6_LOCATOR, ipv6-address,<br>&nbsp;&nbsp;&nbsp; transport-proto, port-number ] ]<br><br>&nbsp;&nbsp;&nbsp; ipv6-address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - the v6 LL of the proxy<br>&nbsp;&nbsp;&nbsp; transport-proto&nbsp;&nbsp;&nbsp; - 6, for TCP 17 for UDP<br>&nbsp;&nbsp;&nbsp; port-number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - the TCP or UDP port number to find the proxy<br><br>&nbsp;&nbsp; Figure 5<br><br><s>3.1.2.&nbsp; Registrar Discovery Protocol Details</s><br><br><s>&nbsp;&nbsp; A Registrar is typically configured manually.&nbsp; When the Registrar</s><br><s>&nbsp;&nbsp; joins an Autonomic Control Plane</s><br><s>&nbsp;&nbsp; ([I-D.ietf-anima-autonomic-control-plane]) it MUST respond to GRASP</s><br><s>&nbsp;&nbsp; ([I-D.ietf-anima-grasp]) M_NEG_SYN message.</s><br><br><s>&nbsp;&nbsp; The registrar responds to discovery messages from the proxy (or GRASP</s><br><s>&nbsp;&nbsp; caches between them) as follows: (XXX changed from M_DISCOVERY)</s><br><br><s>&nbsp;&nbsp;&nbsp; objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [&quot;AN_registrar&quot;, F_DISC, 255 ]</s><br><s>&nbsp;&nbsp;&nbsp; discovery-message = [M_NEG_SYN, session-id, initiator, objective]</s><br><br><s>&nbsp;&nbsp; Figure 6: Registrar Discovery</s><br><br><s>&nbsp;&nbsp; The response from the registrar (or cache) will be a M_RESPONSE with</s><br><s>&nbsp;&nbsp; the following parameters:</s><br><br>2017-06-13:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, max, toerless, peter van der stok, kent</li><li>GO AHEAD WITHOUT MCR. Time for a reboot anyway after 100 days up.</li></ul><br>we are going to meet here<br><a href="https&#x3a;&#x2F;&#x2F;cisco&#x2e;webex&#x2e;com&#x2F;join&#x2F;pritikin">https:&#x2F;&#x2F;cisco.webex.com&#x2F;join&#x2F;pritikin</a><br>I like the concept of &#x27;appear.in&#x27; but the inconsistency of it is annoying&nbsp;<br><ul class="indent"><li><s>max, can you let me in on my desktop now?</s></li></ul><br>For voucher last call discussion make the following changes:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; * voucher&#x27;s are an assertion of &#x27;binding&#x27; between a &#x27;pledge&#x27; an an &#x27;owner&#x27;. This assertion is signed by the entity making the assertion which MAY be either a Pledge, a Registrar or a MASA (based on who the intended recipient of the voucher is). The relying party makes a policy decision about accepting the assertion.&nbsp; [toerless has additional edits he wishes]<br><br>2017-06-16<br><ul class="indent"><li>present: max, kent, toerless (*)</li></ul><br>Good morning folks. I&#x27;m in the <a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a> location but will have my webex standing by if needed.<br><br>agenda:<br><ul class="indent"><li>first discuss voucher pull request:</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;voucher&#x2F;pull&#x2F;4">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;voucher&#x2F;pull&#x2F;4</a></li><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;voucher&#x2F;pull&#x2F;4&#x2F;commits&#x2F;dec09a4acf96b0cfca5f7063bcdfe9b4043b4d80">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;voucher&#x2F;pull&#x2F;4&#x2F;commits&#x2F;dec09a4acf96b0cfca5f7063bcdfe9b4043b4d80</a></li><li><br></li></ul><li>Summary:</li><li>&nbsp;&nbsp;</li><li>discuss associated changes in BRSKI (max to share)</li><li>move to toerless&#x27;s ongoing diffs</li><li><br></li></ul>2017-06-20:<br>&nbsp;&nbsp;&nbsp; present: mcr, toerless, kent (joining)<br><ul class="indent"><li><br></li></ul>[apparently no notes for 06-20?]<br><ul><ul class="indent"><li><br></li></ul></ul>2017-06-27:<br>&nbsp;&nbsp;&nbsp; present: mcr, kent, max (coming in), toerless, peter<br><br>Need to post the final voucher doc to address last call comments.<br><ul class="indent"><li>Max to inform last call thread of these changes to ensure BRSKI can go to last call w&#x2F;o further changes to voucher.</li><li>Kent to push voucher update.</li></ul><br>Some prepatory notes &#x2F; agenda proposals:<br><ul class="indent"><li>From &quot;important dates&quot;</li><li><strong>2017-07-03 (Monday):</strong> Internet Draft submission cut-off (for all drafts, including -00) by UTC 23:59, upload using IETF ID Submission Tool.</li></ul>&nbsp;&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>handle pull request: <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;pull&#x2F;7">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;pull&#x2F;7</a></li><li><br></li><li>Open issues:</li><ul class="indent"><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;issues">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;issues</a></li><li><br></li></ul><li>ietf99 agenda:</li><ul class="indent"><li>Wednesday, July 19, 2017 (only?)</li><li>What is our plan. Did we get space to discuss etc.</li><li><br></li></ul></ul>ACTION: max to write up description of proposed voucher and BRSKI changes to WGLC thread.<br><ul class="indent"><li>- discussion about proximity</li><li><br></li></ul><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;issues&#x2F;4">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;issues&#x2F;4</a><br><br><br>2017-06-29:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: max,&nbsp;</li><li><br></li></ul><br>2017-07-25:<br>&nbsp;&nbsp;&nbsp; present: kent, mcr, max, toerless,<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; BRSKI will import the YANG voucher model, and will refine it to produce a voucherrequest.<br>&nbsp;&nbsp;&nbsp; Discussion about whether or not YANG 1.1 deprecated&#x2F;discouraged use of refine.<br>&nbsp;&nbsp;&nbsp; No, this was &quot;deviation&quot;, not refine. [see <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netmod&#x2d;rfc6087bis&#x2d;13">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netmod-rfc6087bis-13</a>]<br>&nbsp;&nbsp;&nbsp; ACTION: Kent to produce some suggested text for the &#x27;voucher request&#x27; so we can evaluate<br><br>&nbsp;&nbsp;&nbsp; Voucher request dsicussion is targeted for BRSKI document. If it is unweildy&#x2F;complex beyond reason then we would make the voucher doc address. But generally: our goal is to allow voucher document to proceed (not hold it up!) and get BRSKI<br>&nbsp;&nbsp;&nbsp; finalized asap afterward. This may not be globally ideal but it is a local ideal.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; <s>TOPIC from MCR: freshness in nonce and PoP in voucherrequest.</s><br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; concern that nonce in voucher request may be &quot;stale&quot; --- that it could be captured and then repeated.</li><ul class="indent"><li>&nbsp; proximity tries to assert that the registry and pledge are near each other.</li></ul></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We believe that the VR being signed by the same identity as the TLS Client Certificate.<br><br><ul><ul class="indent"><li>The MASA verifies that the Registrar making the claim is the same registrar that the pledge sees. This ensures that the asokan etc attack is not occuring. It is not a freshness check.</li><li>What is verified is: The pledge and the MASA are seeing the same registrar.&nbsp;</li><li>ACTION: mcr to write up concern for security considerations, and to explain why the above solves the problem.</li><li>&quot;&nbsp;&nbsp; pinned-domain-cert:&nbsp; In a Pledge voucher request this is the</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrar certificate as extracted from the TLS handshake (for</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example the first certificate in the TLS &#x27;certificate_list&#x27;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sequence (see [RFC5246]).&nbsp; This MUST be populated in a Pledge&#x27;s</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher request if the &quot;proximity&quot; assertion is populated.&quot;</li></ul></ul><br><br>&nbsp;&nbsp;&nbsp; TOPIC from Max: lets discuss &#x27;proxy&#x27; and Lp (as per thread)<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;ietf&#x2e;org&#x2F;mail&#x2d;archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02857&#x2e;html">https:&#x2F;&#x2F;www.ietf.org&#x2F;mail-archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02857.html</a></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;ietf&#x2e;org&#x2F;mail&#x2d;archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02862&#x2e;html">https:&#x2F;&#x2F;www.ietf.org&#x2F;mail-archive&#x2F;web&#x2F;anima&#x2F;current&#x2F;msg02862.html</a></li><li>&nbsp;&nbsp;&nbsp; ACTION: mcr to write up the Proxy tells the Registrar what the LxX is&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vs:&nbsp; the Registrar tells the Proxy what LxR to use</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vs:&nbsp; the Registrar has multiple addresses and all tunnels are unique.</li><li><br></li></ul>2017-08-01:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; additional discussion for proxy discussion:</li><ul class="indent"><li>As indicated in Discover 3.1 the Pledge:</li></ul></ul>&nbsp;&nbsp; a.&nbsp; MUST: Obtains a local address using IPv6 methods as described in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [RFC4862] IPv6 Stateless Address AutoConfiguration.&nbsp; [RFC7217] is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encouraged.&nbsp; Pledges will generally prefer use of IPv6 Link-Local<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; addresses, and discovery of Proxy will be by Link-Local<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mechanisms.&nbsp; IPv4 methods are described in Appendix A<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add text ref RFC4941 temporary addresses (s3.3):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Use of &lt;xref target=&quot;RFC4941&quot; &#x2F;&gt; temporary addresses is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encouraged.&nbsp; A new temporary address SHOULD be allocated<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; whenever the discovery process is forced to restart due<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to failures.<br><br><ul><ul class="indent"><li>Content-Type: application&#x2F;voucher[request]; format=jwt&nbsp; &lt;- not well defined.</li><li><br></li><li>Content-Type: application&#x2F;voucher[request]+cms</li><li><br></li></ul></ul>We agree do the iana for the media types currently defined in the document:<br>application&#x2F;voucherrequest<br>application&#x2F;unsignedvoucherrequest<br>etc<br><br>With the additional iana for the &quot;+cms&quot; and &quot;+jwt&quot; to be defined IN THE FUTURE as well (its just iana cookie cutter for now). These types are not used for mandatory to implement but doing the iana work now to prepare for future in one shot.&nbsp;<br>&quot;Future voucher documents MAY use other +xxx formats, relying parties are encouraged to fail gracefully for unknown formats.&quot;<br>ACTION: Max to produce the diffs for this<br><br>Update address for:&nbsp;<br>For &quot;Bjarnason, Steinthor&quot; &lt;sbjarnason@arbor.net&gt;<br>sbjarnason@arbor.net&nbsp;<br><br><br><br><br><br><br><br><br><br><br>module ietf-voucher-request {<br>&nbsp; yang-version 1.1;<br><br>&nbsp; namespace<br>&nbsp;&nbsp;&nbsp; &quot;urn:ietf:params:xml:ns:yang:ietf-voucher-request&quot;;<br>&nbsp; prefix &quot;vch&quot;;<br><br>&nbsp; import ietf-yang-types {<br>&nbsp;&nbsp;&nbsp; prefix yang;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 6991: Common YANG Data Types&quot;;<br>&nbsp; }<br><br>&nbsp; import ietf-restconf {<br>&nbsp;&nbsp;&nbsp; prefix rc;<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;This import statement is only present to access<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the yang-data extension defined in RFC 8040.&quot;;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 8040: RESTCONF Protocol&quot;;<br>&nbsp; }<br><br>&nbsp; import ietf-voucher {<br>&nbsp;&nbsp;&nbsp; prefix v;<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;&quot;;<br>&nbsp;&nbsp;&nbsp; reference &quot;&quot;;<br>&nbsp; }<br><br>&nbsp; organization<br>&nbsp;&nbsp; &quot;IETF ANIMA Working Group&quot;;<br><br>&nbsp; contact<br>&nbsp;&nbsp; &quot;WG Web:&nbsp;&nbsp; &lt;<a href="http&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;">http:&#x2F;&#x2F;tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;</a>&gt;<br>&nbsp;&nbsp;&nbsp; WG List:&nbsp; &lt;<a href="mailto&#x3a;anima&#x40;ietf&#x2e;org">mailto:anima@ietf.org</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Kent Watsen<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;kwatsen&#x40;juniper&#x2e;net">mailto:kwatsen@juniper.net</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Max Pritikin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;pritikin&#x40;cisco&#x2e;com">mailto:pritikin@cisco.com</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Michael Richardson<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;mcr&#x2b;ietf&#x40;sandelman&#x2e;ca">mailto:mcr+ietf@sandelman.ca</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Toerless Eckert<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;tte&#x2b;ietf&#x40;cs&#x2e;fau&#x2e;de">mailto:tte+ietf@cs.fau.de</a>&gt;&quot;;<br><br>&nbsp; description<br>&nbsp;&nbsp; &quot;This module... FIXME<br><br>&nbsp;&nbsp;&nbsp; The key words &#x27;MUST&#x27;, &#x27;MUST NOT&#x27;, &#x27;REQUIRED&#x27;, &#x27;SHALL&#x27;, &#x27;SHALL NOT&#x27;,<br>&nbsp;&nbsp;&nbsp; &#x27;SHOULD&#x27;, &#x27;SHOULD NOT&#x27;, &#x27;RECOMMENDED&#x27;, &#x27;MAY&#x27;, and &#x27;OPTIONAL&#x27; in<br>&nbsp;&nbsp;&nbsp; the module text are to be interpreted as described in RFC 2119.<br><br>&nbsp;&nbsp;&nbsp; Copyright (c) 2017 IETF Trust and the persons identified as&nbsp;<br>&nbsp;&nbsp;&nbsp; authors of the code. All rights reserved.<br><br>&nbsp;&nbsp;&nbsp; Redistribution and use in source and binary forms, with or without<br>&nbsp;&nbsp;&nbsp; modification, is permitted pursuant to, and subject to the license<br>&nbsp;&nbsp;&nbsp; terms contained in, the Simplified BSD License set forth in Section<br>&nbsp;&nbsp;&nbsp; 4.c of the IETF Trust&#x27;s Legal Provisions Relating to IETF Documents<br>&nbsp;&nbsp;&nbsp; (<a href="http&#x3a;&#x2F;&#x2F;trustee&#x2e;ietf&#x2e;org&#x2F;license&#x2d;info&#x29;">http:&#x2F;&#x2F;trustee.ietf.org&#x2F;license-info)</a>.<br><br>&nbsp;&nbsp;&nbsp; This version of this YANG module is part of RFC XXXX; see the RFC<br>&nbsp;&nbsp;&nbsp; itself for full legal notices.&quot;;<br><br>&nbsp; revision &quot;YYYY-MM-DD&quot; {<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;Initial version&quot;;<br>&nbsp;&nbsp;&nbsp; reference<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;RFC XXXX: Voucher Profile for Bootstrapping Protocols&quot;;<br>&nbsp; }<br><br>&nbsp; &#x2F;&#x2F;rc:yang-data voucher-request-artifact {<br><br>&nbsp; container voucher-request-artifact {<br>&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; YANG data template for a voucher-request.<br>&nbsp;&nbsp;&nbsp; uses v:voucher-artifact-grouping {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; augment &quot;voucher&quot;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf prior-signed-voucher2 {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; refine &quot;voucher&#x2F;created-on&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; }<br><br>}<br><br>A current example from the draft, modified to be a request would look like:<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;ietf-voucher-request:voucher&quot;: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nonce&quot;: &quot;62a2e7693d82fcda2624de58fb6722e5&quot;,<br><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;created-on&quot;: &quot;2017-01-01T00:00:00.000Z&quot;,</s><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;assertion&quot;: &quot;proximity&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;pinned-domain-cert2&quot;: &quot;&lt;base64 encoded certificate&gt;&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>Kent: to create a high level section (between 2 and 3) that details this. We&#x27;ll review the new outline&#x2F;toc and ensure we like it.<br><br><br>2017-08-08:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>max to respond to ipr discussion<br>max to describe initial mime-type changes<br><ul class="indent"><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;2e6d4669d89e75a06bcb7dc4cf281543eb24cb66">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;2e6d4669d89e75a06bcb7dc4cf281543eb24cb66</a></li><li><a href="https&#x3a;&#x2F;&#x2F;www&#x2e;iana&#x2e;org&#x2F;assignments&#x2F;media&#x2d;type&#x2d;sub&#x2d;parameters&#x2F;media&#x2d;type&#x2d;sub&#x2d;parameters&#x2e;xhtml">https:&#x2F;&#x2F;www.iana.org&#x2F;assignments&#x2F;media-type-sub-parameters&#x2F;media-type-sub-parameters.xhtml</a></li></ul>smime-type Value Reference certs-only[RFC5751, Section 3.2.2]CMC-Request[RFC5273, Section 3]CMC-Response[RFC5273, Section 3]compressed-data[RFC5751, Section 3.2.2]enveloped-data[RFC5751, Section 3.2.2]enveloped-x400[RFC3854, Section 3.3.1]server-generated-key[RFC7030, Section 4.4.2]signed-data[RFC5751, Section 3.2.2]signed-receipt[RFC2634, Section 2.4]signed-x400[RFC3854, Section 3.2.1]<br><br><br>&nbsp;&nbsp; HTTP&#x2F;1.1 200 OK<br>&nbsp;&nbsp; Status: 200 OK<br>&nbsp;&nbsp; Content-Type: application&#x2F;pkcs7-mime; smime-type=voucher<br>OPEN QUESTION: do what do we say about the &#x27;content-transfer-encoding&#x27;?<br>&nbsp;&nbsp; Content-Transfer-Encoding: base64<br>For application&#x2F;json the transfer encoding is text<br><br>raw from my notes:<br>smime-type is originally defined in RFC3851 but the more recent reference is RFC5751, RFC7030, 3851 etc. But RFC7114 defines the IANA registry.<br><br>For raw JSON info, e.g. status we use:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;section title=&quot;Voucher Status Telemetry &quot;&gt;<br>[snip]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;t&gt;The posted data media type: application&#x2F;json&lt;&#x2F;t&gt;<br>We could then do application&#x2F;json for the unsigned voucher request and it would be consistent with this.<br>RESOLUTION: use application&#x2F;json ; max to update text to reflect this<br><br>{<br>&nbsp; &quot;ietf-voucher-request:voucher&quot;: {<br>&nbsp;&nbsp;&nbsp; &quot;nonce&quot;: &quot;62a2e7693d82fcda2624de58fb6722e5&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;created-on&quot;: &quot;2017-01-01T00:00:00.000Z&quot;,<br>&nbsp;&nbsp;&nbsp; &quot;assertion&quot;: &quot;proximity&quot;<br>&nbsp;&nbsp;&nbsp; &quot;idevid-issuer&quot;: &quot;&lt;base64 encoded Authority Key Identifier&gt;&quot;<br>&nbsp;&nbsp;&nbsp; &quot;serial-number&quot;: &quot;JADA123456789&quot;<br>&nbsp;&nbsp;&nbsp; &quot;prior-signed-voucher&quot;: &quot;&lt;base64 encode prior voucher request&gt;&quot;<br>&nbsp; }<br>}<br><br>application&#x2F;jwt<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7519">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7519</a><br><br>kent failed to do his action items&nbsp; :(<br>&nbsp;&nbsp;&nbsp; mcr also is behind on actions.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;issues&#x2F;18">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;issues&#x2F;18</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br><br>
<div style="display:none"><a href="/javascript" data-jslicense="1">JavaScript license information</a></div>
</body>
</html>
