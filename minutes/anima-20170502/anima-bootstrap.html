<!doctype html>
<html lang="en">
<head>
<title>anima-boostrapping</title>
<meta name="generator" content="Etherpad">
<meta name="author" content="Etherpad">
<meta name="changedby" content="Etherpad">
<meta charset="utf-8">
<style>
* {
  font-family: arial, sans-serif;
  font-size: 13px;
  line-height: 17px;
}
ul.indent {
  list-style-type: none;
}
ol {
  list-style-type: none;
  padding-left: 0;
}
body > ol {
  counter-reset: first second third fourth fifth sixth seventh eigth ninth tenth eleventh twelth thirteenth fourteenth fifteenth sixteenth;
}
ol > li:before {
  content: counter(first) ". ";
  counter-increment: first;
}
ol > ol > li:before {
  content: counter(first) "." counter(second) ". ";
  counter-increment: second;
}
ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) ". ";
  counter-increment: third;
}
ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) ". ";
  counter-increment: fourth;
}
ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) ". ";
  counter-increment: fifth;
}
ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) ". ";
  counter-increment: sixth;
}
ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) ". ";
  counter-increment: seventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) ". ";
  counter-increment: eigth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) ". ";
  counter-increment: ninth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) ". ";
  counter-increment: tenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) ". ";
  counter-increment: eleventh;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) ". ";
  counter-increment: twelth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) ". ";
  counter-increment: thirteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) ". ";
  counter-increment: fourteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) ". ";
  counter-increment: fifteenth;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > li:before {
  content: counter(first) "." counter(second) "." counter(third) "." counter(fourth) "." counter(fifth) "." counter(sixth) "." counter(seventh) "." counter(eigth) "." counter(ninth) "." counter(tenth) "." counter(eleventh) "." counter(twelth) "." counter(thirteenth) "." counter(fourteenth) "." counter(fifteenth) "." counter(sixthteenth) ". ";
  counter-increment: sixthteenth;
}
ol {
  text-indent: 0px;
}
ol > ol {
  text-indent: 10px;
}
ol > ol > ol {
  text-indent: 20px;
}
ol > ol > ol > ol {
  text-indent: 30px;
}
ol > ol > ol > ol > ol {
  text-indent: 40px;
}
ol > ol > ol > ol > ol > ol {
  text-indent: 50px;
}
ol > ol > ol > ol > ol > ol > ol {
  text-indent: 60px;
}
ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 70px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 80px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 90px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 100px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 110px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 120px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 130px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 140px;
}
ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol > ol {
  text-indent: 150px;
}

</style>
</head>
<body>
WEEKLY INVITE, SEE ANIMA BOOTSTRAP WIKI: <a href="https&#x3a;&#x2F;&#x2F;trac&#x2e;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap">https:&#x2F;&#x2F;trac.tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;trac&#x2F;wiki&#x2F;Bootstrap</a>&nbsp; draft is always at: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;04">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-04</a><br><br>NOTE NOTE NOTE: BRSKIEtherpad<br>Current and most recent meeting notes are added to the BOTTOM of this document.<br>The reason for this is so that we can consistently refer to line number and have them stay (mostly) the same as we add newlines. If Etherpad offered a feature for numbering from the bottom we could dispense with the pain of scrolling to the bottom of the document but:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br>&nbsp;&nbsp;&nbsp; PLEASE SCROLL TO THE BOTTOM OF THIS DOCUMENT TO START&#x2F;ENGAGE IN THE CURRENT MEETING<br><br><br>2016-11-22:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>1) recap of IETF97.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>Summary: need to show progress w&#x2F; an implementation. A bake-off for Chicago?<br><br>2) some discussion about minor restructing of document&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>Address the &quot;option overload&quot; problem by moving anything that isn&#x27;t strictly part of the anima use case into an appendix.&nbsp;<br>The primary goal would be to hit the use case:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; Pledge&lt;-&gt;Proxy&lt;-&gt;Registrar</li></ul>(this is both the anima use case as well as a primary constrained device &#x2F; IoT use case so we focus on it).&nbsp;<br>The use cases of Pledge&lt;-&gt;Cloud Proxy etc go into the appendix.<br>Clarify that these are included and discussed to ensure that the security considerations are complete as additional bootstrapping methods can lead to unintended &quot;downgrade&quot; attacks. New bootrapping methods can be used to undermine existing methods so they all must be considered within the original threat modeling.<br>AI: Michael to rip the doc apart for this<br>Goal: A target for bake-off with minimal option choices&nbsp;<br><br>3) the pair of EST over CoAP documents&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><ul class="indent"><li>-&gt; expect to merge documents, no major issues.</li><li>-&gt; is it BRSKI over CoAP, or EST over CoAP, ... &quot;BRSKI over CoAP&quot; inherently supports bootstrapping, which ACE cares more.</li><li>Where would&#x2F;should this work be done?</li></ul><br>If we look at&nbsp;<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;vanderstok&#x2d;core&#x2d;coap&#x2d;est&#x2d;00&#x23;section&#x2d;3&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-vanderstok-core-coap-est-00#section-3.1</a><br>&quot;&nbsp;&nbsp; The EST-coaps client MUST be configured with an implicit TA database<br>&nbsp;&nbsp; or an explicit TA database.&nbsp; The authentication of the EST-coaps<br>&nbsp;&nbsp; server by the EST-coaps client is based on Certificate authentication<br>&nbsp;&nbsp; in the DTLS handshake.&quot;<br>This bootstrapping method does not work for a headless device. It assumes either:<br>1) local configuration of the URI (implicit TA database)<br>2) local configuration of the explicit TA database (explicit TA database)<br>BRSKI is the 3rd approach:<br>&nbsp;&nbsp;&nbsp; 3) automatic bootstrapping of the TA database<br>ACE will need to use (3) therefore will need to do &quot;BRSKI over COAP&quot;.<br><br>Need to communicate this back to ACE working group.&nbsp;<br>AI: Michael engage on the ACE threads.<br><br>4) use of M_FLOOD<br><br>There is a lack of consensus as to GRASP vs mDNS for discovery of proxy, so we suggest that the full ANIMA Proxy MUST do M_FLOOD, (and in appendix X?) MUST do mDNS (and MAY do M_FLOOD in appendix).<br>Or: Proxy MUST do mDNS and MUST do M_FLOOD.<br><br>A new pledge SHOULD listen to mDNS or M_FLOOD, and MAY listen for both.<br><br><br><br>5) getting ownership voucher document into shape (last, because I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; think we should get low-hanging fruit out of the way, and this will&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; overflow into next week anyway)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>NEST&#x2F;Thread discussion looks similar to this area.<br>&quot;Bearer Voucher&quot; - the ability to use a bearer token to authenticate a voucher.<br><br>[This moved to be bottom down on 2016-12-05]<br><br>2016-11-29:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 1) ownership-voucher.<br>&nbsp;&nbsp;&nbsp; MCR talks about having read about CWT (CBOR version of JWT), and also the cose-message format which is used to sign CWT.<br>&nbsp;&nbsp;&nbsp; CWT would express the voucher YANG definition directly.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; YANG has been used for a transactional protocol, but not been listed for something at REST.<br>&nbsp;&nbsp;&nbsp; Kent says it is exactly what would happen if you fetched it with GET...&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; parking the question: &quot;how do we deal with the encoding&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 2) which working group should take this on.<br>&nbsp;&nbsp;&nbsp; It will be ANIMA, and we will create new github group.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 3) bearer token discussion.<br>&nbsp;&nbsp;&nbsp; We don&#x27;t want to standardize a mechanism where a New Node&#x2F;Pledge would directly accept such a voucher.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg">https:&#x2F;&#x2F;github.com&#x2F;anima-wg</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br><br>2016-12-06:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent,toerless<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Discussion about one-touch, vs zero-touch devices.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>REcap last week:&nbsp;<br>&nbsp; bearer token discussion: define a bearer token and explicitely declare it out of scope.<br><ul class="indent"><li>holographic: it is a voucher that is signed but the trusted-ca-cert&#x2F;cacert&#x2F;ownerid&#x2F;trustanchr is not filled in. this allows anybody with a valid holographic bearer voucher to claim ownership.</li><li>psk voucher: it is a voucher that binds to a psk that the device already knows the psk. Also to be declared out of scope.&nbsp;</li><li>AI: max to write a voucher section for next call</li><ul class="indent"><li>security and operational deployment ramifications for each token type</li><li>future proofing</li></ul><li><br></li><li>Shepherd: Role to walk document from working group last call to IESG, traditional chairs, but encouraged to include other people (Mcr)</li><li>What shepherding do we need ? Max: coding. security we should be fine.</li><li>mcr: Mike Jones (michael.jones@microsoft.com) might be person or suggest a person.</li><li><br></li><li>Max: any prototyping plans, interop testing ? what could we do for chicago ?</li><li>Mcr: would need to do it at working group level. Saturday hackathon ?!</li><li>Mcr sais he will have code by Chicago, Brian will have code.</li><li>Kent: what interop wanted ? more than one version of component ? Mcr: yes, would be good.</li><li><br></li></ul><br>2016-12-13:<br>&nbsp;&nbsp;&nbsp; present: max, mcr (has to hit washroom, back at 10:05), kent<br><br>&nbsp;&nbsp;&nbsp; THANKS!<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;ietf&#x2e;webex&#x2e;com&#x2F;ietf&#x2F;j&#x2e;php&#x3f;MTID&#x3d;m00a039327e09fc09340872992b151581">https:&#x2F;&#x2F;ietf.webex.com&#x2F;ietf&#x2F;j.php?MTID=m00a039327e09fc09340872992b151581</a></li><li>&nbsp;&nbsp;&nbsp; Meeting number (access code): 644 519 877</li><li><br></li><li>we had a section on vouchers: burried under imprint.</li><li>now is in the architecture part earlier in the document.</li><li>... what is imprinting... introduces authorization layer.</li><li><br></li><li>connected to OAuth --- this is a great idea.</li><li><br></li></ul>&nbsp;&nbsp; Audit Voucher&nbsp; Audit Vouchers are obtained by a Registrar from the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MASA service and presented to the Pledge for validation.&nbsp; These<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; indicate to the Pledge that joining the domain has been logged by<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a logging service.&nbsp; This mitigates a MiTM Registrar by allowing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrars to examine log material.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {mcr still has difficulties explaining this to others}<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if nonced it is &quot;Trust on First Logged Use&quot; (TOFLU)</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if nonceless, then it is a holographic voucher. and it is not TOFLU</li><ul><ul><ul class="indent"><li>If the &quot;CA cert&quot; is missing it is a bearer voucher.</li><li>If the device id was missing its a wildcard &quot;master key&quot; works for any device and we don&#x27;t issue these</li><li>If the vendor checks ownership then this is roughly equivalent to an ownership voucher</li></ul></ul></ul></ul>1. device attempts to join<br>2. registrar obtains audit voucher&nbsp;<br>3. registrar examines audit log<br>4. registrar presents audit voucher to pledge<br>5. pledge validate voucher *and* extracts public key of Registrar from the voucher as trust anchor<br><br>&nbsp; pledge(MANU CA) --&gt; verify(audit voucher)&nbsp; -&gt; 1) public key of owner<br><br>&nbsp;&nbsp; Ownership Voucher&nbsp; Ownership Vouchers are obtained by a Registrar<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from the MASA service and explicitly indicate the owner of the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pledge.&nbsp; The Ownership Voucher is defined in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [I-D.ietf-netconf-zerotouch].&nbsp; This mitigates a MiTM Registrar by<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; identifying the specific Registrar authorized to own the Pledge.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This points to an ownership certificate by DN<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The ownership certificate is a PKI cert issued from the vendor to the Registrar<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Add reference&#x2F;discussion to netconf zerotouch draft<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>1. registrar enrolls with vendor to obtain &quot;owner certificate&quot;<br>&nbsp;&nbsp; extended in recent netconf: owner certificate can be anchored from any CA, but then<br>&nbsp;&nbsp; the trust anchor needs to be included in the voucher (if it is coming from vendor&#x2F;MASA,<br>&nbsp;&nbsp; then pledge would have trust anchor pre-hardcoded during manufacturing).<br>2. device attempts to join<br>3. registrar obtains ownership voucher which indicates DN of owner<br>4. registrar presents ownership voucher to pledge<br>5. pledge validates voucher *and* obtains and validates &quot;owner certificate&quot;<br><br>&nbsp;&nbsp; pledge(MANU CA) --&gt; verify(ownership voucher)&nbsp; --&gt; 1) name (DN) of owner.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) hash of public key of owner?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt; 2) verify owner certificate (to check it is correct DN)&nbsp; -&gt; public key of owner<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>&nbsp; - benefit over public-key: voucher with certificate can lie around unused as long as the<br>&nbsp;&nbsp;&nbsp; trust anchor (CA cert) is valid - which can be a lot longer than the &quot;normal&quot; lifetime<br>&nbsp;&nbsp;&nbsp; of a public key pair (which comes eg: a certificate of an owner). Eg: 20 years vs. 1 year.<br><br><br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;kwatsen&#x2d;anima&#x2d;voucher&#x2d;00">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-kwatsen-anima-voucher-00</a><br><br>&nbsp;&nbsp; Bearer Voucher&nbsp; This voucher type is not defined within this<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specification.&nbsp; Bearer Vouchers are a signed statement from the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vendor that any Registrar that possesses the voucher owns the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pledge.&nbsp; Because the Registrar is not identified this voucher type<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; must be treated as a secret and protected from exposure.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Theoretically &quot;nonced&quot; and &quot;nonceless&quot; bearer vouches can exist.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A nonceless bearer voucher effectively turns the Pledge into a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;TOFU&quot; device with minimal mitigation against MiTM Registrar&#x27;s<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that have access to the bearer voucher.<br><br>&nbsp;&nbsp; Pre-shared Key Voucher&nbsp; This voucher type is not defined within this<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specification.&nbsp; Pre-Shared Key Vouchers are cryptographically<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authenticated using a pre-shared symmetric key known to the Pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and the Vendor.&nbsp; This allows support for devices that can not do<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; asymmetric key cryptographic operations.&nbsp; Although this might<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; provide an efficient method for ownership or bearer voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authentication it does not provide the necessary Pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authentication unless the pre-shared key is distributed to the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Registrar.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>AI: try to build a table for this.<br><br>2016-12-20:<br>&nbsp;&nbsp;&nbsp; present: mcr, max, kent.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>Discussed this today:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 2.2.&nbsp; Secure Imprinting using Vouchers<br><br>&nbsp; A voucher is a cryptographically protected statement to the Pledge<br>&nbsp; device indicating authorizing a zero-touch imprint on the Registrar<br>&nbsp; domain.&nbsp; Generically the voucher imparts the following information to<br>&nbsp; the Pledge:<br><br>&nbsp; Assertion Basis&nbsp; Indicates the method that protects the imprint.<br>&nbsp;&nbsp;&nbsp;&nbsp; This might include discrete ownership verification, assured<br>&nbsp;&nbsp;&nbsp;&nbsp; logging operation or reliance on Pledge endpoint behavior such as<br>&nbsp;&nbsp;&nbsp;&nbsp; secure root of trust of measurement.&nbsp; Only some methods are<br>&nbsp;&nbsp;&nbsp;&nbsp; normatively defined in this document.&nbsp; Other methods are left for<br>&nbsp;&nbsp;&nbsp;&nbsp; future work.<br><br>&nbsp; Registrar Authentication&nbsp; Indicates how the Pledge can authenticate<br>&nbsp;&nbsp;&nbsp;&nbsp; the Registrar.&nbsp; This might include an indication of the PKIX trust<br>&nbsp;&nbsp;&nbsp;&nbsp; anchor used by the Registrar, or an indication of shared PKIX<br>&nbsp;&nbsp;&nbsp;&nbsp; trust anchor and additional CN-ID or DNS-ID information to<br>&nbsp;&nbsp;&nbsp;&nbsp; complete authentication.&nbsp; Symetric key or other methods are left<br>&nbsp;&nbsp;&nbsp;&nbsp; for future work.<br><br>&nbsp; Anti-Replay Protections&nbsp; Time or nonce based information constrain<br>&nbsp;&nbsp;&nbsp;&nbsp; vouchers to time periods or bootstrap attempts.<br><br>&nbsp; A number of boostrapping scenarios can be met using differing<br>&nbsp; combinations of this information.&nbsp; All scenarios address the primary<br>&nbsp; threat of a MiTM Registrar gaining control over the Pledge device.<br>&nbsp; The primary voucher combinations are referred to within this document<br>&nbsp; by name:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Assertion&nbsp;&nbsp; |Registrar ID&nbsp;&nbsp;&nbsp; |Pledge ID | Validity&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |Log-|Veri-&nbsp; |Trust&nbsp; |CN-ID or|serial&nbsp;&nbsp;&nbsp; | RTC | Nonce |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ged|&nbsp; fied |Anchor |DNS-ID&nbsp; |number&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>AI: rename: Registrar ID to &quot;domain ID&quot; and add &quot;role information&quot; remove&#x2F;minimize pledge id (everybody gets one)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp; --------------------------------------------------------------------|<br>&nbsp; Audit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; X |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; -------------|----|-------|-------|--------|----------|-----|-------|<br>&nbsp; Nonceless&nbsp;&nbsp;&nbsp; |&nbsp; X |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; Audit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; -------------|----|-------|-------|--------|----------|-----|-------|<br>&nbsp; Owner Audit&nbsp; |&nbsp; X |&nbsp;&nbsp; X&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;<br>&nbsp; Owner Role&nbsp;&nbsp; |&nbsp; X |&nbsp;&nbsp; ?&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; X&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; -------------|----|-------|-------|--------|----------|-----|-------|<br>&nbsp; Owner ID&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; X&nbsp;&nbsp; | ?&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; X&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; -------------|----|-------|----------------|----------|-------------|<br>&nbsp; BearerVoucher|&nbsp; X |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; wildcard&nbsp;&nbsp;&nbsp;&nbsp; | X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; -------------|----|-------|----------------|----------|-------------|<br>&nbsp; MasterVoucher|&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; wildcard&nbsp;&nbsp;&nbsp;&nbsp; | wildcard | X&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp; -------------|------------|----------------|----------|-----|-------|<br><br><br>SUGGEST: read the google ct discussion at: <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;certificate&#x2d;transparency&#x2e;org&#x2F;how&#x2d;ct&#x2d;works">https:&#x2F;&#x2F;www.certificate-transparency.org&#x2F;how-ct-works</a><br>this might inform how max is thinking about audit logs and the overlap with x509 CN-ID (max&#x27;s argument is that x509 when done right really means checking audit logs anyway so lets go straight to that model and avoid the x509 authentication questions. With admission that x509 as a model fully exists and therefore is a logical approach many folks are comfortable with. thus the &quot;option&quot; we have been building into our drafts).<br><br>CN-ID or DNS-ID could be renamed &quot;RFC6125&quot;?<br><br>Kent NOTEs: signing mechanisms needs to be able to pass a chain of certificates. this is a key characteristic.<br><br>2017-1-3<br><ul class="indent"><li>present: max, mcr, kent</li><li><br></li><li>Voucher document will list the different attributes of the voucher, and explain how to process each of the attributes. Some of the combinations will be named.</li><li>The BRSKI document will explain when to use each named vouch combination.</li><li><br></li><li>from CWT:</li><li><br></li><li>&nbsp;&nbsp; 3.1.&nbsp; Claim Names . . . . . . . . . . . . . . . . . . . . . . .&nbsp;&nbsp; 4</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.1.&nbsp; iss (Issuer) Claim&nbsp; . . . . . . . . . . . . . . . . .&nbsp;&nbsp; 4</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.2.&nbsp; sub (Subject) Claim . . . . . . . . . . . . . . . . .&nbsp;&nbsp; 4</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.3.&nbsp; aud (Audience) Claim&nbsp; . . . . . . . . . . . . . . . .&nbsp;&nbsp; 4</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.4.&nbsp; exp (Expiration Time) Claim . . . . . . . . . . . . .&nbsp;&nbsp; 5</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.5.&nbsp; nbf (Not Before) Claim&nbsp; . . . . . . . . . . . . . . .&nbsp;&nbsp; 5</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.6.&nbsp; iat (Issued At) Claim . . . . . . . . . . . . . . . .&nbsp;&nbsp; 5</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1.7.&nbsp; cti (CWT ID) Claim&nbsp; . . . . . . . . . . . . . . . . .&nbsp;&nbsp; 5</li><li><br></li><li><br></li><li><a href="https&#x3a;&#x2F;&#x2F;datatracker&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;cose&#x2F;documents&#x2F;">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;wg&#x2F;cose&#x2F;documents&#x2F;</a></li><li><br></li><li>AI: mcr to put together normative text on using CWT for Voucher use.</li><li><br></li><li>&quot;4&quot; is a blog (gets a signature)&nbsp; (voucher)</li><li>&quot;5&quot; is a blog (gets a signature)&nbsp; (revocation list)</li><li>what are the fields and how to process them.</li><li>what are the signatures and how&#x2F;when to create them:</li><li>... new section 6, signing strategy, also about revocation strategy.</li><li><br></li><li>first prong: review of table of contents... what&#x27;s missing is an overview and introduction.... tree diagram is presented is as part of the overview.</li><li>section 4.1: before diagram... field called &quot;assertion&quot; --- if it is logged, this is what it means.&nbsp; then field &quot;trusted CA&quot;.</li><li><br></li></ul>2017-1-10<br><ul class="indent"><li>present: max, mcr, kent, toerless</li></ul><br>AI: max to add terminology section to voucher doc<br>&nbsp;&nbsp;&nbsp; pledge - we&#x27;re good on this<br>&nbsp;&nbsp;&nbsp; owner domain - for owner&#x27;s domain. where registrar<br>&nbsp;&nbsp;&nbsp; MASA - for &quot;manufacturer or delegate&quot;. Then in the BRSKI doc *name* the REST interface to the MASA.<br><br>AI: update voucher ToC as such:<br>ToC to be:&nbsp;<br>Intro<br>&nbsp;terminology<br>&nbsp;requirements<br>&nbsp;tree diagram notation<br>&nbsp;secure imprinting using voucher<br>&nbsp;<br>voucher<br>&nbsp;tree diagram<br>&nbsp;examples, etc<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>AI: kent to add normative reference to yang-&gt;json RFC as the encoding type.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>2017-1-17<br><ul class="indent"><li>present: max, kent, mcr, toerless</li></ul><br>Anima terminology change for consistency with 6tisch:&nbsp;<br>&nbsp;&nbsp; Anima &quot;Proxy&quot; to be &quot;Join Proxy&quot;<br><ul class="indent"><li>Registrar to be &quot;Join Registrar and Coordinating&quot; (JRC) with intro&#x2F;terminology indicating use of abbrviated terms in the body. Q: what does &#x27;coordinator&#x27; imply? That it &quot;makes sure doesn&#x27;t accept</li><li>too many join processes at the same time&quot; and &quot;drives them&quot; to manage bandwidth.&nbsp;&nbsp;</li></ul>&nbsp;&nbsp; Join Registrar&nbsp; or maybe Join Registrar (and Coordinator).<br>&nbsp;&nbsp;&nbsp;<br>DONE. AI: mcr will write email summarizing change of terminology.<br><br><br>3.1.1.&nbsp; Discovery<br><br>&nbsp;&nbsp; The result of discovery is a logical communication with a Registrar,<br>&nbsp;&nbsp; through a Proxy.&nbsp; The Proxy is transparent to the Pledge but is<br>&nbsp;&nbsp; always assumed to exist.<br><br>&nbsp;&nbsp; To discover the Registrar the Pledge performs the following actions:<br><br>&nbsp;&nbsp; a.&nbsp; MUST: Obtains a local address using IPv6 methods as described in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [RFC4862] IPv6 Stateless Address AutoConfiguration.&nbsp; [RFC7217] is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encouraged, but see Section 9.&nbsp; IPv4 methods are described in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Appendix A<br><br>&nbsp;&nbsp; b.&nbsp; MUST: Listen for GRASP M_FLOOD ([I-D.ietf-anima-grasp])<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; announcements of the objective: &quot;ACP+Proxy&quot;.&nbsp; See section<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Section 5 for the details of the the objective.&nbsp; The Pledge may<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; listen concurrently for other sources of information, see<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Appendix B.<br><br>&nbsp;&nbsp; Once a proxy is discovered the Pledge communicates with a Registrar<br>&nbsp;&nbsp; through the proxy using the bootstrapping protocol defined in<br>&nbsp;&nbsp; Section 7.<br><br>&nbsp;&nbsp; Each discovery method attempted SHOULD exponentially back-off<br>&nbsp;&nbsp; attempts (to a maximum of one hour) to avoid overloading the network<br>&nbsp;&nbsp; infrastructure with discovery.&nbsp; The back-off timer for each method<br>&nbsp;&nbsp; MUST be independent of other methods.&nbsp; Methods SHOULD be run in<br><br>Discussion: Need more statements about liars claiming devices. Current discussion is in security considerations but needs more. In particular discussion about Proof-of-possession. A suggestion is that having devices avoid leaking their serial# widely can help prevent a &quot;lazy&quot; attack where the attacker doesn&#x27;t know&#x2F;guess the serial number in advance. The underlying problem and solution should be discussed independent of the discovery mechanism... but there is an overlap&nbsp;<br><ul class="indent"><li><br></li><li><br></li></ul>AI: The M_FLOOD vs mDNS initial discovery discussion is not over, and we should invite the DNSSD&#x2F;mDNS folks to come and make the case.<br><br>Guys, I need to go now - Kent<br><br>AI: security considerations of parallel vs sequential connection.<br><br>Toerless:&nbsp;<br>&nbsp;&nbsp;&nbsp; (R)ight: L2 discovery protocol requirement:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; proxy needs to periodically (unsolicited) announce its proxy service via L2 multicast&#x2F;broadcast<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledge only accepts reply if it was multicast&#x2F;broadcast<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledge should then try to register via such discovered proxies.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if multiple proxies discovered, parallel and&#x2F;or sequential -&gt; more difficult discussion<br>&nbsp;&nbsp;&nbsp; (W)rong: The opposite is NOT a good solution:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledge sends out L2 multicast&#x2F;broadcast queries for proxy<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; proxy sends unicast reply to pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledge then tries to register via such discovered proxies.<br>&nbsp;&nbsp;&nbsp; Reason:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Whether we do (R)right or (W)rong, the pledge has no good way to protect itself against such an L2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; attacker. Attacker may be able to look like many proxies, resulting in DoS attack against pledge.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If we do (R)ight, then a third-party (eg: valid proxy) on the same L2 domain can much easier<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; discover the attacker - because attacker MUST broadcast&#x2F;multicast itself.&nbsp;<br>&nbsp;&nbsp;&nbsp; Example:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ethernet LAN. Valid proxy is router, attacker is host with malware acting as proxy. In (R)ight,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Valid proxy would immediately see attacker due to its multicasts. In (W)rong, the only way to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; discover attacker by third-party is to have a discovery-unicast-reply message spoofing function<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in the L2 switch of the LAN - much more complex requirement.<br>&nbsp;&nbsp;&nbsp; Notes:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The security of (R)ight depends on pledge being able to see if received packet from proxy was L2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unicast or multicasted. This information is typically ignored in existing network protocol stacks<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and is also typically unavailable on the socket-API. This IMHO makes it highly beneficial to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; use a very lightweight protocol (like the subset of GRASP dedicate to this) that can specifically<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be implemented to do this security check.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Example&#x2F;Proof: WiFi<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WiFi client joining to a multicast group to receive traffic. APs with proprietary<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multicast-&gt;unicast feature (eg: Cisco Videostream, but every business AP vendor has this now)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; send out to every joined client the L3 multicast stream as L2 unicast so that the WiFi L2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; retransmission of WiFi can be used (no L2 multicast retransmissions defined in 802.11 so far).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This trick relies on on the fact that the L3 multicast stack and socket API on hosts completely<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ignores the MAC address layer of multicast packets.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Note too that L2 technologies (Ethernet&#x2F;WiFi) often make it easy to fake the L2 source address,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; therefore allowing attackers to masquerae as many proxies. BUT: these technologies make it<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hard or impossible to fake a multicast packet. In Ethernet this is impossible. Not sure how<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; difficult&#x2F;easy it is in WiFi for HW to fake a multicast packet wrt. to the multicast<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; indication in the packet header.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Wrt to mDNS (RFC6762):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. There is no text to discuss that L2 unicast messages must be ignored for L3 mDNS messages<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that are meant to be multicast.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. There is explicit text prohibiting periodic unsolicited announcements:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A Multicast DNS responder MUST NOT send announcements in the absence<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of information that its network connectivity may have changed in some<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; relevant way.&nbsp; In particular, a Multicast DNS responder MUST NOT send<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; regular periodic announcements as a matter of course.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>2017-01-24:<br>present: max, kent, mcr<br><br><br>AI: The M_FLOOD vs mDNS initial discovery discussion is not over, and we should invite the DNSSD&#x2F;mDNS folks to come and make the case.<br>AI: security considerations of parallel vs sequential connection.<br><br>Kent: There was an issue in NETCONF how hot to use YANG to document artifacts (file formats, etc.).&nbsp; This is a syntactic enhancement to the YANG definition.<br><br>Agenda:<br>&nbsp;&nbsp;&nbsp; 1)&nbsp;<br><br><br>AI: Movingn BRSKI stuff to voucher doc continued<br><ul class="indent"><li>Voucher doc -&gt; gains the high level arch diagram and Pledge, &quot;inventory tracking&quot; Registrar, and MASA definitions</li><li>BRSKI doc -&gt; references this and expands &quot;Join Registrar&quot; to be a specific BRSKI server</li><li>netconf -&gt; references voucher and expands &quot;[foo] Registrar&quot; to be a [manual process or other]</li><li><br></li><li><br></li><li>Kent would like Registrar to be a conceptual entity that passes the Voucher from MASA to Pledge.</li><li><br></li><li><br></li><li>2) proxy section.&nbsp; Normative reference for IPIP&nbsp;</li><li>3) How to do CoAP (over PEAP? TEAP? EAP-TLS? EAP-TTLS?, over 802.1X.). Remove 3.2.1 CoAP, and leave it for another document.</li><li>AI: mcr to revise, simplify and augment this section to make it obvious that it should be extended.</li><li><br></li></ul>Feb.13: goal to have all three documents.<br>Juniper vs Cisco PKCS7 voucher creation&#x2F;interop in Chicago.<br>Will use PKCS7 with RSA signatures initially.<br><br><ul class="indent"><li><br></li></ul>2017-01-31:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, kent, max</li><li><br></li><li>discussion about OSCP vs CRLs.</li><li>Question about PKCS7 vs CWT etc. for encoding of the voucher.</li><li>The registrar needs to be aware of the contents of the voucher for reasons of auditing, otherwise the format of the voucher *COULD* be private between the MASA and the pledge.</li><li><br></li><li>Discussion about option by which JRC can decide to pass unknown formats for the voucher through to the pledge, should it wish to forgo auditing.</li><li><br></li><li><br></li></ul>1. PK7 escapsulated ( json-payload, signature, + [CRLs or Certs] )&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; format signalled by outside content-type (JSON encoded YANG data, for instance), for instance.&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The Audit Voucher response is encapsulated in a [RFC5652] Signed-data that is signed by the MASA server.&quot; &quot;with a content-type of application&#x2F;authorizationvoucher&quot; -04 section 5.3<br>2. CWT-encapsulated ( EdDSA-signed-CBOR object ) + (??-unknown revocation)<br><br><ul class="indent"><li><br></li><li>register requests voucher from MASA, and contains a version field -04 section 5.1</li><li>the registrar caches the audit voucher response: application&#x2F;authorization-voucher, or application&#x2F;authorization-voucher-2, application&#x2F;authorization-voucher-jwt -04 section 5.3</li><li>Registrar is NOT REQUIRED to parse this object, but it SHOULD do so if it needs to AUDIT.</li></ul><br><br>On a USB key, the filename extension substitutes for the HTTP 200 content-type; as is usual in the industry<br>filename examples:<br>&nbsp; - voucher.pk7&nbsp; &#x2F;&#x2F; suffix signals #1<br>&nbsp; - voucher.cwt&nbsp; &#x2F;&#x2F; suffix signals #2<br>&nbsp;&nbsp;<br>&nbsp; AI: write IANA Considerations section registering application&#x2F;authorization-voucher.&nbsp;<br>&nbsp;&nbsp;<br>Follow the format of RFC7030 section5 IANA template in final draft which becomes section5 of RFC7030<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7030&#x23;section&#x2d;5">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7030#section-5</a><br>for example:&nbsp;<br>&nbsp;&nbsp; The media subtype for CSR attributes in a CSR Attributes Response is<br>&nbsp;&nbsp; application&#x2F;csrattrs.<br>we will end up with a similar statement about application&#x2F;authorizationvoucher<br><br><br><br>2017-02-07<br>&nbsp;&nbsp;&nbsp; present: kent, max, mcr, toerless<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Is the WebEX server down?<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Other webex servers seem up and the main www.webex.com site is up. My hardware VPN is down though so I don&#x27;t have access to any internal reports at the moment. We can webex here as an alternative:<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;cisco&#x2e;webex&#x2e;com&#x2F;join&#x2F;pritikin">https:&#x2F;&#x2F;cisco.webex.com&#x2F;join&#x2F;pritikin</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; okay.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Agenda:&nbsp; 1) content-types<br>&nbsp;&nbsp;&nbsp; Using these section headers: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;04">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-04</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; s5<br>&nbsp;&nbsp;&nbsp; These extensions MUST<br>&nbsp;&nbsp; be supported by the Registrar EST server within the same .well-known<br>&nbsp;&nbsp; URI tree as the existing EST URIs as described in [RFC7030] section<br>&nbsp;&nbsp; 3.2.2.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; s.5.1 request voucher from registrar POST<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;brski&#x2F;rv<br><ul><ul class="indent"><li>&nbsp;&nbsp;&nbsp; application&#x2F;requestvoucher&nbsp; or application&#x2F;json&nbsp; or application&#x2F;&lt;object&gt;+&lt;encoding&gt; [passing &#x27;object&#x27; important only if can vary]</li></ul><li>&nbsp; s.5.2 request voucher from MASA</li><li>&nbsp; s.5.3 audit voucher response</li><ul><ul class="indent"><li>application&#x2F;voucher+pk7&nbsp;&nbsp; &lt;----- we will consistently go with this style for each section&nbsp;</li></ul></ul></ul></ul>AI: kent to where the +pk7 stuff is defined<br>&nbsp;&nbsp;&nbsp; s.5.7.4 Enrollment Status Telemetry<br><ul><ul><ul class="indent"><li>&#x2F;est&#x2F;status&nbsp;&nbsp;&nbsp; &lt;- advantage of shorter. advantage clearly an est status message (would require this RRC *updates* 7030)</li><li>&#x2F;brski&#x2F;status&nbsp; &lt;- advantage that this is clearly a brski defined message</li></ul></ul></ul><br>Link to iana page for he media types above. try to re-use:&nbsp;<br><a href="https&#x3a;&#x2F;&#x2F;www&#x2e;iana&#x2e;org&#x2F;assignments&#x2F;media&#x2d;types&#x2F;media&#x2d;types&#x2e;xml">https:&#x2F;&#x2F;www.iana.org&#x2F;assignments&#x2F;media-types&#x2F;media-types.xml</a>&nbsp;&nbsp; (searching for &quot;pk&quot; produces interesting results!)<br>RFC6838: <strong>Media Type Specifications and Registration Procedures</strong><br>&nbsp;&nbsp;&nbsp;&nbsp; restricted-name-chars =&#x2F; &quot;+&quot; ; Characters after last plus always<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; specify a structured syntax suffix<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;netconf&#x2d;restconf&#x2d;12&#x23;section&#x2d;3&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-netconf-restconf-12#section-3.1</a><br><u>&nbsp;&nbsp;&nbsp; Minimizing the re-direction would minimize the round trips.&nbsp;</u><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; I prefere &#x2F;.well-known&#x2F;est&#x2F;TLA or &#x2F;.well-known&#x2F;brski&#x2F;TLA<br>&nbsp;&nbsp;&nbsp; why TLA and not a more human readable? CoAP.&nbsp; But I don&#x27;t think it&#x27;s that important.<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc5785">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc5785</a><br>&nbsp;&nbsp;&nbsp; action item: max to update text consistent with this.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 2) interop plans -- details.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Interop&#x2F;Hackathon&nbsp; (<a href="https&#x3a;&#x2F;&#x2F;www&#x2e;ietf&#x2e;org&#x2F;hackathon&#x2F;98&#x2d;hackathon&#x2e;html&#x29;">https:&#x2F;&#x2F;www.ietf.org&#x2F;hackathon&#x2F;98-hackathon.html)</a><br>&nbsp;&nbsp;&nbsp; =================<br>&nbsp;&nbsp;&nbsp; AI: to request space durint hackathon. probably 3-4 peoples.<br>&nbsp;&nbsp;&nbsp; AI: write emails to list about plans.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>2017-02-14 (happy hallmark day!):<br>&nbsp;&nbsp;&nbsp; present: mcr,max, kent<br><br>from the 6tisch-security meeting, some diagrams:<br>&nbsp;&nbsp; <a href="http&#x3a;&#x2F;&#x2F;www&#x2e;sandelman&#x2e;ca&#x2F;SSW&#x2F;ietf&#x2F;6tisch&#x2F;">http:&#x2F;&#x2F;www.sandelman.ca&#x2F;SSW&#x2F;ietf&#x2F;6tisch&#x2F;</a>&nbsp; see pledge-join-states_EB.svg (or .png)<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ** If one permits redirects, and there is a MITM, the MITM can force the pledge to follow the redirects. Including, &quot;wait a bit and retry&quot; (HTTP message... xxx) may be able to replay the redirect.**&nbsp;<br>&nbsp;<a href="https&#x3a;&#x2F;&#x2F;developer&#x2e;mozilla&#x2e;org&#x2F;en&#x2d;US&#x2F;docs&#x2F;Web&#x2F;HTTP&#x2F;Headers&#x2F;Retry&#x2d;After">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;HTTP&#x2F;Headers&#x2F;Retry-After</a>&nbsp; &lt;-- explains 503&#x2F;301 Retry-After<br>AI max: look to see if there is something better than 503 for human introduced delay. The &quot;The server also MAY include informative human-readable content&quot; statement from RFC7030 might provide this information but at the cost of a large number of bytes.<br>Indicate a maximum amount of time before retry. Perhaps expressed as a f(delay before trying other registrars).&nbsp;<br>Explain the human involvement on the Registrar piece&nbsp;<br><br><br>2017-02-21:&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: max, mcr, kent, toerless</li><li><br></li><li>max: 503 delay not yet committed.</li><li>max: question about proxy discussion.</li><li>kent: did not get to update voucher draft.</li><li><br></li><li>1) proxy discussion</li><li>2) voucher draft, identifying the ownership certificate via it&#x27;s subject matter, CN&#x2F;DNS&#x2F;etc.&nbsp; (sub key id, auth key id)</li><li>3) interop testing discussion.</li><li>4) defense against attacker looking like many Join Proxy</li><li><br></li><li>Proxy discussion</li></ul><br>Current text IPIP forwarding mechanism.<br>current writeup does not articulate it well enough, 3.2.1 CoAP. Dropped CoAP discussion.<br>Let&#x27;s drop CoAP discussion completely for now.<br>We could drop CoAP, but talk about TCP and UDP instead.<br>Implementers do not know what to implement: needs to say more.<br>TCP circuit proxy or IPIP encapsulation of TCP packet.<br><br>ACTION ITEM: mcr update the text to say that registrar &#x2F; JP need to decide upon a mechanism.<br>ACTION ITEM: mcr need to write up IPIP forwarding better.<br>ACTION ITEM: mcr to update 3.2.2, and remove 3.2.1 for now.<br><br>Because this is between the Proxy and Registrar there is no change in behavior by the Pledge.&nbsp;<br>There can be options; they would be negotiated by the this:<br><strong>6.&nbsp; Registrar Discovery Protocol Details</strong><br><br>&nbsp;&nbsp; The registrar responds to discovery messages from the proxy (or GRASP<br>&nbsp;&nbsp; caches between them) as follows:<br><br>&nbsp;&nbsp; objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = [&quot;AN_registrar&quot;, F_DISC, 255 ]<br>&nbsp;&nbsp; discovery-message = [M_DISCOVERY, session-id, initiator, objective]<br><br>&nbsp;&nbsp; Figure 6: Registrar Discovery<br><br>&nbsp;&nbsp; The response from the registrar (or cache) will be a M_RESPONSE with<br>&nbsp;&nbsp; the following parameters:<br><br>&nbsp;&nbsp; response-message = [M_RESPONSE, session-id, initiator, ttl,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (+locator-option &#x2F;&#x2F; divert-option), ?objective)]<br>&nbsp;&nbsp; initiator = ACP address of Registrar<br>&nbsp;&nbsp; locator1&nbsp; = [O_IPv6_LOCATOR, fe80::1234, 6,&nbsp; 443]<br>&nbsp;&nbsp; locator2&nbsp; = [O_IPv6_LOCATOR, fe80::1234, 17, 5683]<br>&nbsp;&nbsp; locator3&nbsp; = [O_IPv6_LOCATOR, fe80::1234, 41, nil]<br><br><br>Does this mean:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; response-message = [?, session-id, initiator, ttl, locator1 + locator2 + locator3, objective=&quot;AN_registrar&quot;]</li></ul><br>&nbsp;&nbsp; Figure 7: Registrar Response<br><br>&quot;&nbsp; The GRASP protocol treats the objective name as an opaque string.<br>&nbsp;&nbsp; For example, &quot;EX1&quot;, &quot;411:EX1&quot;, &quot;example.com:EX1&quot;, &quot;example.org:EX1<br>&nbsp;&nbsp; and &quot;user@example.org:EX1&quot; would be five different objectives.&quot;<br><br>ACTION: expand text of section 6 to explain how these three responses map to specific Join Proxy behaviour.<br>{6&#x2F;xxx&nbsp;&nbsp; = TCP circuit proxy to port xxx, HTTPS EST,&nbsp;<br>&nbsp;17&#x2F;yyyy = CoAP circuit proxy to port yyyy,&nbsp;<br>&nbsp;41&#x2F;0&nbsp;&nbsp;&nbsp; = IPIP encapsulation<br>&nbsp;}<br>so, maybe the ?objective should involved here too!!!<br><br>Decision for section 3:<br><ul class="indent"><li>Implement circuit proxy on proxy. No change to Pledge. Easy implemnetation on Registrar (no change from current test cases).&nbsp;</li><li>For scalability &#x2F; future proofing we indicate here that future proxy models may&#x2F;will&#x2F;even-now exist. Section 7 will be updated to indicate how they are signaled because this forces grasp&#x2F;ACP to improve.&nbsp;</li><li><br></li></ul>AI: Michael to update section3 of the doc to reflect.&nbsp;<br><br>2) voucher document.<br><ul class="indent"><li>Anchor is &quot;Versign&#x27;s CN=FOO&quot; or &quot;Verisign&#x27;s dnsName=FOO&quot;, but would like to use entire subjectAltName.</li><li>subject = X509 DN (abstracted from key itself)</li><li>subjectKey = actual public key&nbsp;</li><li>subjectKeyIdentifier = hash of public key.</li></ul><br>section 4.2.1.2 of rfc5280.<br>this lacks the level of indirection desired.<br><br>this field rfc6125 validation<br>Kent AIs:<br>&nbsp; - add subject-hash details<br>&nbsp; - add indirect issuer details&nbsp;<br>&nbsp; - look into v3 extension option<br><br>2017-02-28:&nbsp;<br>&nbsp;&nbsp;&nbsp; lousy no good two bit no show: max pritikin<br>&nbsp;&nbsp;&nbsp; present: everybody else&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Folks, i&#x27;m sorry for the late notice but i&#x27;m not going to be able to join this week. I haven&#x27;t much to report on the document front.&nbsp;<br>&nbsp;&nbsp;&nbsp; I hope to send some example&#x2F;test protocol messages via email later in the week.&nbsp;<br>&nbsp;&nbsp;&nbsp; I also dropped you all an email.&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>2017-02-28: (11am)<br>&nbsp;&nbsp;&nbsp; present: kent, mcr, toerless,&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>1) interop planning. 20minutes max.<br><br><ul class="indent"><li>Kent: standalone test environment, openssl&#x2F;Makefile&#x2F;C-code to do some things that CLI won&#x27;t use.</li><ul class="indent"><li>Goes through entire gamit and creating voucher and revocation and anchor&#x2F;intermediates.</li><li>Not really interop... convert from PKCS7 to other format.</li><li>The voucher was written in JSON per draft.</li><li><br></li></ul></ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCR:&nbsp; wanted to have, COSE signed CWT format voucher.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Totally non-interoperable with above. Not aligned with current draft.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mcr agrees to work towards PKCS7 signed items....&nbsp;<br><ul><ul class="indent"><li><br></li></ul></ul><br>2) getting the -05 out the door (20 minutes max)<br><br>3) I was asked to write about IPIP encapsulation.<br>&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;bba6351458955862965c71199b2f8a94f90cf169">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;bba6351458955862965c71199b2f8a94f90cf169</a><br><br>&nbsp;&nbsp; There are some provisioning issues that came up.&nbsp; I tried to capture some<br>of the updates in:<br>&nbsp;&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;commit&#x2F;e049ec790a7051d54094bfca9d8921e59d7458e5">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;commit&#x2F;e049ec790a7051d54094bfca9d8921e59d7458e5</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>RFC7519 - JWT - is that a good format for voucher content ?<br>CWT -&gt; michael would like that for 6TSCH.<br>JWT Libraries could already interpret JWT objects.<br>&nbsp;&nbsp; - JWT library should be able to give us:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Encode&#x2F;decode of voucher object<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - create&#x2F;verify signature<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - validating the claim - checking whether claim applies to situation<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - eg: in voucher check that voucher is for the pledge<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (eg: if we refer to pledge via DN, serial number, certificate-hash,...)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; these options will likely still need to be defined&#x2F;implemented on top of JWT library. probavbly not predefined<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - validating that claim is current (if JWT contains timestamps)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JWT has some time we don&#x27;t need, but may need to add our own notion of time (Michael).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - .. other aspects..<br><br><a href="https&#x3a;&#x2F;&#x2F;stackoverflow&#x2e;com&#x2F;questions&#x2F;39909419&#x2F;jwt&#x2d;vs&#x2d;oauth&#x2d;authentication">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;39909419&#x2F;jwt-vs-oauth-authentication</a><br><br>2017-03-07:&nbsp;<br>&nbsp;&nbsp;&nbsp; present: max, mcr, kent, toerless<br><br>recap of last week... discussion about RFC7519 section 4 claims&nbsp;<br>- Michael would like CWT (CBor) - but not far enough in stds. to be used. So using JWT for now.<br>- Toerless would like to see JWT explored during hackathon to summarize practical experience with claimed benefits,<br>eg: summarize on a page for ANIMA WG meeting.<br>- Max thinks JWT investigation lower priority . eg: use JSON structures from doc right now in Hackathon, look only into JWT if there is time left during hackathon.<br>- Kent opposed to use JWT for now - as long as its not clear how to do revocations. Unclear if short-lived certificates are sufficient - aka: not require revocations.<br><br>Stick with PKCS7 signed YANG derived JSON.<br><br>Struggling with use cases in order to justify needing to revoke vouchers.<br><br>MCR proposes a way to use standard CRLs.<br>[actually this was max]<br><br>Max and Kent discussion about how to use OCSP &#x2F; &quot;standard CRLs&quot; to address revocation<br>The basic plan is to see what modifciations we&#x27;d make to the ietf-voucher yang file to support this.&nbsp;<br><br>module ietf-voucher {<br>&nbsp; yang-version 1.1;<br><br>&nbsp; namespace<br>&nbsp;&nbsp;&nbsp; &quot;urn:ietf:params:xml:ns:yang:ietf-voucher&quot;;<br>&nbsp; prefix &quot;vch&quot;;<br><br>&nbsp; import ietf-yang-types {<br>&nbsp;&nbsp;&nbsp; prefix yang;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 6991: Common YANG Data Types&quot;;<br>&nbsp; }<br><br>&nbsp; import ietf-inet-types {<br>&nbsp;&nbsp;&nbsp; prefix inet;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 6991: Common YANG Data Types&quot;;<br>&nbsp; }<br><br>&nbsp; import ietf-restconf {<br>&nbsp;&nbsp;&nbsp; prefix rc;<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;This import statement is only present to access the yang-data<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; extension defined in RFC 8040.&nbsp; The yang-data extension doesn&#x27;t<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; itself have anything to do with RESTCONF, but was placed in the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that RFC for convenience.&nbsp; This extension is being tracked to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be moved to the next version of the YANG modeling language.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Regardless where or how this extension statement is defined,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; there should not be any impact to a voucher&#x27;s encoding.&quot;;<br>&nbsp;&nbsp;&nbsp; reference &quot;RFC 8040: RESTCONF Protocol&quot;;<br>&nbsp; }<br><br>&nbsp; organization<br>&nbsp;&nbsp; &quot;IETF ANIMA Working Group&quot;;<br><br>&nbsp; contact<br>&nbsp;&nbsp; &quot;WG Web:&nbsp;&nbsp; &lt;<a href="http&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;wg&#x2F;anima&#x2F;">http:&#x2F;&#x2F;tools.ietf.org&#x2F;wg&#x2F;anima&#x2F;</a>&gt;<br>&nbsp;&nbsp;&nbsp; WG List:&nbsp; &lt;<a href="mailto&#x3a;anima&#x40;ietf&#x2e;org">mailto:anima@ietf.org</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Kent Watsen<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;kwatsen&#x40;juniper&#x2e;net">mailto:kwatsen@juniper.net</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Max Pritikin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;pritikin&#x40;cisco&#x2e;com">mailto:pritikin@cisco.com</a>&gt;<br>&nbsp;&nbsp;&nbsp; Author:&nbsp;&nbsp; Michael Richardson<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<a href="mailto&#x3a;mcr&#x2b;ietf&#x40;sandelman&#x2e;ca">mailto:mcr+ietf@sandelman.ca</a>&gt;&quot;;<br><br>&nbsp; description<br>&nbsp;&nbsp; &quot;This module defines the format for a voucher, which is produced by<br>&nbsp;&nbsp;&nbsp; a pledge&#x27;s manufacturer or delegate (MASA) to securely assign one<br>&nbsp;&nbsp;&nbsp; or more pledges to an &#x27;owner&#x27;, so that the pledges may establish a<br>&nbsp;&nbsp;&nbsp; secure connection to the owner&#x27;s network infrastructure.&quot;;<br><br>&nbsp; revision &quot;YYYY-MM-DD&quot; {<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;Initial version&quot;;<br>&nbsp;&nbsp;&nbsp; reference<br>&nbsp;&nbsp;&nbsp;&nbsp; &quot;RFC XXXX: Voucher and Voucher Revocation Profiles<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for Bootstrapping Protocols&quot;;<br>&nbsp; }<br><br>&nbsp; rc:yang-data voucher-artifact {<br>&nbsp;&nbsp;&nbsp; uses voucher-grouping;<br>&nbsp; }<br><br>&nbsp; grouping voucher-grouping {<br>&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Grouping only exists for pyang tree output...&quot;;<br><br>&nbsp;&nbsp;&nbsp; container voucher {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; config false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A voucher that can be used to assign one or more<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledges to an owner.&quot;;<br>&nbsp;&nbsp;<br>&nbsp; &#x2F;&#x2F; ASN1 from X509 is<br>&nbsp; &#x2F;&#x2F; RFC5280 4.1.2.2 &quot;The serial number MUST be a positive integer assigned by the CA to each certificate.&quot;<br>&nbsp; &#x2F;&#x2F; CertificateSerialNumber&nbsp; ::=&nbsp; INTEGER<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf serial-number {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type uint32&#x27;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;included when the masa anticipates revoking nonce-less vouchers.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; &#x2F;&#x2F; from 5280: <strong>4.2.1.1.&nbsp; Authority Key Identifier</strong><br>&nbsp;&nbsp; &#x2F;*<br>&nbsp;&nbsp; &quot;The identification MAY be based on either the<br>&nbsp;&nbsp; key identifier (the subject key identifier in the issuer&#x27;s<br>&nbsp;&nbsp; certificate) or the issuer name and serial number.&quot;<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; The voucher AKI MUST be the subject key identifier from the MASA certificate used to sign the voucher<br>&nbsp;&nbsp; *&#x2F;<br>&nbsp;&nbsp; AuthorityKeyIdentifier ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; keyIdentifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [0] KeyIdentifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPTIONAL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authorityCertIssuer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [1] GeneralNames&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPTIONAL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authorityCertSerialNumber [2] CertificateSerialNumber OPTIONAL&nbsp; }<br>&nbsp;&nbsp; KeyIdentifier ::= OCTET STRING<br>&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp; leaf authority-key-identifier {<br>&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;the Subject Key Identifier of the MASA&#x27;s leaf certificate.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The voucher AKI MUST be the subject key identifier from the MASA certificate used to sign the voucher&quot;;<br>&nbsp;&nbsp; }<br><br><br><br><br>&nbsp; &#x2F;&#x2F; ASN 1 from x509 is<br>&nbsp; &#x2F;&#x2F; RFC5280 s4.2.2.1&nbsp;&nbsp;<br>&nbsp; &#x2F;&#x2F;&nbsp;<br>&nbsp; &#x2F;&#x2F; alternatively the pledge never access the revocation information at all.<br>&nbsp; &#x2F;&#x2F; instead the voucher bundling would be stapled into the CMS via:<br>&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc5652&#x23;section&#x2d;10&#x2e;2&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc5652#section-10.2.1</a><br>&nbsp; &#x2F;&#x2F; but this doesn&#x27;t work for long lived vouchers. because the registrar can&#x27;t update the cms<br>&nbsp; &#x2F;&#x2F; and the masa can&#x27;t put relevant &quot;long lived&quot; revocation information (that would take a time machine)<br>&nbsp; &#x2F;&#x2F; the ASN1 would be:<br>&nbsp;&nbsp;&nbsp;&nbsp; SignedData ::= SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp; version CMSVersion,<br>&nbsp;&nbsp;&nbsp;&nbsp; digestAlgorithms DigestAlgorithmIdentifiers,<br>&nbsp;&nbsp;&nbsp;&nbsp; encapContentInfo EncapsulatedContentInfo,<br>&nbsp;&nbsp;&nbsp;&nbsp; certificates [0] IMPLICIT CertificateSet OPTIONAL,<br>&nbsp;&nbsp;&nbsp;&nbsp; crls [1] IMPLICIT RevocationInfoChoices OPTIONAL,<br>&nbsp;&nbsp;&nbsp;&nbsp; signerInfos SignerInfos }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;*<br>&nbsp;&nbsp;&nbsp; id-pe-authorityInfoAccess OBJECT IDENTIFIER ::= { id-pe 1 }<br><br>&nbsp;&nbsp; AuthorityInfoAccessSyntax&nbsp; ::=<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SEQUENCE SIZE (1..MAX) OF AccessDescription<br><br>&nbsp;&nbsp; AccessDescription&nbsp; ::=&nbsp; SEQUENCE {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; accessMethod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OBJECT IDENTIFIER,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; accessLocation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GeneralName&nbsp; }<br><br>&nbsp;&nbsp; id-ad OBJECT IDENTIFIER ::= { id-pkix 48 }<br><br>&nbsp;&nbsp; id-ad-caIssuers OBJECT IDENTIFIER ::= { id-ad 2 }<br><br>&nbsp;&nbsp; id-ad-ocsp OBJECT IDENTIFIER ::= { id-ad 1 }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&#x2F;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; From RFC5280 &quot;When id-ad-ocsp appears as accessMethod, the accessLocation field is<br>&nbsp;&nbsp; the location of the OCSP responder, using the conventions defined in<br>&nbsp;&nbsp; [RFC2560].&quot; which is actually: <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc6960&#x23;section&#x2d;3&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc6960#section-3.1</a><br>&nbsp;&nbsp; So we are saying this is a list of URIs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf-list authority-info-access {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; when &quot;..&#x2F;assertion == &quot;long&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type inet:uri;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;This is handled the same way you handle the list inside a certificate.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pleadge is never responsbile for fetching OCSP Response.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf assertion {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type enumeration {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enum long {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Indicates that the ownership has been positively<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verified by the MASA (e.g., through sales channel<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; integration).&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enum short<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enum logged {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Indicates that this ownership assignment has been<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; logged into a database maintained by the MASA, after<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; first verifying that there has not been a previous<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; claim in the database for the same pledge (voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transparency).&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The assertion is a statement from the MASA regarding how<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the owner was verified.&nbsp;&nbsp; This statement enables pledges<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to support more detailed policy checks.&nbsp; Pledges MUST<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ensure that the assertion provided is acceptable before<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; processing the voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf trusted-ca-certificate {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;An X.509 v3 certificate structure as specified by RFC 5280,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Section 4 encoded using the ASN.1 distinguished encoding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rules (DER), as specified in ITU-T X.690.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This certificate is used by a pledge to trust a public key<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; infrastructure, in order to verify a domain certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; supplied to the pledge separately by the bootstrapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocol.&nbsp; The domain certificate MUST have this certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; somewhere in its chain of certificates.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This field is optional because it may not be needed by all<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootstrapping protocols.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Note: the expiration date of this certificate effectively<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; imposes an upper limit on the voucher&#x27;s expiration.&quot;;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reference<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;RFC 5280:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet X.509 Public Key Infrastructure Certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and Certificate Revocation List (CRL) Profile.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ITU-T X.690:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Information technology &#8211; ASN.1 encoding rules:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specification of Basic Encoding Rules (BER),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Canonical Encoding Rules (CER) and Distinguished<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Encoding Rules (DER).&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container domain-certificate-identifier {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; must &quot;..&#x2F;trusted-ca-certificate&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A trusted-ca-certificate must be present whenever<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this node is present&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;This container identifies specific values that a domain<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificate, provided to the pledge separately by the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bootstrapping protocol, MUST contain.&nbsp; This is useful<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; when, for instance, the trust anchor is a long-lived<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public CA certificate, while the domain certificate is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reissued periodically.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When provided, the pledge MUST perform RFC 6125 style<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; validation of the domain certificate against all of&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the provided values.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This container is optional because it is unneeded when,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for instance, the trusted CA certificate is owned by the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; domain (i.e.&nbsp; a private PKI), and hence the trust model<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; can be more relaxed.&quot;;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf subject {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The certificate&#x27;s entire subject field MUST match<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this value.&nbsp; This value is the Subject structure, as<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specified by RFC ???? Section ???, encoded using the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASN.1 distinguished encoding rules (DER), as specified<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in ITU-T X.690.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf cn-id {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type string;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;The certificate&#x27;s subject field&#x27;s &#x27;common name&#x27; value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MUST match this value.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf dns-id {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type string;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A subjectAltName entry of type dNSName in the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificate MUST match this value.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf device-identifier {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type string;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A unique identifier (e.g., serial number) within the scope<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of the MASA.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When processing a vouchers, pledges MUST ensure that their<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unique identifier matches at least one regular expression in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the list.&nbsp; If no matching regular expression is found, the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledge MUST NOT process this voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf nonce {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; length &quot;8..32&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A value that can be used by a pledge in some bootstrapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocols to enable anti-replay protection.&nbsp; This node is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; optional because it is not used by all bootstrapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protocols.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When present, the pledge MUST compare the provided nonce<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value with another value that the pledge randomly generated<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and sent to a bootstrap server in an earlier bootstrapping<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; message.&nbsp; If the values do not match, then the pledge MUST<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NOT process this voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf created-on {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type yang:date-and-time;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mandatory true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A value indicating the date this voucher was created.&nbsp; This<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; node is optional because its primary purpose is for human<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; consumption.&nbsp; However, when present, pledges that have<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable clocks SHOULD ensure that this created-on value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is not greater than the current time.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf expires-on {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type yang:date-and-time;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;A value indicating when this voucher expires.&nbsp; The node is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; optional as not all pledges support expirations, such as<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pledges lacking a reliable clock.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If the pledge supports expirations and the expires-on value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is less then the current time, then the pledge MUST not<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; process this voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf-list revocation-location {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type inet:uri;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Zero or more URIs indicating where revocation information for<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this voucher may be obtained.&nbsp; This node is optional as not<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; all pledges may support processing revocations.&nbsp; More than<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; one URI may be provided for high-availability reasons.&nbsp; The<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; URL may address an issuer-wide revocation document or a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher-specific revocation document.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A pledge may also obtain voucher revocation information from<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the same source where it obtained the voucher.&nbsp; In this case,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the pledge SHOULD attempt to obtain a potentially newer&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher revocation but, if it is unable to, for whatever<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reason, the pledge MUST process the provided voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; revocation.<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If a pledge processes a voucher revocation that indicates a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher is no longer valid, then the pledge MUST not<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; process the voucher.&nbsp; If a pledge is unable to process any<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher revocation, then the pledge SHOULD NOT process the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher.&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; } &#x2F;&#x2F; end voucher<br>&nbsp; } &#x2F;&#x2F; end voucher-grouping<br>}<br><br><br>if we look at:<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc4108&#x23;section&#x2d;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc4108#section-1</a><br><br>Notes on alternative approach:<br>&nbsp;&nbsp;&nbsp; * short lifetimes with clean&#x2F;simple renewal<br>&nbsp;&nbsp;&nbsp; * renewal doesn&#x27;t require repeating the &quot;claim&quot; process<br>&nbsp;&nbsp;&nbsp; * might not even require authentication<br>&nbsp;&nbsp;&nbsp; * all renewal&#x27;s are added to the logs<br>&nbsp;Hence, there is no need for revocation because the same use cases can be met.<br><ul class="indent"><li>&nbsp;Name: long lived &quot;claim&quot; to a device with short term validity period for any given voucher. (basically what OCSP would provide)</li><li><br></li></ul>To do this: [ACTION: MAX TO INSERT THIS INTO BRSKI]<br><ul class="indent"><li>Almost as an aside we realize that the MASA pki infrastructure can&#x27;t easily do revocation either. Therefore:</li><li>MASA pki MUST&#x2F;SHOULD use HSMs and be very protective of certs issued. Short lifetimes etc.&nbsp;&nbsp;</li></ul><br>a) Registrar claim&#x27;s device and obtains a voucher.<br><ul class="indent"><li>&nbsp;(netconf is outside of scope: assume web sales channel integration with emailed vouchers)&nbsp;</li><li>This is a &#x27;short lifetime&#x27; voucher w&#x2F; Validity=RTC</li><li>Whatever &#x27;claim&#x27; authentication process that is in place is used.</li><li>[QUESTION: Does the ACME &quot;account&quot; model inform us? No text, prepare for IETF discussion]&nbsp;</li><li><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;acme&#x2d;acme&#x2d;05">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-acme-acme-05</a></li><li><br></li></ul>b) Registrar&#x27;s can request an updated voucher at any time<br><ul class="indent"><li>&nbsp;(netconf is outside of scope: web site integration page with emailed vouchers *the the old address* (but it doesn&#x27;t matter))</li><li>BRSKI by simply re-requesting a voucher using the existing REST interface. Submit the old (expired) voucher instead of a voucher request.&nbsp;</li><li>[MAX: normative statement about Registrar doing this and MASA behavior]</li><li><br></li></ul>c) Registrars can go back to (a) at any time. For example if their domainID has changed.&nbsp;<br><ul class="indent"><li>[MAX: add this as a note. Nothing blocking it in the current draft].&nbsp;</li><li><br></li></ul>Voucher draft:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>Remove most of Section 3 and replace (in Design Consideration) with a summary of the a,b,c above. Short lifetime vouchers with an easy path to request a new voucher. Where &quot;easy&quot; == if the domainID hasn&#x27;t changed don&#x27;t need to repeat hard claim process.&nbsp;<br><br>section 4: remove final paragraph (&quot;While it may make sense...&quot;)<br>Add:&nbsp;<br>&nbsp;&nbsp;&nbsp; if the domainID is compromised; then any outstanding voucher (that refs that domainID) could be used by the attacker.<br>&nbsp;&nbsp;&nbsp; owner might be wise enough to go the CA and revoke the domainID certificate<br>&nbsp;&nbsp;&nbsp; but they pledge might not check for revocation; so outstanding vouchers (or newly issued vouchers) could be used by the attacker<br>&nbsp;&nbsp;&nbsp; to mitigate:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; owner should tell MASA... but also more flexible:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MASA should check for expiration&#x2F;revocation of of the trusted_ca_certificate when issuing voucher<br><br>section 5.1: each instance of &quot;revocation&quot; becomes &quot;blocking renewal&quot; and all the logic is the same.&nbsp;<br><br>section 6.1: remove &quot;and revocations&quot;<br><ul class="indent"><li><br></li><li><br></li></ul>3-14 pie day!<br>attendees: max, kent, mcr, m.behringer joined 15 min late, nobody left on call?<br><br>Voucher Request:<br>&nbsp;&nbsp;<br>What will the interop test suite look like?<br><br>Run these entities:<br><ul class="indent"><li>MASA&nbsp;</li><li>Registrar</li><li>Pledge</li></ul><br>Message parsing:<br><ul class="indent"><li>Similar Makefile test suite in the zero-conf github</li><li>Proposes building up the pkcs7&#x27;s etc via these methods</li><li>Confirm message generation and consumption</li><li>THIS IS PRIMARY (MCR, KENT are prepared for this)</li></ul><br>Protocols:<br><ul><ul class="indent"><li>BRSKI sans discovery&nbsp;</li><ul class="indent"><li>static config of Registrar and MASA URLs</li></ul><li>BRSKI sans proxy</li><ul class="indent"><li>Pledge&lt;-&gt;Registrar&lt;-&gt;MASA</li></ul></ul></ul><br>Use cases to test:<br><ul class="indent"><li>vendorA Pledge</li><ul><ul class="indent"><li>Can pledge parse a voucher from vendorA&nbsp;</li><li>(should be trivial)</li><li>(perhaps worth testing if a modified voucher is rejected)**</li></ul></ul><li>vendorB Registrar</li><ul><ul class="indent"><li>Can Registrar parse a voucher from vendorA</li><li>(likely the critical test)**</li></ul></ul><li>vendorA MASA</li><ul><ul class="indent"><li>Can MASA parse a request from vendorB</li><li>(likely a critical test)**</li></ul></ul></ul><br>What messages (JSON discrepencies)&nbsp;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;<br>From BRSKI:<br>&nbsp;&nbsp; {<br>&nbsp;&nbsp; &quot;version&quot;:&quot;1&quot;,<br>&nbsp;&nbsp; &quot;nonce&quot;:&quot;&lt;64bit nonce value&gt;&quot;,<br>&nbsp;&nbsp; &quot;IDevIDAuthorityKeyIdentifier&quot;:&quot;&lt;base64 encoded keyIdentifier&quot;&gt;,<br>&nbsp;&nbsp; &quot;DevIDSerialNumber&quot;:&quot;&lt;id-at-serialNumber or base64 encoded<br>&nbsp;&nbsp; hardwareModuleName hwSerialNum&gt;&quot;,<br>&nbsp;&nbsp; }<br><ul class="indent"><li><br></li></ul><br>===== preso for monday?<br><ul class="indent"><li>we need to request a preso for monday: MAX</li><li>1) hackathon report (sat &amp; sun results)</li><li>2) updated docs summaryh</li><ul><ul class="indent"><li>voucher doc (!!)</li><li>revocation resolution (DISCUSS items)</li><li>move to JWT.. what does this mean?</li><li>BRSKI doc</li><li><br></li></ul></ul></ul><br>***************************************<br>2017-03-21 (well post pie day; you should have eaten it all by now)<br>attendees: mcr, kent,max (joining now) here still eating week-old pie ;)<br>&nbsp;&nbsp;&nbsp; NOTE: the meeting time is messed up because of daylight savings in the US messing with clocks.&nbsp;<br>&nbsp;&nbsp;&nbsp; Max was here at the &quot;same time&quot; by a US clock but of course couldn&#x27;t join the webex and looks like nobody else joined the etherpad<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; &quot;I&#x27;ll try back in an hour&quot; -- said he.&nbsp;</li><li><br></li><li>hi. I was late.</li><li>anyone still here?</li><li><br></li><li>10:20, nobody here?</li><li>so, you can do this at 11am. okay.</li><li>back at 11am. fetching drink.</li><li><br></li><li>Worked on slides for IETF98.</li><li><br></li><li><br></li><li><br></li><li>hi. i&#x27;m around.</li><li>JOining the main webex.</li><li><br></li></ul><br><br>***************************************<br>2017-03-25: kent<br><ul class="indent"><li><br></li><li><br></li><li>Hackathon Notes &#x2F; Issues</li><li><br></li><li>1) Tag &quot;authority key identifier&quot; values with the which entity it refers to. For example does it refer to the MASA or the Registrar &#x27;authority&#x27;</li><li><br></li><li>2) example in BRSKI doesn&#x27;t match Yang of voucher doc. (NOTE: it does include authority info)</li><li><br></li><li>3) if we indirectly link the owner via the &#x27;domain-certificate-identifier&#x27; then audit logs don&#x27;t work?</li><ul class="indent"><li>CONCLUSION: add to the audit log (and audit log response) the registrarID</li><li>in this way we can distinguish between distinct registrars at a common public CA</li><li><br></li></ul><li>4) Enumeration attack against the MASA audit log is not protected against</li><ul class="indent"><li>The DoS attack protection doesn&#x27;t prevent this. A &#x27;slow loris&#x27; attack would be possible.</li><li>- MASA can prevent using sales channel integration (to the currently defined BRSKI interface)</li><ul class="indent"><li>for example: a symetric key on a 2d barcode that is submitted to a REST interface</li><li>this is equivalent to the ACME model that where &quot;domain validation&quot; is &quot;out of band&quot; of the main protocol exchange</li></ul><li>- Proof-of-90ownership: interesting extensions to nonce&#x27;s could provide some protections (but wouldn&#x27;t prevent replay attacks? MASA server would have to watch for repeat nonces?)&nbsp;</li><li>- there can be a time of purchase sales&#x2F;channel integration (record that you purchased it)</li><li>- add &quot;proof-of-device-posession&quot; would solve this at the cost of additional crypto operations and handshakes</li><ul class="indent"><li>(possible optimization: registrar inserts a &quot;MASAnonce&quot; into the handshake and then shares the handshake with the MASA server. Ideally w&#x2F;o changes to the pledge behavior. Perhaps prepare for this by defining the TLS handshake extension that the Pledge MUST support but MAY ignore.)</li></ul></ul><li><br></li><li>5) Pledge and Registrar (really all) SHOULD be tolerant (ignore) PEM headers around base64 encoded certificates?</li><ul class="indent"><li>Base64 decoding SHOULD be tolerant (ignore) line breaks and white space.&nbsp;</li><li>Is there a normative reference for this that we can point to to ensure this works?</li></ul></ul><br><ul class="indent"><li>6) The Pledge voucher response validation needs to explicitely state that the nonce MAY be empty (removed by the Registrar).</li></ul><br><ul class="indent"><li>7) In the nonce-less voucher request clarify that the MASA must:</li><ul class="indent"><li>* authenticate the client using authentication (using &quot;explicit or implicit (via RFC6125 reference identifiers that is certified by a well known, installed by default, trust anchor such as a CA browser forum)&quot; validation, see EST).&nbsp;</li><li>&nbsp;and</li><li>* SHOULD add the entire certificate chain to the audit database (this does not include a requirement to add</li><li>the full chain to the audit log).</li><li><br></li></ul><li>8) strip all example vouchers from BRSKI - it is all done by reference to the voucher draft</li></ul><br><ul class="indent"><li>9) why IDevIDAuthorityKeyIdentifier is included is not specified in the BRSKI text</li><li><br></li><li>10) the CMS must be created with attributes</li><li><br></li><li>11) MASA processing instructions on how to determine the maximum voucher validity period (namely not longer than any of the revocation or ocsp validity periods that it verified when authenticating the domain registrar; assuming registrar authentication of course)&nbsp;</li><ul class="indent"><li><br></li></ul><li>12) Clarify that the voucher request is just anything that is parsable as a voucher&nbsp;</li><li>according to the voucher document. every single field in it is a *request* by the registrar</li><li>and the server MUST NOT simply sign the request and return it. The MASA MAY read the values</li><li>in the request to inform the MASA of policy requests by the client.&nbsp;</li><li><br></li><li>13) Lucky 13! This is actually from discussion as per Michael B&#x27;s presentation: He asks that the BRSKI state machine discussion is</li><li>consistent with his anima-reference-model-03 slides as presented</li><li>and asked here.</li><ul class="indent"><li><br></li></ul></ul>How to delete extraneous text:<br>&nbsp;&nbsp;&nbsp; - dramatically<br>&nbsp;&nbsp;&nbsp; - maybe by creating a design consideration into the appendix and moving lots of text to there<br>&nbsp;&nbsp;&nbsp; - first pass: move (most) everything except protocol details and security considerations to an appendix. Move all normative statements to the protocol details section.&nbsp;<br><ul><ul class="indent"><li><br></li><li><br></li><li>HERE is a voucher from mcr: <a href="http&#x3a;&#x2F;&#x2F;www&#x2e;sandelman&#x2e;ca&#x2F;tmp&#x2F;almec&#x5f;voucher&#x2e;smime">http:&#x2F;&#x2F;www.sandelman.ca&#x2F;tmp&#x2F;almec_voucher.smime</a></li><li>NOtes on this voucher:</li><ul class="indent"><li>signed by the CA cert. needs to be an RA (issued with a cmcRA key usage)</li><li>it has \n all through the owner cert.&nbsp;</li></ul><li><br></li></ul></ul>Notes on next step for hackathon:<br>BRSKIEtherpad<br>Sneakernet-BRSKI:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [here is a voucher request]<br><br>BRSKI: voucher request includes:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - trusted-ca-certificate (eq TLS root cert)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; included in voucher request; not in handshake because TLS excludes it&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - provide the Registrar CA cert and cmc-RA cert (eq TLS client cert)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (can be included in TLS hanshake)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; but we don&#x27;t do client-auth because it is required for smime anyway<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; meaning it is in the request<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - serial number (eq protocol data)<br><br>Registrar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - offline insert of voucher from MASA<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - verify voucher signature<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - properly extract&#x2F;report on devid serial number<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - verify that *my* ca cert is in the voucher<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (it will result in the pledge trusting me!!)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - set the MASA &quot;MASAServerCert&quot;<br><br>Voucher Response:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - trusted-ca-certificate (eq TLS root cert)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this provides the pledge with the CA cert so it can authenticate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the registrar (which till now was only provisionally authenticated)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (other fields)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>2017-04-18:&nbsp;<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr</li><ul class="indent"><li>URL for connection: <a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a></li><li>max will be there in a moment.</li><li><br></li></ul></ul>issues I have with concise document:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DomainID:&nbsp; The domain identity is the 160-bit SHA-1 hash of the BIT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; STRING of the subjectPublicKey of the domain trust anchor that is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stored by the Domain CA.&nbsp; This is consistent with the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Certification Authority subject key identifier (Section 4.2.1.2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [RFC5280]) of the Domain CA&#x27;s self signed root certificate.&nbsp; (A<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string value bound to the Domain CA&#x27;s self signed root certificate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subject and issuer fields is often colloquially used as a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; humanized identity value but during protocol discussions the more<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exact term as defined here is used).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; ^^^ I think the terminology section shouldn&#x27;t say this, because we should it later.&nbsp; MCR will edit&#x2F;provide text.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Discussion of what the concise rework in original document is.<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Onwards to vouchers:<br><br>1. discussion about move to JWT...&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;www&#x2e;ietf&#x2e;org&#x2F;mail&#x2d;archive&#x2F;web&#x2F;anima&#x2d;bootstrap&#x2F;current&#x2F;msg00486&#x2e;html">https:&#x2F;&#x2F;www.ietf.org&#x2F;mail-archive&#x2F;web&#x2F;anima-bootstrap&#x2F;current&#x2F;msg00486.html</a><br><br>To experiment I used &quot;libjwt&quot; from github as referenced by <a href="https&#x3a;&#x2F;&#x2F;jwt&#x2e;io">https:&#x2F;&#x2F;jwt.io</a><br>I built a &quot;voucher-jwt&quot; executable which produces:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>DUMP but not encoded:<br>{<br>&nbsp;&nbsp; &quot;typ&quot;: &quot;JWT&quot;,<br>&nbsp;&nbsp; &quot;alg&quot;: &quot;ES256&quot;,<br>&nbsp;&nbsp; &quot;x5c&quot;: [&quot;MIIBdjCCAR2gAwIBAgIBATAKBggqhkjOPQQDAjArMRYwFAYDVQQKDA1DaXNjbyBTeXN0ZW1zMREwDwYDVQQDDAhWZW5kb3JDQTAeFw0xNzA0MDMxNTE1NDVaFw0xODA0MDMxNTE1NDVaMC0xFjAUBgNVBAoMDUNpc2NvIFN5c3RlbXMxEzARBgNVBAMMClZlbmRvck1BU0EwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAT9GTrDd0GWgwcuSy8LCn0waMeknpLznajZzqWlLhrPwshgIPIPvbyY6IyCo4uBYU&#x2F;e4OO6TQD9UVLlyU5R6cA6ozAwLjALBgNVHQ8EBAMCBaAwHwYDVR0jBBgwFoAUR4oEpb4YFuelkMrQjlnKtM01ovEwCgYIKoZIzj0EAwIDRwAwRAIgAQ8YR2IdLodEE8k+JxpBOIAGuzCeT9BmFOVhFUb8eJMCIC23Goss6manRjNSmh6+2oB9tsRbjmnnwuMlDXR8fzug&quot;, &quot;MIIBnTCCAUOgAwIBAgIJAK9Pd5G+&#x2F;r0UMAoGCCqGSM49BAMCMCsxFjAUBgNVBAoMDUNpc2NvIFN5c3RlbXMxETAPBgNVBAMMCFZlbmRvckNBMB4XDTE3MDQwMzE0MTAwNVoXDTE4MDQwMzE0MTAwNVowKzEWMBQGA1UECgwNQ2lzY28gU3lzdGVtczERMA8GA1UEAwwIVmVuZG9yQ0EwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASunsQL2PVOSFWWp0oCjlqF8iVPPpEgJct931CZQ6assp07otmfgZqXsk1JYRTlKCGjROxrAiVRQsB54ioA0yu0o1AwTjAdBgNVHQ4EFgQUR4oEpb4YFuelkMrQjlnKtM01ovEwHwYDVR0jBBgwFoAUR4oEpb4YFuelkMrQjlnKtM01ovEwDAYDVR0TBAUwAwEB&#x2F;zAKBggqhkjOPQQDAgNIADBFAiEA+SSOhiNQ23RWA76kZ&#x2F;2u70FCpU8OsU7X9IRiWGDgIAgCIFLu8FnJuqPx10sgHvIzqI5BgOcwCa5vFQZdCDBHIx18&quot;]<br>}<br>.&nbsp; &quot;compact serialization&quot; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7515&#x23;section&#x2d;7&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7515#section-7.1</a><br>{<br>&nbsp;&nbsp; &quot;ietf-voucher:voucher&quot;: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;assertion&quot;: &quot;logging&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;domain-cert-trusted-ca&quot;: &quot;-----BEGIN CERTIFICATE-----\nMIIBUjCB+qADAgECAgkAwP4qKsGyQlYwCgYIKoZIzj0EAwIwFzEVMBMGA1UEAwwM\nZXN0RXhhbXBsZUNBMB4XDTE3MDMyNTIyMTc1MFoXDTE4MDMyNTIyMTc1MFowFzEV\nMBMGA1UEAwwMZXN0RXhhbXBsZUNBMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\nRVrNlEN2ocYscAILBU7NggABo0JgA1rEGdYdCQj1nHKL6xKONJIUfBibe6iMVYd3\nRUmPwaPiHNZJ98kRwHIwnKMvMC0wDAYDVR0TBAUwAwEB&#x2F;zAdBgNVHQ4EFgQU+dVX\naXoucU1godNF0bycS1U5W54wCgYIKoZIzj0EAwIDRwAwRAIgNsCGjpEjuvz6OKJ&#x2F;\n3rOvMc2ZfDhD02K+0PCVFJGCQGwCIAzf3BS6x9kKSROJJvxDSpg0QK9+b9LSFkbZ\nM1PW98AN\n-----END CERTIFICATE-----\n&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nonce&quot;: &quot;ea7102e8e88f119e&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;serial-number&quot;: &quot;PID:1 SN:widget1&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;serial-number-issuer&quot;: &quot;36097E3DEA39316EA4CE5C695BE905E78AF2FB5A&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;version&quot;: &quot;1&quot;<br>&nbsp;&nbsp; }<br>}<br><br>ENCODED:<br>eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsICAgICJ4NWMiOlsiTUlJQmRqQ0NBUjJnQXdJQkFnSUJBVEFLQmdncWhrak9QUVFEQWpBck1SWXdGQVlEVlFRS0RBMURhWE5qYnlCVGVYTjBaVzF6TVJFd0R3WURWUVFEREFoV1pXNWtiM0pEUVRBZUZ3MHhOekEwTURNeE5URTFORFZhRncweE9EQTBNRE14TlRFMU5EVmFNQzB4RmpBVUJnTlZCQW9NRFVOcGMyTnZJRk41YzNSbGJYTXhFekFSQmdOVkJBTU1DbFpsYm1SdmNrMUJVMEV3V1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVQ5R1RyRGQwR1dnd2N1U3k4TENuMHdhTWVrbnBMem5halp6cVdsTGhyUHdzaGdJUElQdmJ5WTZJeUNvNHVCWVUvZTRPTzZUUUQ5VVZMbHlVNVI2Y0E2b3pBd0xqQUxCZ05WSFE4RUJBTUNCYUF3SHdZRFZSMGpCQmd3Rm9BVVI0b0VwYjRZRnVlbGtNclFqbG5LdE0wMW92RXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdBUThZUjJJZExvZEVFOGsrSnhwQk9JQUd1ekNlVDlCbUZPVmhGVWI4ZUpNQ0lDMjNHb3NzNm1hblJqTlNtaDYrMm9COXRzUmJqbW5ud3VNbERYUjhmenVnIiwiTUlJQm5UQ0NBVU9nQXdJQkFnSUpBSzlQZDVHKy9yMFVNQW9HQ0NxR1NNNDlCQU1DTUNzeEZqQVVCZ05WQkFvTURVTnBjMk52SUZONWMzUmxiWE14RVRBUEJnTlZCQU1NQ0ZabGJtUnZja05CTUI0WERURTNNRFF3TXpFME1UQXdOVm9YRFRFNE1EUXdNekUwTVRBd05Wb3dLekVXTUJRR0ExVUVDZ3dOUTJselkyOGdVM2x6ZEdWdGN6RVJNQThHQTFVRUF3d0lWbVZ1Wkc5eVEwRXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CQndOQ0FBU3Vuc1FMMlBWT1NGV1dwMG9DamxxRjhpVlBQcEVnSmN0OTMxQ1pRNmFzc3AwN290bWZnWnFYc2sxSllSVGxLQ0dqUk94ckFpVlJRc0I1NGlvQTB5dTBvMUF3VGpBZEJnTlZIUTRFRmdRVVI0b0VwYjRZRnVlbGtNclFqbG5LdE0wMW92RXdId1lEVlIwakJCZ3dGb0FVUjRvRXBiNFlGdWVsa01yUWpsbkt0TTAxb3ZFd0RBWURWUjBUQkFVd0F3RUIvekFLQmdncWhrak9QUVFEQWdOSUFEQkZBaUVBK1NTT2hpTlEyM1JXQTc2a1ovMnU3MEZDcFU4T3NVN1g5SVJpV0dEZ0lBZ0NJRkx1OEZuSnVxUHgxMHNnSHZJenFJNUJnT2N3Q2E1dkZRWmRDREJISXgxOCJdfQ.eyJpZXRmLXZvdWNoZXI6dm91Y2hlciI6eyJhc3NlcnRpb24iOiJsb2dnaW5nIiwiZG9tYWluLWNlcnQtdHJ1c3RlZC1jYSI6Ii0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLVxuTUlJQlVqQ0IrcUFEQWdFQ0Fna0F3UDRxS3NHeVFsWXdDZ1lJS29aSXpqMEVBd0l3RnpFVk1CTUdBMVVFQXd3TVxuWlhOMFJYaGhiWEJzWlVOQk1CNFhEVEUzTURNeU5USXlNVGMxTUZvWERURTRNRE15TlRJeU1UYzFNRm93RnpFVlxuTUJNR0ExVUVBd3dNWlhOMFJYaGhiWEJzWlVOQk1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRVxuUlZyTmxFTjJvY1lzY0FJTEJVN05nZ0FCbzBKZ0ExckVHZFlkQ1FqMW5IS0w2eEtPTkpJVWZCaWJlNmlNVllkM1xuUlVtUHdhUGlITlpKOThrUndISXduS012TUMwd<br>0RBWURWUjBUQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVK2RWWFxuYVhvdWNVMWdvZE5GMGJ5Y1MxVTVXNTR3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnTnNDR2pwRWp1dno2T0tKL1xuM3JPdk1jMlpmRGhEMDJLKzBQQ1ZGSkdDUUd3Q0lBemYzQlM2eDlrS1NST0pKdnhEU3BnMFFLOStiOUxTRmtiWlxuTTFQVzk4QU5cbi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS1cbiIsIm5vbmNlIjoiZWE3MTAyZThlODhmMTE5ZSIsInNlcmlhbC1udW1iZXIiOiJQSUQ6MSBTTjp3aWRnZXQxIiwic2VyaWFsLW51bWJlci1pc3N1ZXIiOiIzNjA5N0UzREVBMzkzMTZFQTRDRTVDNjk1QkU5MDVFNzhBRjJGQjVBIiwidmVyc2lvbiI6IjEifX0.QkTUpcxv6Ng6ylyWYnlqun-5SFhD1XwLIW1kD7Y9dNwioheNMcVnowkELl_EMClyOWuLvvWuoCHAcWz_UA0IGw<br><br>A &quot;general JWS JSON Serialization&quot; would look like:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;payload&quot;:&quot;&lt;payload contents&gt;&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;signatures&quot;:[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&quot;protected&quot;:&quot;&lt;integrity-protected header 1 contents&gt;&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;header&quot;:&lt;non-integrity-protected header 1 contents&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;signature&quot;:&quot;&lt;signature 1 contents&gt;&quot;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&quot;protected&quot;:&quot;&lt;integrity-protected header N contents&gt;&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;header&quot;:&lt;non-integrity-protected header N contents&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;signature&quot;:&quot;&lt;signature N contents&gt;&quot;}]<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br>a &quot;flattened&quot; form:<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;payload&quot;:&quot;&lt;payload contents&gt;&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;protected&quot;:&quot;&lt;integrity-protected header contents&gt;&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;header&quot;:&lt;non-integrity-protected header contents&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;signature&quot;:&quot;&lt;signature contents&gt;&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Voucher Request Discussion:<br><br>The BRSKI doc assumes a form of voucher request which could be summarized as a &quot;not signed voucher template&quot;. Containing only the information known by the client.&nbsp;<br>The Registrar then signs this and sends it to the MASA to be turned into a voucher.&nbsp;<br>see <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;draft&#x2d;ietf&#x2d;anima&#x2d;bootstrapping&#x2d;keyinfra&#x2d;05&#x23;section&#x2d;7&#x2e;1">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;draft-ietf-anima-bootstrapping-keyinfra-05#section-7.1</a><br><br>A voucher request is a voucher that is not signed by the MASA.&nbsp;<br>A voucher request MUST be signed by the Registrar. This is equivalent to the current pkcs7 signing mandate.<br>A new thing: A voucher request MAY be signed by the Pledge.<br><ul class="indent"><li>con: additional crypto operation by the pledge</li><li>pro: proof to the masa of physical possession&nbsp;</li><li>An option to be discussed.&nbsp;</li></ul>Another new thing: A voucher MAY include a &quot;previous form of the voucher request&quot; sub-field. e.g. a JSON of the full previously signed voucher. e.g. we add to the YANG model a field that could be a full JSON etc voucher; which itself might have been signed. Thus:<br>Pledge optionally signs the voucher request with a nonce in it.<br>Registrar signs a voucher that includes the previous voucher.<br><ul class="indent"><li>{header&#x2F;signature}.Pledge_voucher{nonce, etc}</li><li>{header&#x2F;signature}.Registrar_voucher{copy some fields, added some fields, {header&#x2F;signature}.Pledge_voucher{nonce, etc}}</li><li>this would be the JSON Compact Serialization URL-safe string. something like a string value.</li></ul>MASA recieves and creates a voucher (dropping all previous requests).<br><br>Need to define: what does the Registrar do with this? Can&#x27;t always include it because it could include fields the Registrar doesn&#x27;t know. MAY&#x2F;SHOUDL include it for the MASA to make policy decisions.&nbsp;<br><br><br>SIDE NOTE: verification of the TLS client cert as being the same as the voucher request might be(!?) assumed in the current 7.2 text. Two reasons for this:<br><ul class="indent"><li>- we avoid having to deal with replay attacks</li><li>- and the domain CA cert isn&#x27;t sent in the TLS handshake but is sent in the signature header (&quot;pkcs7&quot; or &quot;x5c&quot;).</li></ul>This is an issue regardless of the format discussion.<br>Perhaps all that matters is that the root is the same but not that they are the same certificate?&nbsp;<br><br>2017-04-25:<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; present: mcr, peter, mbehringer, kent looking for correct webex...&nbsp; Didn&#x27;t work for me.</li><li>webex is dead to me:&nbsp; <a href="https&#x3a;&#x2F;&#x2F;appear&#x2e;in&#x2F;anima&#x2d;boostrap">https:&#x2F;&#x2F;appear.in&#x2F;anima-boostrap</a> I&#x27;m in.</li><li>Michael Behringer... you joining? trying hard. I&#x27;m in the appear in room, I THINK. But can&#x27;t see anyone else?&nbsp; You mistyped the URL. no &#x27;t&#x27; my gosh....</li><li><br></li><li>{mcr still way behind; was ill last week}</li><li><br></li></ul>brief recap by mcr, about what we did last week.<br>Max: recap of list is that we need a definitive form for the voucher request.... &quot;it&#x27;s just a voucher&quot; ,&nbsp;<br>Kent: related, but slightly different format.<br><br>Max: signed certificate requests mean that the registrar can not change it, and this has caused a mess.<br>mcr asks for details... max: lack of interoperation.<br><br>To fix the syntax from 1357:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>voucher request<br><br>{&nbsp;<br>&nbsp;&nbsp;&nbsp; &quot;header&quot;: &quot;foo&quot;<br>}<br>.<br>{<br><ul class="indent"><li>&nbsp;&nbsp;&nbsp; payload&quot; : &quot;bar&quot;</li></ul>}<br>.signature<br><br>{&nbsp;<br>&nbsp;&nbsp;&nbsp; &quot;header&quot;: &quot;foo&quot;<br>}<br>.<br>{<br><ul class="indent"><li>payload&quot; : &quot;bar&quot;,</li><li>prior_jwt : &quot;{h}.{p,prior_jwt:&quot;&lt;base64&gt;&quot;}.s&quot;</li></ul>}<br>.signature<br><br>Max&#x27;s proposed algorithm for signing vouchers is:<br><ul class="indent"><li>The relying party validates and signs the &quot;first&quot; voucher in the list</li><li>The relying party MAY recurse into the list to verify, for example, that the inner jwt was signed by the pledge</li></ul><br><ul class="indent"><li>Processing is effectively this:&nbsp;</li><li>recurse to the bottom of the list. Built a json from the payload. As you return up the list re-apply each JSON payload.</li><ul class="indent"><li>Has the disadvantage of making it difficult to remove something.&nbsp;</li></ul><li>each node copies what it want to maintain. the optional history list is purely informative. &lt;----- BEST&nbsp;</li></ul><br><br><ul class="indent"><li><br></li></ul><br><br>DIAGRAM OF ACTORS:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CMS&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; [MASA] &lt;--A--&gt; [ REGISTRAR ] &lt;--C--&gt; [ CERTAUTHORITY ]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; voucher&nbsp; \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; proto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \B&nbsp; [BRSKI&#x2F;EST]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [PLEDGE]<br><br><br>handling criticality:<br>&nbsp;&nbsp;&nbsp; <a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7515&#x23;section&#x2d;4&#x2e;1&#x2e;11">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7515#section-4.1.11</a><br>&nbsp;&nbsp;&nbsp;&nbsp; {&quot;alg&quot;:&quot;ES256&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;crit&quot;:[&quot;exp&quot;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;exp&quot;:1363284000<br>&nbsp;&nbsp;&nbsp;&nbsp; }<br><br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7951">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7951</a> (yang-json)<br><a href="https&#x3a;&#x2F;&#x2F;datatracker&#x2e;ietf&#x2e;org&#x2F;doc&#x2F;draft&#x2d;ietf&#x2d;core&#x2d;yang&#x2d;cbor&#x2F;">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;draft-ietf-core-yang-cbor&#x2F;</a> (yang to cbor)<br><a href="https&#x3a;&#x2F;&#x2F;tools&#x2e;ietf&#x2e;org&#x2F;html&#x2F;rfc7950&#x23;section&#x2d;11">https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc7950#section-11</a> (updating a yang module)<br>&nbsp;&nbsp; o&nbsp; A &quot;mandatory&quot; statement may be removed or changed from &quot;true&quot; to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;false&quot;.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br>ACTION:<br><ul class="indent"><li>1) add version field to the voucher&nbsp;</li><li>2) define voucher request in BRSKI (as a voucher)</li><li>3) define any additional fields in BRSKI:</li><ul class="indent"><li><br></li></ul><li><br></li></ul>module ietf-voucher-req {<br>&nbsp; import ietf-vouher {<br>&nbsp;&nbsp;&nbsp; prefix v;<br>&nbsp; }<br>&nbsp;&nbsp;<br>&nbsp; augment &quot;v:voucher&#x2F;&quot; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; leaf prior_signedvoucher {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type binary;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;...&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>}<br><ul class="indent"><li><br></li></ul><br>2017-05-02<br><ul class="indent"><li>present: mcr, Michael Behringer&nbsp;</li><li><br></li><li>suggest we go through EDNOTEs in document.</li><li><br></li><li>&nbsp;&nbsp; [[EDNOTE: move below?]]The Pledge establishes a TLS connection with</li><li>&nbsp;&nbsp;&nbsp; ---&gt; agreed</li><li><a href="https&#x3a;&#x2F;&#x2F;github&#x2e;com&#x2F;anima&#x2d;wg&#x2F;anima&#x2d;bootstrap&#x2F;blob&#x2F;concise&#x2F;dtbootstrap&#x2d;anima&#x2d;keyinfra&#x2e;txt">https:&#x2F;&#x2F;github.com&#x2F;anima-wg&#x2F;anima-bootstrap&#x2F;blob&#x2F;concise&#x2F;dtbootstrap-anima-keyinfra.txt</a></li><li><br></li><li>Is there a relationship between the TLS Server Certificate of the MASA, and the Issuer Certificate from the IDevID.</li><li>Cases:&nbsp;</li><li>&nbsp;- pledge contains URL of MASA</li><li>&nbsp;- step 1: registrar follows URL (default)</li><li>&nbsp;- option 1: redirect: should it be allowed? (if not, cannot deploy anti-DDOS re-direct)</li><li>&nbsp;- option 2: manual override of URL: should it be allowed?&nbsp;</li><li>Tentatively: Neither option 1 or 2 have an impact on security (&quot;stealing&quot; a device).&nbsp;</li><li>HTTP&#x2F;2, TLS upgrade.</li><li>Can&#x2F;should the registrar connect to MASA, online to the TLS connection to the Pledge, to get the certificate chain to validate the pledge?</li><li>{is there an attack on the Registrar by the pledge,&nbsp;</li><li>MB suggests that<s> IDevID and </s>MASA Server Certificate would be verifiable via the WebPKI, and there would not necessarily be any common root of trust between the two.</li><li><br></li><li>There are two security associations:&nbsp;</li><li>- between pledge and MASA</li><li>- between Registrar and MASA</li><li>Observations:&nbsp;</li><li>- those two SAs are independent</li><li>- the first (BRSKI&#x2F;EST) is anchored on a trust anchor that may be private (ie not part of the public PKI)</li><li>- the second (MASA&lt;-&gt;Registrar) is normally anchored on the public WebPKI for the ServerCertificate.</li><li>- the URL in the certificate of the IDevID of the pledge may be used to point the registrar to the MASA. (or, redirect, or override, see line 1477-1478)</li><li>&nbsp; --&gt; In that URL, the vendor defines the <strong>type</strong> of security association to be used between registrar and MASA.&nbsp;</li><li>&nbsp; --&gt; The vendor choooses the type of SA. MUST define a minimum protocol set that MUST be supported on the registrar, including a minimum level of security.</li><li><br></li><li><br></li><li><br></li><li><br></li><li><br></li></ul><br>
<div style="display:none"><a href="/javascript" data-jslicense="1">JavaScript license information</a></div>
</body>
</html>
