From anima-bounces@ietf.org  Wed Feb 14 02:09:37 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.249,RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H2=-0.001,T_RP_MATCHES_RCVD=-0.01 autolearn=disabled
	version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 21D2E58C4FF;
	Wed, 14 Feb 2018 02:09:37 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [4.31.198.44])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 40E1774E205;
	Wed, 14 Feb 2018 02:09:31 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 2410912EABF;
	Tue, 13 Feb 2018 17:09:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1518570569; bh=rmWTp/wX4rQusjhzHjEAsW5KyY5LCmPtyR3G6RAlLH8=;
	h=Date:From:To:Subject:List-Id:List-Unsubscribe:List-Archive:
	 List-Post:List-Help:List-Subscribe:Cc;
	b=Vnctdbrk3N3DuT1R9oEBSrVudruuebP31zsPGgg7ms1HzRB9VVm7r/L4LaYSImbvM
	 cFIvFbbRPRt2T8Hgj2YQ/ci9B0/5SwNGYiIPrQOYFwlpFgSw9TyIWUHaoVYKOHEaMw
	 q5mFH4CDQ44qYJrX3Z0ywMZxs19V4UJcJCNLK8nE=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id AAD4112DA22;
 Tue, 13 Feb 2018 17:09:26 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id fnUk7EhJfGzh; Tue, 13 Feb 2018 17:09:18 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 4722012D944;
 Tue, 13 Feb 2018 17:09:18 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [131.188.34.77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id 75EF358C4FF;
 Wed, 14 Feb 2018 02:09:10 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id 609F1B0DA58; Wed, 14 Feb 2018 02:09:10 +0100 (CET)
Date: Wed, 14 Feb 2018 02:09:10 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: draft-ietf-anima-bootstrapping-keyinfra@ietf.org
Message-ID: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
MIME-Version: 1.0
Content-Disposition: inline
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/Cu4au3RwjJ5RpunVAkH8LcXnlYA>
Subject: [Anima] Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: anima@ietf.org
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: O
Content-Length: 88239
Lines: 1863

Shepherd review against -09.

Did just browse through -10, i think it is orthogonal to the comments below.

Document is IMHO overall in very good shape!

Sorry for length, but i was trying to minimize the number of RTT to resolve comments
by trying to explain my comments as good as possible.

In many cases this resulted
in proposing text to better explain something where i wasn't even sure if i undersstood
it correctly. In those cases the texte is always a suggestion, but the ask is
to provide appropriate explanation of the subject matter.

Let me know if/how i can help getting the comments applied.

Cheers
    Toerless

---------------------------------------------------------------------------------------
1.2) Terminology:

a) vendor vs. manufacturer.

The document uses 48 times "vendor" and 13 times "manufacturer". Please
revisit this: If there is a clear reason when/why to use vendor and when/why
to use the term "manufacturer", then please put these explanations into
terminology. Otherwise maybe eliminate "vendor".

For example: Abstract: "using vendor installed X.509 certificate" ...
"vendor's authorizing service". This latter one definitely seems to be
wrong (MASA = "manufacturer authorizied..., not vendor).

b)  Key infrastructure

There  is no definition/reference for this term.  Please describe on
first use and in terminology.  Is there a difference
between "key infrastructure" and  "keying material" ? If not, then
maybe remove one term otherwise pls. describe difference.

c) (terminology) MASA definition: "A third-party Manufacturer...". Why "third-party" ?
who are the first two parties ? If this is only slang and we can't explain who the
first two parties are, delete "third-party" ?

d) "Domain Registrar" vs. "Join Registrar", JRC. Especially because the text mostly
uses "Domain Registrar" and very seldom "Join Registar".

JRC is used in exactly three places in the draft. I also can not find on www.google.com
or wikipedia any example of "The term JRC is used in common with other bootstrap
mechanisms" as the Terminology claims. Either provide a non-anima reference for the
 use of that term or eliminate it in the document.

Suggest to use "(Domain Join) Registar (and Coordinator) in 1.2 and say for example
that the text uses "Join Registrar" when referring to the mechanics of building the
connection (Join Proxy and Join Registrar) and Domain Registrar when discussing
authentication and any other aspects of the registrar (where the domain is relevant).

e) Voucher
   - misses ":" after term.
   - please change "statement" to "artifact" so the terminology aligns with both voucher
     draft and voucher-request text which also uses artifact. See also section 2.2
      where you use "cryptographically protected" instead of "signed" and figure out
     which term you want to use in all cases (hint: signed).

f) IMPORTANT: Please add/define the term "ANI"

  ANI - "Autonomic Network Infrastructure". Systems that support both BRSKI and
  Autonomic Control plane - ACP ([I-D.ietf-anima-autonomic-control-plane]). ANI
  systems (pledges, proxies, registrar) have specific requirements detailled in
  the document.

  Without this term we can not nail down the explicit requirements against
  ANI Pledges, Proxies, Registrars that we need from the document (and distinguish
  from requirements against any non-ANI adaptation of BRSKI). I added according
  comments into other parts of the doc.

g) Please replace "MASA server" with "MASA service" everywhere.

-----------------------------------------------------------------------------

Overall:

a) Requirements about EST:

- The introduction says: "Integration with a complete EST enrollment is
  optional but trivial"
- 5.8.3 says "The Pledge MUST request a new client certificate".
- 1.4 says "bootstrapped devices have a common trust anchor and a certificate
   has optionally been issued from a local PKI

a) The text needs to be made consistent across all places where requirements
are defined. I have in general no strong opinion how "optional" the text should
say EST operations are, BUT consider he following points:

b) We need a complete list of BRSKI requirements for ANI devices, where EST
operation requirements are made stronger. I suggest a separate subsection at an
appropriate place so that "ANI requirements" shows up in the table of contents: 

   Section X.Y.Z Requirements for ANI devices:

   For BRSKI on ANI Devices (ANI = BRSKI + ACP), EST operations is mandator.
   The ANI pledge MUST perform
      - "CA Certificates Request",
      - "CSR Attributes"
      - "Client Certificate Request"
      - "Enrollment status Telemetry"
   The ANI registrar MUST support BRSKI and these EST operations.
   All ANI devices SHOULD support the BRSKI proxy function.

c) If EST operations are optional, how about the following considerations: 

   I) In instances of BRSKI where no EST operations happens after bootstrap, the
   Pledge only has trust anchors, but no certificate. This may still be useful,
   but today i think this is not really a considered option at all:

   After receipt of the voucher, the pledge is willing to do some action on behalf
   of the BRSKI connection it was previously unwilling to - e.g: receive & apply config.
   (i thought Max never liked this idea..., so if it is off the table, then
    _some_ subset of EST seems mandatory because EST operations is the only thing
    alowed after receiving a voucher that Ma would like.... unless Max has changed
    his opinion).

   II) This leaves the option that EST to install trust anchor is mandatory, but
   enrolment with a certificate is optional (except for ANI case).

Aka: would be good to write a sentence/paragraph exactly outlining what is
permitted to happen after a voucher and if any, what parts of EST are deemed to
be necessary by BRSKI (outside of ANI devices. the requirements for ANI devices
are listed above).

-----------------------------------------------------------------------------

1.) Introduction

a) The intro of 1. is somehat confusing to the uninitiated.

Suggest the followinf replacement text for two paragraps:

BRSKI provides a solution for secure zero-touch (automated) bootstrap of
virgin (untouched) devices that are called Pledges in this document. These Pledges
need to discover (or be discovered by) an element of the network domain to which the
Pledge belongs to perform the bootstrap.  This element (device) is called the
(Domain Join) Registrar.  Before any other operation, Pledge and Registrar need to
 establish mutual trust:

Then the four existing bullet points, but number them.

Then followed by th following paragraph to replace the existing paragraph after
the four bullet poins.

This document details protocols and messages to answer the above questions.
 It uses a TLS connection and an X.509 certificate
(LDevID) of the Pledge to answer points 1 and 2. It uses a new artefact
called a "voucher" that the registrar receives from a 
"Manufacturer Authorized Signing Authority" and passes to the Pledge to answer
points 3 and 2.

b) It would be nice to have a paragraph mentioning the proxy as a mean to
provide easier connectivity for Pledges (no need for full network connectivity).

-----------------------------------------------------------------------------

1.1) 

a) "other Bootstrapping Approaches": "other" -> "prior" or "existing" ?

b) "_or_ that domain-specific keying material". Is this not an _and_ ? 

c) "in a costly and non-scaleable manner". "non-scaleable" may be hard to
argue. Whole economies where built on manual labor. Might rather use
qualifiers such as "little or not at all automated", "error-prone" and/or
referring to physical security (.e.g: trusted pre-staging location).

d) "existing mechanisms" -> "existing automated mechanisms".

e) Paragraph 2 and following about EST: The first two sentences sound
contradictory/conflicting. "...minimize user action..." , "details a set of 
non-autonomic bootstrapping methods". Suggest text like:

"EST does reduce user actions during bootstrap but does not provide
solutions for how the following protocol steps can be made autonomic
(not involving user actions).

(Note: first use of "autonomic" here, so an explanation like "not
involving user action" is required (any other definition here what autonomic
or non-autonomic means in the context of this document is fine too,
"not involving user action" is just a suggestion).

-----------------------------------------------------------------------------
1.3) 

a) The order of paragraphs is confusing. Even if the mayority of readers
(which i don't think) would primarily be interested in class 1 devices,
it is irritating in style and context to start with the first two
paragraphs.

I would suggest to start with existing paragraph 3, change maybe the
sentence to "This solution (BRSKI) can support large router platforms..."

Then insert the first two paragraphs after current paragraph 5. All the
text after paragraph 5 already discusses constrained situations so
it would nicely follow on to the first two paragraphs.

b) paragraph 5 is confusing: What is a handoff, why would somebody
even think to apply BRSKI in a handoff, and why is there a normative,
capital letter SHOULD. Here is how i would write it more explanatory
(if i understand the implied use case correctly):

BRSKI could be used by nomadic or mobile devices to aquire certificates
used as credentials to access the network at the new location. This
is usually called handoff. Nevertheless, BRSKI is not intended for low-latency
handoff which is usually a requirement in mobility solutions (e.g.: seamless
handover). For these solutions BRSKI could be used to aquire keying
material and re-use that during handover without re-initiating BRSKI
during handover later on.

(which is also implying that re-using BRSKI in nomadic environments
 is not off the table, but not saying so explicitly because we really
 have not thought that trough a lot).

c) It would loosen up a very long section to create three subsection headings

- supported environments
- constrained envionments
- network access control

-----------------------------------------------------------------------------

Section 2 1)

a) ..Each component is logical and may be combined with other components as necessary..

    Ok. I always want the pledge to live in the same device as the MASA.

    Would suggest deleting that sentence. More harm than benefit.

b) I suggest to move section 2.4 up to become section 2.1) directly after the
picture in section 2., because otherwise there is no explanaction following
the picture.

c) "The a domain" (delete a)

-----------------------------------------------------------------------------

Section 2.1

a) The term "Request Join" is only used here, and its IMHO not very logical
(disclaimer: toerless: en.wikipedia.org/wiki/ESL). It sounds to me like the
pledge says "i want to join". And also sounds as if the pledge could be
disappointed if rejected. I would rather call it "Domain membership inquiry".
Or if you're hooked up on the term "joining", then maybe "Join Inquiry".

Whatever best makes it clear that rejection is a perfect and important
outcome option.

b) Please see my issue section 5.1 a). If you agree with that statement, then there
should be no "rejected" arrow in Figure 2 coming out of the "Identify" block.

I would also suggest that the "Bad Vendor response" arrow does not come out
of the "Imprint" block but out of the "Request Join" block. AFAIK, this is
an error reply to the Request Voucher, so it happens before imprinting
(imprinting happens only when there is a vocker reply. AFAIK).

I don't think "Bad Vendor reply" in Figure 2 is a good term. Most logical to me would
be "Error or not member". In any case, the text in section 2 below should
mention the exact words used on the labels, the text is missing ll the
labels on the left: "Factory reset", "Enroll Failure", "Bad Vendor response",...


c)

 Point 1 nicely explains how this is done during TLS.

Likewise, Point 2 should mention that this is the "Voucher Request", and
Point 3 should mention that it is the "Voucher Reply" - so readers can match
up section 2.1 with the rest of the document.

remove the "e.g." from "protocol, e.g. Enrollment over". Otherwise some text
outlining when something else than EST is to be used. (see next comment).

d) 

I am missing in the initial chapters a succinct summary how EST enrollment is optional and
 what can be achieved with/without it, there is only some side sentences later in the
EST sections. I would suggest to insert such an explanation here.

After point 4 insert (unnumbered) paragraph:

| After step 4, the pledge has received  and authenticated an explicit TA (trust anchor)
| (pinned-domain-cert in the Voucher response). In some use cases this may be sufficient
| and the bootstrap can be terminated here. The pledge can now use this TA to securely
| trust domain members, but it can not securely identify itself to them as a domain member.
| Therefore BRSKI usually proceeds with the following steps that support this via EST
| enrollment (see also 5.5.1 for the limitations of the trust feasible through the imprint).

Also maybe insert some dotted line between imprint and enroll in Figure 2 to
highlight this distinction. Maybe with "mandatory" / "optional" (EST enroll part)
on the right hand side

-----------------------------------------------------------------------------
Section 2.2

a)

 The core sentence is hard to understand because it does not spell out the
implication of the alternatives:

 At the
 lowest security levels the MASA server can indiscriminately issue
 vouchers.  At the highest security levels issuance of vouchers can be
 integrated with complex sales channel integrations that are beyond
 the scope of this document.

Would suggest amending like this:

 At the lowest security levels the MASA server can indiscriminately issue
 vouchers AND LOG CLAIMS OF OWNERSHIP BY DOMAINS.  At the highest security
 levels issuance of vouchers can be integrated with complex sales channel
 integrations that are beyond the scope of this document BUT THAT WOULD
 INTENT TO VERIFY ACTUAL (LEGAL) OWNERSHIP OF THE PLEDGE BY THE DOMAIN.

b) 

"Vouchers provide a signed but non-encrypted communication channel
   between the Pledge, the MASA, and the Registrar."

Why is this  mentioned ? If there is a conclusion of this statement that
is relevant to BRSKI it should be spelled out, otherwise its a detail 
belonging into voucher. I do not see how the following sentence is that
relevant conclusion. But maybe i am too confused by the sentence structure.

Do you mean something like this:

| Vouchers are signed but not encrypted. This allows registars to maintain
| better control over pledges attached to the domains network by examining
| and filtering Vouchers received from a MASA before sending them to the pledge.

If thats the idea, i suggest to use language like i suggested because it's
more explicit and simpler (not having to think what the relevance of 
"communication channel" is etc..).

Also may warrant a note that this control does not necessarily apply to the
case of a Cloud Registrar (see section 2.6).

-----------------------------------------------------------------------------
Section 2.3)

a)

The first paragraph is too terse and not very explanatory arguing why BRSKI
mandates and how it uses the IDevID. I would suggest a bulleted list
with explained reasons: 

- Uniquely identifying the pledge by parameters in the IDevID. The unique
  identification of a pledge in the voucher objects are derived from
  those parameters as described below.
  
- Securely authentating the pledges identity via TLS connection to registrar. 
  This provides protection against cloned/fake pledged.

- Secure auto-discovery of the pledges MASA by the registrar via the MASA URI
  in IDevID as explained below.

- (Optional) Signing of voucher-request by the pledges IDevID to enable MASA
   to generate voucher only to a registrar that has a connection to the pledge.

- (Optional) authorizing pledge (by registrar) to receive certificate from local CA. 

I am unclear about the "authenticating the Pledge during subsequent protocol exchanges ...".
Does this refer to the TLS exchange or others ? If others, then please list
accordingly maybe as a separate bullet point which those are.

Please keep the "There is no requirement for a common root PKI hierarchy.
Each device vendor can generate their own root certificate."

-----------------------------------------------------------------------------
Section 2.3 2)

a) Please put the description of identification of the pledge into a subsection
2.3.1 "Identification of the Pledge"

b) I am confused about the first MUST (serialNumber) and following SHOULD (HardwareModuleName).

The conversion rules make it clear that you want the device to be uniquely identified
via the serialNumber, but if that is not in the certificate, then you would use the
HardwareModuleName. Therefore the conversion rules contradict the MUST for serialNumber.
Or else you wouldn't define a fallback if it does not exist.

c) The MUST/SHOULD bullet points are IMHO a duplication of the conversion rules,
so maybe just drop them.

d) I would start the section with a sentence clearly describing what is done here:

In the context of BRSKI, pledges are uniquely identified by a "serial-number". This
serial-number is used both in the "serial-number" field of Voucher or Voucher requests
(see section 3.) and in local policies on Registrar or MASA (see section 5.).  

The serial-number is derived from the IDevID as follows:

... then add the three bullet-points.

e) I do not see "serialNumber" attribute mentioned in rfc4514 nor rfc4108. You mention
   "previously defined". Could you provide a reference where "serialNumber" was defined ?

f) Please provide example of each of the three fields and how they convert into
   serial-number. This is especially important because for the average reader who has
   never seen a certificate (and with no actual reference to e.g.: serialNumber format
   thats easily readable), it may be hard to understand if or how something called 
   "serialNumber" can unique identify  a device - aka: that it includes also the
   device-type (unless a company only produces one type of device and somehow even
   the name of the company can be implied).

   e.g.: if i take the Cisco device IDevID format i used on the anima mailing list before:

   serialNumber=PID:C819HWD-A-K9 SN:FXXXXFZ

   That "PID/SN" format makes it clear how a device can be uniquely be identified, so
   it would be a great example if it was not just a Cisco speciality (hence the ask for
   any reference for the definition). Could be anonymized accordingly:

   serialNumber=PID:MEGAROUTER1 SN:12345

   I also think the examples would be good to explain what otherwise would likely be
   hard to figure out from references (assuming there would be references):

   - To uniquely identify a device, the certificate field choosen needs to contain some
     form of at least a product identifier and an actual serial number of that product
     identifier.
   -  Note that the certificate field itself does not need to identify the manufacturer/brand
      of the product as long as the field is unique within the scope of the IDevIDs root of
      trust. For example both the EXAMPLE and the ACME manufacturer/brands could have a
      MEGAROUTER1 product as long as they use different root of trusts for their IDevIDs.
   - Product that have a unique root of trust may have a certificate field that
     is only containing an actual serial number but no product identifier.

   I have no examples of HardwareModuleName. If there is a specific set of devices or
   industries that prefers/mandated HardwareModuleName instead of serialNumber, then
   an explanatory sentence would be good.

   I only have a non-working example of the "common name" , e.g.: in the  
   cisco example it was:

       cn=C819HWD-A-K9

   which would be insufficient. So any explanation of known cases where the common name
   would actually be used (absence of serialNumber/HardwareModuleName) AND sufficient
   would be great to describe (not necessarily referring to specific vendor/manufacturers
   but rather product types if possible).

g) Please change the examples "JADA123456789" in the remainder of the document to
   the example choosen here.

h) Probably need to end the section with "Device types whose above mentioned IDevID attributes
   do not allow for unique identification of devices are outside the scope of this
   specification. ". Unless you are sure this case can not exist.

-----------------------------------------------------------------------------
Section 2.3 2)

a) Please put the description of MASA URI into a subsection 2.3.2 "MASA URI"

b) If the following statements are correct, i would suggest to integrate them into the
section text to make it clearer and more explicit. If not then i did not understand
how it is meant to work and the explanations could be approved accordingly to make it
clearer:

- The type and format of the MASA URI indicates the protocol supported by the MASA.
- If a MASA supports multiple protocols, multiple instances of the new MASA URI
  can be put into the certificate.
- This document defines the BRSKI-MASA protocol. It is indicated through a URI of
  the form 

   MASA URI is "https:// authority "./well-known/est".

  see section 5 for more explanations. (this would replace the current sentence
  mentioning section 5).

c) We discussed the risk of introducing new certificate fields and potential
compatibility issues with existing code parsing such a certificate. Which is why we
went for the obfuscated email encoding of the ACP information in the LDevID. It would
therefore be good to have an explaining sentence why the new MASA URI extension
is a better solution than encoding into existing attributes and safe to deploy into
devices.

I am not sure about the full extent of the answer, but probably IDevIDs are meant to
and actually used in a far smaller and newer set of software than that processing
arbitrary LDevIDs. Therefore the risk is smaller and the clean encoding outweights
the risk of compatibility issues with badly written old software.

-----------------------------------------------------------------------------
Section 2.4.1) 1)

  "it does has network" -> "it does have network"

But better: "it does only require subnet (link) local connectivity to the
circuit proxy but no routeable IPv6/IPv6 address (exception: see section 2.6)".

-----------------------------------------------------------------------------
Section 2.4.2) 1)

  "The proxy mechanism" -> "The circuit proxy mechanism"

  " optional stateless mechanism" -> "optional stateless proxy mechanism"

  add: The registrar (likely?) also needs manual configuration of per-MASA credentials to 
  contact them (see section 5.3).

  Q: Any case where unauthenticated BRSKI-MASA connections make sense ?


-----------------------------------------------------------------------------

Section 2.4.3) 1)

  Suggest to clarify roles:
  separate functions: the MANDATORY ...MASA including audit log, and an ADDITIONAL
  OPTIONAL Ownership Tracker providing sales channel integration. 

  Aka: reuse same terminology so readers are not confused. Maybe go through text
  to check only "ownership tracker" and "sales channel integration" are used for that part.

-----------------------------------------------------------------------------
Section 2.4.3) 1)

a)  Expand CMC.
  "authenticate any pledge" -> "authenticate (the IDevID of) any pledge"

b) The document is still very vague on terminology to distinguish between the
initial bootstrap and the (optional) EST server role. Please come up with
a clear terminology and clearly summarize the functionality required to be
supported by the roles.

Here is my suggested text. If any explanation to cover this information is
felt to be too long for 2.4.3, please find another place but make 2.4.3 refer to
that place. 

| A "Domain Join Registar and CMC" (abbreviated Domain Registrar in most of the document)
| serves two roles: BRSKI Bootstrap Service and BRSKI enhanced EST Enrollment Service.
| 
| The "BRSKI Bootstrap Service" role is newly defined in this document. It performs
| the bootstrapping of Pledges with a "pinned-domain-cert" called trust anchor.
| The BRSKI Bootstrap Service communicates with the Pledge and the MASA. It does
| not need to communicate with the Key Infrastructure (as long as it can support
| cacerts from locally stored information). As a HTTPS/REST server it supports the
| following REST services under /.well-known/est/ newly defined in this document:
|         /voucher-request, /cacerts, /status-telemetry
| As a HTTPS/REST client, it support the following REST service under /.well-known/est
| to request vouchers from MASAs:
|         requestvoucher, requestauditlog
| 
| The "BRSKI enhanced EST Enrollment Service" is an enhanced version of the RFC7030 
| defined EST-Server to support automated enrollment of Pledges with certificates. This
| role does not need to support certificate renewal or other services not related to initial
| enrollment. This role communicates with Pledges and Key Infrastructure. It does not
| communicate with MASA.  As a HTTPS/REST server it supports (at least) the following
| RFC7030 defined servervices under /.well-known/est/:
|          /cacerts, /fullcmc, /csrattrs, /simpleenroll, /serverkeygen
| This document does add new requirements against the details required to be supported
| in the /csrattr service.
| In addition, it supports the new service under /.well-known/est defined in this document
| (which makes it a "BRSKI enhanced" EST Enrollment Service):
|          /enrollstatus

[Here is where i wonder:]

| While not recommended, BRSKI Bootstrap Server and BRSKI enhanced EST-Server can
|be provided by separate servers. In this case, the BRSKI Bootstrap Server must
| support redirection of the Pledge after a successfull requestauditlog to the
| URI of a BRSKI enhanced EST-Server.

[I am not sure if this is true, or how else it would work, but if that separation
 is meant to be supported that level of detail needs to be written, otherwise
 the opposite:]

| This document does not cover cases where BRSKI Bootstrap Server and BRSKI enhanced EST
| Enrollment Server are separated onto two servers. It also does not define what
| (additional) functionality might be required on Pledges to support this.

IMHO with the current design decisions, one would even need to write something like this: 

| The design choosen in BRSKI does not always allow to use common modular design
| choices of HTTP(S)/REST servers to separate the Bootstrap Service from the enhanced
| EST enrollment service without operating them on separate transport locators:
| When using a single transport locator, REST request can only be demultiplexed
| by the request path and both Boothstrap Service and EST enrollment service do not
| only share the /.well-known/est/ prefix but even the same /cacerts command.

c) The document must include a statment such as:

| An ANI "Domain Join Registar and CMC" MUST support both BRSKI Bootstrap Service
| and BRSKI enhanced EST Enrollment Service roles.

[or whatever terms you choose to use]


-----------------------------------------------------------------------------

Section 2.4.4)

a) It would be IMHO good to move the (mayority of the) initial paragraph of 5.4 into
this section to explain what the scope of the MASA functionality is by listing the
interface services requestvoucher and requestauditlog here - similar to how i
proposed to summarize the interfaces of the Domain Registrar above for section 2.4.3.

5.4 is not a good place to do that because it's only about requestvoucher, and
then after another non-maza intermezzo 5.6 requestauditlog is again about the
MASA. So no single place summarizing the MASA functionality at this level. 

More details see comments about 5.4 below.

-----------------------------------------------------------------------------

Section 2.4.x)

a) Please add subsection "Architectural Component: Key Infrastructure (PKI)"

Suggested text (as in: this is the type of information i would like to see
explained here, whatever language you use):

| The Key Infrastructure (PKI) administers certificates for the domain of concerns,
| providing the trust anchor(s) for it and allowing enrollment of Pledges
| with domain certificates.
|
| The Domain Registrar ('s BRSKI Bootstrap service role) uses a Trust Anchor (TE)
| from the PKI in the BRSKI Voucher  pinned-domain-cert to authenticate itself to the
| Pledge with the help of MASA.
|
| The Domain Registrar ('s BRSKI enhanced EST enrollment service) acts as an
| EST Server and request certificates for Pledges from the Key Infrastructure.
| 
| The requirements and expectations against the Key Infrastructure are unchanged
| from RFC7030: There are no BRSKI specific features defined or required for
| the Key Infrastructure - only for the Domain Registrar.

Would especially like to see something like the last paragraph because its IMHO
the key part of being able to deploy BRSKI and right now it's hidden in explanations
in specific explanation in section 5.

b) Figure 1 labels the path to the PKI with "EST" and i remember Max to repeatedly
state that CAs could support EST. Nevertheless, i read in RFC7030: 

"The nature of communication between an EST server and a CA is not described in this document".  

But then it defines the term "EST CA". So i am confused if there is an actual
spec stating the EST profile? of an EST CA.

Aka: Can we write here:

| It is recommended but not required that the Domain Registrar ('s BRSKI enhanced EST
| Enrollment service) also uses RFC7030 to talk to the PKI, e.g.: a CA or subordinate
| CA supporting EST. Nevertheless, the Domain Registrar may choose any standardized
| or non-standardized protocol to talk to the PKI.

If we can not make the first part of that statement here, then also remove "EST" label
from picture 2 and replace with something like "Any CMC? protocol" ?

-----------------------------------------------------------------------------

Section 2.5) 1)

a)  If the following sentence is functionally correct, please add text accordingly:

  Bootstrapping Pledges that have a Realtime Clock (RTC), SHOULD use it to verify
  certificate validity.

b) And from my own experience, it should add:

  but they MUST be prepared to recognize local time failure and revert to the above
  described mechanisms. For example when RTC battery failure leads to a well-known
  default-time (e.g.: Jan 1 1970).

-----------------------------------------------------------------------------

Section 2.5) 2)

a) Please move the bullet about the registrar behavior out of the bullet list, maybe at
   the end of the section.  Even better:
   - rename 2.5 to "Certificate Validity"
   - 2.5.1 "Lack of Realtime Clock in Pledges
   - 2.5.2 "Infinite Lifetime of IDevID"
     (move text into 2.5.1)

b) Its hard to comprehend what the pargraph means to say. I think its something like:

   According to RFC5280, IDevIDs are examples of certificates that should have
   no well-defined expiration date. This is indicated through the 
   GeneralizedTime value of 99991231235959Z". Registrars SHOULD have a configuration
   option to ignore IDevID lifetime values if they do not conform to this recommendation.

   As expected, i always like an explicit example to bring it to the point:

   For example, IDevID may have incorrect lifetime of N <= 3 years, rendering replacement
   Pledges from storage useless after N years unless registrars support this option.

-----------------------------------------------------------------------------
Section 2.6)

IMHO, without further text, it is unclear a) what a cloud registrar is,
b) why we care and c) how a solution using a cloud registrar would have to be built
to work.

To resolve a), b) better i suggest to replace first paragraph with something like this:

Local Registrars are those for which proxies can be discovered by means under control
 of the network to which the pledge connects, such as GRASP or mDNS (see <appropriate sections>).
When a pledge connects to a network connection not under the control of the
domain claiming to own the pledge or if the Pledge's target use
cases want to simply deployments by avoiding the use of proxies, local Registrars and/or
network methods to discover proxies, then the pledge can only connect to a so called
Cloud Registrar via a URL well-known to the non-bootstrapped pledge.

c) If i understand it correctly, then the explanation for c) would be something like this:

When a cloud registrar is used, it must be assumed that it is not operated by the
owner of the pledge. Instead, it would be operated by or on behalf of the manufacturer
similar to the MASA. Such a Cloud Registrar can provide a Voucher to the Pledge,
but that Vouchers pinned-domain-cert could not help the Pledge to authenticate the
BRSKI EST connection because the Cloud Registrar does not belong to a domain of the
owner which the pinned-domain-cert is used for. Therefore trust for the Cloud Registrar
must be provided by the Plede itself:

[add existing second paragraph of 2.6 here]

[I am not sure exactly how you thought about answering c). Here is what i guess could work:,
so this would have to go at the end of 2.6 ]

A Cloud Registrar may operate in different ways:

III) It can answer the Pledges Voucher request with a redirect response to cloud based BRSKI
 Registrar oeperarted by or on behalf of the Pledges domain owner. We call this service
of a Cloud Registrar the "redirect-only" model. When the Pledge connects to that BRSKI
server after the redirect, it would again have to perform delayed authentication
of the Registrar after it receives a Voucher from it.


II) Alternatively, the Cloud registrar could provide the pledge with a Voucher and 
respond with a redirect response to a successful Voucher Status Telementry,
redirecting the Pledge to a potentially cloud based EST server operated by the owner
of the pledge to complete the Pledge enrollment with a domain certificate. When the
pledge connects to that EST server, it can authenticate it using the pinned-domain-cert
from the Voucher. The pledge would not need to repeat the Voucher request/Status
telemetry transactions.

II) Finally, the Cloud Registrar could provide Voucher AND EST enrolment to the Pledge
directly without any redirect. The mutual trust models for this (between the domain owner
and Cloud Registrar operator) are outside the scope of this specification.

Finally, most crazy (but i know how customers had to do this with pre-BRSKI methods,
so it might make sense):

Pledges MAY support a model in which domain operators could redirect URI connections
from a cloud registrar to a domain operated Registrar because this can be a lightweight
Registrar discovery mechanism - assuming the pledge connects to a network under control
of the domain operator. This can be done by overriding the DNS resolution for the
URI or transport layer redirection. In this case the above decribed implicit TA check by
the client for the TLS connection to the Cloud Registrar fails, but the Pledge falls
back to the delayed authentication after receipt of a voucher as it does for non-Cloud
Registrars.

If you feel this is overall too much, then maybe delete the whole section 2.6
and put it into a followup document. Borderline to me. If its "just" what i sugested
above, its fine, if there is more to it to make it work, maybe better in separate document.

-----------------------------------------------------------------------------
Section 2.7 1)

a)

> Note that the Registrar can only select the configured MASA URL based on the
> trust anchor -- so vendors can only leverage this approach if they
> ensure a single MASA URL works for all Pledge's associated with each
> trust anchor.

I do not think this is true. A registrar could have configuration policy
mapping from IDevID serial-number patterns to MASA URI.

Rewrite accordingly ? Let me know if you hate this approach, i had had to brainstorm it
for my planned yang model for ANI.

b) I also think it might be necessary for Registrars to allow policies that
override MASA URIs learned from the IDevID because the longevity of URIs can
not always be guaranteed and the MASA may move (merger & aquisitions etc.. ).

c) I am unclear from the document whether registrars may require configuration
to know what specific options for voucher-requests a MASA supports.

 - If i understand it correctly, a registrar may use a voucher-request to request a
   voucher in the absence of the pledge (stage the voucher). This certainly is something
   not every MASA must support, so that would need to be configured.
 - It is not clear to me if the REgistrar can correctly fill out all Registrar
   voucher-requests in the presence of the pledge (aka: after receiving the Pledge
   voucher-request). See also discussion for Section 3. If this is not fully automatic,
   but may rquire Registrar configuration, this counfig should be mentionedhere.

-----------------------------------------------------------------------------
Setion 3. 1)

So... I guess Registrars can request Vouchers for pledges before being in contact
with that pledge, right ?

If correct, the following would be less confusing to read for me:

| Voucher-requests are how vouchers are requested.
| 
| A Pledge send "Pledge voucher-requests" and submit them to the Registrar.
| The Registrar in turn submits a voucher-request to the MASA server. The
| "proximity-registrar-cert" leaf may be used in these Pledge voucher-requests.
| The "prior-signed-voucher-request" leaf may be used in Registrar voucher-requests
| that include a Pledge voucher-request. See [XXX] for a description of the
| semantics of these leafs.
| 
| An addition, Registrars may retrieve (nonceless) vouchers by sending 
| Pledge voucher-requests to the MASA. The "prior-signed-voucher-request" leaf
| is never used in these voucher-requests. 


In any case, you need at least a forward reference for those leaf types if
you want to mention them without other explanations.

-----------------------------------------------------------------------------
Setion 3. 1)


a) Even with above concern Section 3. 1) fixed the section still does not provide a
good taxonomy of the different type of voucher-requests and how to fully identify
them because of the "may be used"...

b) There is no text here explaning how a registrar transforms a Pledge
Voucher request to a Registrar voucher request. If explained later, insert 
a forward reference. Else. pls add text to explain.

b) I have my doubts that the flow of the document is ideal with all the
yang formalisms thrown into section 3. If this is what other documents do as
well, fine. I for once would like it better if it was put into a separate section
towards the end of the document.

"nah, not going to happen" is an acceptable answer ;-)

-----------------------------------------------------------------------------
Setion 3.2 1)

 "provides voucher examples" -> "provides voucher-request examples"

-----------------------------------------------------------------------------
Section 4. 1)

a.1) Suggest to change title to "Proxying Details (Plege - Proxy - Registrar)"
because the section does not only discuss the proxy but also the aspects/reqirements
of proxying relevant to Client and Registrar. 

a.2) paragraph 1: "configured on the Proxy" append:
 "or automatically discoverded (e.g.: via GRASP, see below).

b) Add: This section defines a statefu proxy which is therefore called a "circuit" proxy.

c) Simplify whole paragraph with  "(In a completely autonomic network...)" - this
discussion is not specific to AN. E.g.:

Registrars are assumed to have logically a locally integrated Proxy to support directly
(subnet) connected Pledges - because Registrars themself does not define any functions
for Pledges to discover them. Such a logical local proxy does not need to provide actual
TCP proxying (just discovery) as long as the Registrar can operate with subnet (link)
local addresses on the interfaces where Pledges may connect to.

d) "to discovery the" -> "to discover the"

e) Paragraph starting with: "If the Proxy joins an Autonomic Control Plane"
   Suggest following replacement:

   In the ANI, the Autonomic Control Plane (ACP) secured instance of GRASP (<ref>)
   MUST be used for discovery of ANI Registrar ACP addresses  and ports by ANI Proxies.
   The TCP leg of the proxy connection between ANI Proxy and ANI Registrar therefore
   also runs across the ACP.

   (separate because it would apply for any GRASP learning, not only ACP):

   If GRASP is used by proxies for discovery of Registrars (ACP or not),
   the proxy can also learn the proxy mechanism (Circuit Proxy vs. IPIP encapsulation
   or other)

   (there is no negotiation in GRASP, therefore "agreed" as in current text is not
    a good choice of word).

f) "SHOULD be the same as on the registrar in order for the proxy to remain stateless".
Does such a proxy makes sense when it is not stateless ? Aka: should this not be a MUST
instead of a SHOULD ? 

-----------------------------------------------------------------------------
Section 4. 2)

"In order to permit the proxy functionality to be implemented on the
 maximum variety of devices...
 with available capabilities for the proxy function similar to many class 2 IoT devices"

This IMHO is an incorrect assumption. I am not aware of any network device in
ANIMAs "well managed network" charter" that would today fall into class 2. I was
and am often extremely annoyed how underpowered control plane of multi-terrabit
switches are but those too don't get down to that level. Even OpenWRT small home
rotuers (outside scope of ANIMA) don't go below 4 MByte these days.

Here are statements i could support/recommend:

- Registrars must support the proxy method supportable by the type of proxies it
  needs to support. If pledges could be IoT class 2, then IPIP would be a better
  solution for them than a CP circuit proxy. Note that in ANI adopted to class 2 IoT
  or similar "mesh network" solutions, Plege become proxies proxy and therefore IoT
  class 2 pledges imply also the need to support IoT class 2 proxies.


-----------------------------------------------------------------------------
Section 4.1 1)

a) "[RFC4941] temporary addresses is encouraged...."
   Please remove or add text explaining why. Given how a pledge is happy to spill it's
   IDevID to everyone claiming to be a proxy i am not sure what benefit privacy
   addresses have, and they are additional implementation work for pledges, whereas
   link-local (permanent) addresses are always required. And changing addresses
   makes diagnostics harder.

   I also am not even sure if RFC4941 is even creating additional link-local (temporary)
   addresses. I don't even think so. And all the concerns RFC4941 discusses about
   correlating traffic is hardly applicable to what the link-local address is used for.
   link local GASP discovery, BRSKI-TCP, maybe later some ACP tunnell..


b) IMHO the text should express the following reuirements:

   - ANI Plegdes and ANI Proxies MUST , other Pledges/Proxies SHOULD obtain
    link-local scope IPv6 addresses according to [RFC4862] ...

   (RFC4862 also specifies global addresses, so text needs to be specifica about just
    the link-local scope IPv6 addresses).

   - Pledges MAY use RFC4941... if you can figure out some text explaining why.

   - ANI Pleges/Proxies MUST, other Pledges/Proxies SHOULD use DULL GRASP announcements 
     of the objective ...

-----------------------------------------------------------------------------
Section 4.1 2)

> Methods SHOULD be run in parallel to avoid head of queue problems
> wherein an attacker running a fake proxy or registrar can operate
> protocol actions intentionally slowly.

methods == circuit proy, IPIP, ... ?
would also be recommended to try different proxies in parallel, right ?

> Once a connection to a Registrar is established (e.g. establishment
> of a TLS session key) there are expectations of more timely
> responses, see Section 5.2.

not clear what the pointer to 5.2 is good for. Does not explain
how establishment of TLS session key helps. IMHO, you need to finish
authentication of TLS connection before you can trust registrar and
expect timely responses.

But thats not where the problem of trusting the connection ends...

Suggested text fixes:

| Pleges SHOULD attempt bootstrapping via multiple discovered proxies and/or
| methods supported by them (TLS circuit proxy, IPinIP,..) in parallel ...
| [continue with existing paragraph text]
|
| Only once the Pledge has completed authention of the provisional bootstrap TLS
| connection (received & authenticated a voucher), can it expect to talk to a
| legitimate Registrar, and from then on there SHOULD be an expectation of
| more timely responses by the Proxy. 
|
| To achieve this, Registrars need to ensure that only legitimate Proxies can
| build connections to them. ANI Registrars for example only permit ANI Proxies to
| connect to them because they must use the ACP. In addition deployments of
| legitimate Proxies SHOULD | take measures that prohibit fake proxies to become
| Men-In-The-Middle attackers between them and Pledges - such as filtering of 
| (GRASP) discovery | messages from user (fake attacker) ports on access layer 2 switches.

-----------------------------------------------------------------------------
Section 4.1 1)

a) The requirement to do proxy discovery via GRASP was already written in 4.1. Please
remove. Please use term DULL GRASP instead of just GRASP.

>   proxy-objective = ["AN_Proxy", [ O_IPv6_LOCATOR, ipv6-address,
>   transport-proto, port-number ] ]
>
>   ipv6-address       - the v6 LL of the proxy
>   transport-proto    - 6, for TCP 17 for UDP
>   port-number        - the TCP or UDP port number to find the proxy

That text does not use correct GRASP syntax. It is IMHO highly useful to also have
an example - to understand where address, port number etc. are.

I would also suggest to revisit the name of the objective. The objective
name suggested in the following proposed text would be aligned with the mDNS names
i would suggest:
  - It is IMHO counterproductive to have "AN" in the name. BRSKI should be able to
    be adopted without other ANI/AN components, and whoever adopts it should have
    to change as little as possible.
  - bootstrapks for mDNS is IMHO not ideal. The mechanism is known by the name brski.
    Thats like using "enrollmentst" instead of "est"  (luckily "est" was registerd with
    IANA!).
  - Want to be able to announce/discover both registrar and proxy, therefore
    IANA service-names should be (IMHO) brski-proxy, brski-registrar.

Here is suggested text:

  Example:
       [M_FLOOD, 12340815, h'fe80000000000000c0011001FEEF0000, 180000,
           [ ["SRV.brski-proxy", 4, 1, "https" ],
             [O_IPv6_LOCATOR,
                h'fe80000000000000c0011001FEEF0000, TCP, 15000]
           ] ,
           [ ["SRV.brski-proxy", 4, 1, "coap" ],
             [O_IPv6_LOCATOR,
                h'fe80000000000000c0011001FEEF0000, UDP, 13000]
           ] ,
           ... optionally more objectives, such as ACP as described above
       ]

  The formal CDDL definition is:

           flood-message = [M_FLOOD, session-id, initiator, ttl,
                            +[objective, (locator-option / [])]]

           objective = ["SRV.brski-proxy", objective-flags, loop-count,
                                                  objective-value]

           objective-flags = sync-only ; as in the GRASP specification
           sync-only =  4    ; M_FLOOD only requires synchronization
           loop-count = 1    ; limit to link-local operation
           objective-value = method
           method = "https"  ; or future methods
                             ; CoAP not considered yet, see below

   The objective-flags field is set to indicate synchronization.

   The loop-count is fixed at 1 since this is a link-local operation.

   It is recommended to send these M_FLOOD messages every 60 seconds, the TTL
   in the above example is 180 seconds (18000 msec).

   The session-id is a random number used for loop prevention,
   distinguishing a message from a prior instance of the same message.
   In DULL this field is irrelevant but must still be set according to
   the GRASP specification.

   The initiator address MUST be the IPv6 link local address of the 
   originating Proxy node on the sending interface.

   The method parameter is a string indicating the Proxy
   method at the specified locator. It only needs to distinguish
   methods distinguishable by the Pledge: TCP circuit proxy and IPIP
   (stateless) proxy are indistinguishable to the proxy, so the above
   example "https" method announcement could come from either a TCP
   circuit proxy or IPIP proxy. CoAP on the other hand would require
   a different transport protocol stack also on the Pledge and therefore
   require a different method.

-----------------------------------------------------------------------------
Section 4.2) 1)

a) Append: Therefore the "coap" method in the previous section was only
used for the example but is not included in the CDDL definition of the
GRASP objective above.

-----------------------------------------------------------------------------
Section 4.3) 1)

a) I would suggest removing this section and putting the requirement into 4.1
together with the rest of the requirments.

Wherever the requirements are written into, it must include this sentence for ANI.

ANI Proxies MUST support a TLS circuit proxy to support the "https" method,
they MAY also support the IPIP proxy method to support the https method.

For non-ANI i suggest the following (or we don't even mention them and leave
it up to followup work to define non-ANI profiles):

Non ANI Proxies are free to choose their proxy option as long as that guarantees
interopeability with Pledges and Registrars in their target deployments.

-----------------------------------------------------------------------------

Section 4.3) 1)

a) Suggest to move the first paragraph with requirements to section 4.1

b) Requirements must include:

ANI Registrars MUST announce their Registrar service via the ACP instance of
GRASP. They MUST support ANI TLS circuit Proxy and therefore BRSKI across
HTTPS/TLS native across the ACP. ANI Registrars MAY support the IPIP proxy
method by implementing IPIP tunneling for their HTTPS/TLS traffic across the ACP.
ANI Proxies MUST support GRASP discovery of Registrars .

c) The following is fixed up text for the remainder of 4.3 to solve the following issues:
 - change of GRASP objective-name (SRV.brski-registrar) and methods
   ("https", "https-ipip" as well as coap for examples sake).
 - changed address of registrar to be an actual ACP address
 - GRASP example was cut off/incomplete
 - also modified example to show both methods (circuit, ipip)
 - Fixed text to not refer to EST server but Registrars.
 - Fixed text to give timing recommendations only for ANI.

 - See discussion after following proposed text for the open issues.


   The registrar announces itself using GRASP M_FLOOD messages.  The
   M_FLOOD is formatted as follows:

   Example:

       [M_FLOOD, 12340815, h'fd89b714f3db00000200000064000001, 180000,
           [ ["SRV.brski-registrar", 4, 255, "https" ],
             [O_IPv6_LOCATOR,
                h'fd89b714f3db00000200000064000001, TCP, 15000]
           ] ,
           [ ["SRV.brski-registrar", 4, 255, "ipip" ],
             [O_IPv6_LOCATOR,
                h'fe80::1234, 41, 0]
           ] ,
           [ ["SRV.brski-registrar", 4, 255, "coap" ],
             [O_IPv6_LOCATOR,
                h'fd89b714f3db00000200000064000001, UDP, 13000]
           ] 
       ]


   The formal CDDL definition is:

        flood-message = [M_FLOOD, session-id, initiator, ttl,
                            +[objective, (locator-option / [])]]

           objective = ["SRV.brski-proxy", objective-flags, loop-count,
                                                  objective-value]

           objective-flags = sync-only ; as in the GRASP specification
           sync-only =  4    ; M_FLOOD only requires synchronization
           loop-count = 1    ; limit to link-local operation

           transport-proto /= 41

           objective-value = method
           method = "https" / "ipip"  ; or future methods
                                      ; CoAP not considered yet


   The M_FLOOD message MUST be sent periodically.  The period is subject
   to network administrator policy (for example configuration on Registrars).
   It must be so low that the aggregate amount of periodic M_FLOODs from
   Registrars is negligible for the network. for ANI Registrars, the
   recommended defaults are to send messages periodically every 60
   seconds and use a TTL of 180000 milliseconds (as in the example).

   The example shows the type of locators used for each of the discussed
   methods. For IPIP, the port is always 0, and the IPv6 address of its
   locator option is not the address used by the registrar but instead
   the virtual link-local address that IPIP Proxies need to use on their
   network to receive/send packets from/to Pledges when performing IPIP
   proxying. The Registrar supports IPIP tunneling for the other methods
   indicated in the same M_FLOOD. In the example above, the registrar
   support IPIP for both https and coap. Proxies MUST constrain 
   IPIP tunneled traffic to the protocols and port numbers announced
   by the Registrar (TCP port 15000 and UDP port 13000 in the above example).

Discussion: 

  I would strongly advise to move IPIP out of this document and write it
  into a separate follow-on standards track rfc. That should be easily adoptable as a
  WG document within the current charter, but it requires some significant
  additional work that IMHO could further delay current BRSKI draft:

  a) The above "transport-proto /= 41" is technically an update to GRASP RFC
    which allows only UDP / TCP. There is some process around updating another
    RFC. We could avoid this by just putting "UDP" in there and decribe
    that "ipip" always means 41 even if the locator says UDP. That would be
    just like DNS-SD only having _udp for any non-tcp protocol. But thats
    a longer discussion.

  b) The use of the virtual link-local address in the locator-option is
     also not in-line with GRASP AFAIK , so i fear that too would require a GRASP update. 

    We could avoid this by not using the locator-option (which is specified by
    GRASP) by IPIP, but by putting the info into the objective-value, e.g.:

       [ ["SRV.brski-registrar", 4, 255, 
         [ "ipip", h'fe80::1234, [ h'fd89b714f3db00000200000064000100, 265]  ]
       ] ,

    This would tell proxies that they can build IPIP tunnels using locally just a
    single ACP address, but remotely on the registrar they hae 265 addresses available,
    so they use a different one for every local inerface they have.
    h'fd89b714f3db00000200000064000100 ... h'fd89b714f3db000002000000640001ff

  c) I am not sure how we solve the problem of multiple IPIP Proxies on a single
     LAN fighting to own h'fe80::1234. It seems to me we would have to figure out
     if/how those proxies could use VRRP to decide which one should be active.
     (assuming VRRP has the same virtual address mechanisms as HSRP, i've never
      looked into it in detail. And it would need to support link-local addresses).

   d) Appendix C discusses some additional GRASP signaling that seems to be
      mandatory?/desirable? to tell the Registrar upfront which tunnels it should
      build up. But that GRASP signaling is not specified:

      "The Join Proxy SHOULD do a GRASP M_NEG_SYN for
       each interface which they wish to relay traffic, as this allows the
       Registrar to do any static tunnel configuration that may be required"

      Please insert implementable GRASP objective specifications for this step here...

   Let me know how BRSKI authors feel about proceeding on IPIP. If they want to keep
   it in the current BRSKI spec, i am happy to help, but i have not completely
   tried to analyze appendix C, so i am not sure if/what other issues than the ones
   above there might be.

-----------------------------------------------------------------------------

Section 5)

a) Suggest changing the title to "Protocol Details (Pledge - Registrar - MASA / CA)"
to distinguish from Section 4. Might consider also to move up section 5.8 as a
new section 6 so that you have a clearer separation between the core of BRSKI
(this section 5), and the (optional) EST integration (then of course the titles
would be (Plege - Registrar - MASA) for section 5 and (Pledge - Registrar - CA) for new section 6.

b) MASA URI is "https:// authority "./well-known/est".
                       ^
missing a " ?

  MASA URI is "https://" authority "./well-known/est".

c) BRSKI-EST connections SHOULD use persistent connections
   The intention of this guidance is to ensure the provisional TLS
   authentication occurs only once and is properly managed.

This is not clear to me, please rephrase.

  - What does "properly managed" mean ?
  - Why would provisional TLS authentication have to occur more than once without
    persistent connection ?

    The first connection only retrieves the voucher, but then lets say the Pledge
    closes the connection and builds a new one for EST enrollment. On that second one
    it would not need to do provisional authentication. /cacerts after /requestvoucher ?

  - Btw: 5.8 says "As noted above, use of HTTP 1.1 persistent connections simplifies
    the Pledge state machine" and only this section 5 mentions persistent connections,
    but it doesn't mention siplification of pledge state machinery. Is that what
    section 5. should say instead of "properly managed" ? Not sure though how the
    state machinery actually does get simplified either.

d)  Q: How would BRSKI work in the absence of persistent connections or in the presence
    of failures ? I guess each request from the pledge is a standalone transaction and
    the pledge would just repeat them until it succeeds or until a return code would
    indicate that the Registrar does not support this step and the pledge has to terminate.

    Is this something that each reader is assumed to understand because the magical
    term "BRSKI REST" is used but not explained ? "Ah, rest, stateless transactions... etc."
    or should BRSKI readers deserve a written explanation ?

    Aka: The way i see it, the reason for persistent connections is really just
    avoiding unnecessary repeated (expensive) TLS connection setup...


e)  "If the Registrar responds with a redirection to other web origins"

    A reason for this rule should be written into that paragraph.
    ... This is to minimize attacks by fake registrars trying to indefinitely redirect 
    a pledge.

f)  "It should proceed to other discovered Registrars if there are any"

    Pledes don't discover Registrars, the discover Proxies. 
    the Proxy can see a couple redundant Registrars.

    Possible solution:

    - "proceed to other discovered Proxy locators (that are being mapped to different
       Registrars, see XXXX), if there are more"
    
    - And then in an appropriate XXX subsection of  section 4:

      To allow Pledges to avoid stalling on a faulty Registrar (see  section 5),
      proxies MAY announce via GRASP for multiple discovered Registrars the SRV.brski-proxy
      objective, each with a locator option using a different port and mapping
      Pledge connection requests for each such port to a different discovered Registar.
      Pledges MUST treat multiple SRV.brski-proxy announcements from the same 
      proxy address accordingly as representing different Registrars (see section 5).

f.1) "If necessary the Pledge calls the EST defined /cacerts method to
      obtain the domain owners' CA certificate."

     Please add an explanation when/why this is necessary. This seems to contradict
     the statement in 5.8.1 about not doing /cacerts,/fullcmc during Bootstrap but only
     during enrollment: "Although these limitations are acceptable during initial bootstrapping"
     (aka: "no need for /cacerts during bootstrap").

g)  After "This moves the BRSKI-EST TLS connection out of the provisional state." add:

    - Afterwards the Pledge trusts this and other Registrars using the same trust anchor.
      It MAY permit more than one redirects, but it MAY still time out the registrar for
      further REST operations and revert to another one.

    - Mandatory boostrap steps conclude with Voucher Status Telementry (see XXX)

    - Move "Optionally, the BRSKI- EST TLS connection can now be used for EST enrollment."
      out of the bullet list merge wi next sentence ("The extensions...").
      
h)  "In the language of RFC6125 this provides for a SERIALNUM-ID category of identifier.."

    RFC6125 does not use the term SERIALNUM-ID and BRSKI does not use this term outside
    of this paragraph either, so it seems redundant. The whole paragraph is also quite dense,
    so maybe rewrite/simplify the language.

    Would suggest to also move any details o the whitelist logic desccription to 5.1,
    5.0 is just overview. And in 5.1 you mention TLS setup uses RFC7030 mechanisms
    while in 5.0 it refers to RFC6125, so i think it would become easier to write & read
    if tht 5.0 whitelisting stuff was moved into 5.1 paragraphs refering to EST TLS
    setup.

-----------------------------------------------------------------------------
Section 5.1) 1)

Suggested append if you agree with it (whatever wording you like):

A Registrar could recognize from the IDevID presented by the Pledge that it is not
interested in it, but it SHOULD not immediately close the connection to the pledge
after connection setup but instead wait for the Voucher Request, provide an
appropriate error reply to it and then close the BRSKI connection. This allows for
better error diagnostics on the Pledge (that could be presented via local interfaces
and/or captured in logs). Connection close during TLS setup on the other hand can have
various third-party causes (firewall etc. pp.). The approach also allows Registrars to distinguish
between actual Pledge connection attempts and other connection attempts which is
especially useful when the Registrar also acts as an EST Server. Pled

-----------------------------------------------------------------------------
Section 5.2 1)

a) "nonce:  The Pledge voucher-request MUST contain" ...
   ..."Doing so ensures Section 2.5 functionality"
   
   If one just follows the reference to section 2.5, it looks contradictory:
   "_If_ the voucher contains a nonce then the Pledge MUST confirm "

   Please clarify, this is confusing:
   - If the nonce is a MUST because of section 2.5, then the MUST would only have to
     apply to RTCless Pledges. But its not clear to me why... (forgot our discussions,
     and readers where never part of them, so explanation would be nice).
   - If the nonce MUST is in your opinion valid with/without RTC, don't refer to 2.5,
     but provide explanation accordingly why MUST.
   - Add "See section 6.2 for reduced security Pledge options".

   - fix to "MUST NOT be reused for _MULTIPLE_ bootstrapping attempts
     IMHO also: (especially not across repeated first bootstrap attempts  after power cycling).

-----------------------------------------------------------------------------
Section 5.3 1)

a) "The Registrar initiates the connection and uses the MASA URL obtained
    as described in Section 2.7 for RFC6125 authentication of the MASA server."

   Q: Does this mean:
   "The Registrar initiates the connection and uses the DNS name of the MASA URL obtained
    as described in Section 2.7 for (RFC6125) authentication of the MASA server certificate."

   Aka: for the less PKIX/Websecurity initiated readers like me, writing out
   what is actually implied could make the sentence easier to parse (instead of having to
   read more of RFC6125.

-----------------------------------------------------------------------------
Section 5.4 

a) See comment for section 5.4.4  for where i think the first paragraph description should be.
   (aka: make this paragrap a summary of what the MASA interface is, mentioning both
    requestvoucher and requestauditlog and move to 2.4.4).

b) The paragraph is difficult to parse and has IMHO wrong pieces.
   - What does "simplicity" mean ?
   - "the Registrar is not required to make use of any other EST functionality when
     communicating with the MASA service"... what does that mean.. ? Not required =
     but could optionally do it ?
   - "is defined as an optional EST message" - requestvoucher is NOT optional for MASA,
     and i don't think its in-profile for other roles supported by EST (Registrar, CA,...).

   Eg: i would suggest the following for the first paragraph:

     e.g.: The MASA uses EST (RFC7030) REST calls with the EST prefix "/.well-known/est/"
     to allow reuse of existing EST server code to implement a MASA service. The 
     MASA service requirs only two new operations: requestvoucher and requestauditlog.
     If a shared code basis is used for MASA and other EST/BRSKI defined service roles
     (Domain Registrar, CA,...), the MASA service MUST properly reject any EST functionality
     requests it does not wish to service; a requirement that holds for any REST interface.

 "To allow the reuse of existing EST server code basis for MASA
     functionality," 
   If you where thinking of other types of "simplicity", please refer to the most
   important one because without any explanation, simplicity is hollow.

c) If you agree to above and moved first paragraph out to 2.4.4, just reword second
   paragraph to something like: Domain Registrars requests vouchers from a MASA
   with an HTTP POST ...

d) An example (in parenthesis is fine) for a "future media type" would be useful to justify
   to readers more easily the paragraph mentioning a SHOULD against them.

e) "request a Voucher when the Pledge is offline" ->
   "request a Voucher when the Pledge is unable to connect to the Registar" ??
   (i hope thats whats meant with "offline").

   "when the Registrar is expected to be offline" ->
   "when the Registrar is expected to be unable to connect to a MASA"

   Offline can be confusing because it does not explain who is not able to talk with
   whom, and i think in both cases two of the three are still expected to talk
   with each other (or at least that part does not matter).

   I am still confused about the "Pledge is unable to connect to the Registrar" case.
   Is this a case where BRSKI-EST does not happen but something else (e.g.: sneakernet)
   between Registrar and Plege ? Please add a sentence explaining what this case means.
   
f) "since the registrar is not known to the MASA server in advance"

   Given how the HTTPS connection requires authentication, there is some knowledge
   about the registrar from that, so the above sentence is confusing. Whats the
   correct statement to be made here thats takes the existance of the HTTPS
   authentication of the Registrar to the MASA into account ?
   
g) Registrar revocation consistency:

   Maybe change the lead in in this section to something like: "If the Registrar
   uses a CA known to the MASA to make certificate revocation information available
   to the MASA, MASA SHOULD check ... of the Registrar Certificate. MASA MAY
   limit service to Registrar where this applies to provide owners protection against
   impacted registrar (e.g.: stolen).

   In any case a short reasoning why to do this step would be helpfull.

h) Pledge proximity assertion:

   Sentence summarizing one most important attack vector reducet by this. Or pointer
   to reference where this is explained.
  
-----------------------------------------------------------------------------
Section 5.5

a) "immediately complete authentication of the provisional"

   This sounds contradictory to the potential need to perform /cacerts first as
   described in section 5. Add something like (potentially after performing /cacerts,
   see section 5.) ?

-----------------------------------------------------------------------------
Section 5.5.1

a) "which is an additional justification
   for the recommendation to proceed with EST key management operations.
   Once a full CA Certificate Response is obtained it is more
   authoritative for the domain than the limited 'pinned-domain-cert'
   response."

   This sounds contradicting to the statement in section 5., where it sounds as if
   provisional state is completes only after the (optional /cacerts) and cacerts
   is part of bootstrap, whereas here it sounds as if its part of enrollment only.

b) If /cacerts is not required for finish provisional state or voucher telementry,
   maybe the Pledge would ask for cacerts after voucher telemetry, and then
   a REgistrar that does not want to be a full EST (enrolment) servdr, would reply
   with a redirect to an actual enrolment server in the same domain. That would
   eliminate the "discovery" part discussed in the last paragraph of this section.

Still confused why/where cacerts needs to happen and why exactly there in the flow...

-----------------------------------------------------------------------------
Section 5.6)

a) "The domain is expected to provide indications to the system
    administrators concerning device lifecycle status.  To facilitate
    this it needs telemetry information concerning the device's status."

    Nice language.

    Whats missing is the IMHO quite relevant recommendation to go beyond that
    and provide diagnostics / suggestions that could go as much as 

    "actionable recommendations in support of expedient resolution of the failure".

    Aka:
       (Failure) Reason: "voucher certificate not valid yet".
       Suggestion:      "Replace empty RTC battery "

    Can we add something like Suggestion to the structure ?
    Not sure if "suggestion" is the best word, but it would be great if we can put a
    stake in the ground adding this to the structure. I have seen too many times
    where it took eternities to find the magic offline manual mapping from a range
    of crazy error codes (reasons) to the suggestions what to do next.

b)  Recommendations for how to mitigate the potential security issues of diagnostics
    would be great:

    - Reasons could be per-device encoded, requiring vendor for further insight:
      Reason: "error 23498y354AZRFF"
      Suggestion: "call manufacturer"
    - Operations after errors can be slowed down to reduce/eliminate brute force attacks
    
c)  "message is being sent" -> "message may be sent" (above example of non-attack issue).

-----------------------------------------------------------------------------
Section 5.7)

a) Paragraph 1: Did we not discuss the option that the Registrar might want to
   examine the authorization log before even forwarding the voucher to the Pledge ?
   I do not remember what the outcome is but it would be good to mention why or
   why not this should be an option. o

b) It is recommended put to put some
                     ^^^^^^^^^^

   And not even clear what it would mean if the sentence was fixed.
   Does it mean something like: Cacheable object name could be large randomn number ?
   
-----------------------------------------------------------------------------
Section 5.7)

a) The current described examples of the Audit Log are all somewhat scary,
   a bit like "The doctor told me something bad... should i ignore it".
   Or worse: This audit log stuff is made up by Vendors to scare us into buying
   only manufacturer refurbished gear with a clean history bill.

   Can we mention some simple positive examples o better sell the value of the audit log,
   E.g.:

   Audit logs can not only help to identify candidate security risks, but
   Audit Logs can also help to identify mislocated devices, for example in office parks
   connected to the wrong network connector. Audit logs can help tracking history
   of devices re-deployed in large companies - which department originally bought
   this equipment,.

   The biggest concern i think we will see from privacy advocats is that
   vouchers/audit-logs are a big-brother initiative from vendors. This too might
   be something to document counter arguments for:

   The amount of traceability of audit-log information is highly flexible.
   The PKI for pinned-domain-certs used to identify owners do not have to be public,
   and if the authentication of Registrars with MASA is set up to be non-traceable
   (or the MASA is operated by a trusted third party providing privacy protection
    of authentication data), audit-logs can provide similar privacy options to block-chains
    - you can only identify another party (in the audit-log) if you can trace the
   pinned-domain-cert to an owner.

-----------------------------------------------------------------------------
Section 5.8)

a) "The Pledge is also RECOMMENDED to implement the following EST automation extensions"
   add: An ANI Pledge MUST implement them.

b) Last paragraph: It looks as if this is in answer of my question about
enrolling multiple certificates. Thanks!

  - Please put at the end of 5.8 (eg: new subsection before CoAP - "enrolling multiple
    certificates). No need to derail the core track what BRSKI does with
    consideratations of what it can not do.
  - The text reads as if its a fault of BRSKI/CSR-attributes that its impossible
    to get multiple certificates and reads in a way as if "RFC7030 alone without
    BRSKI wouldn't be a problem". Maybe i am overinterpreting.

  - How about adding a sentence like:

    Enrolling with additional trust-anchor/certificate pairs for additional services/roles
    for which the primary TA/certificate are not useable is subject to future
    specifications. It could for example simply be achieved by performing
    EST operations for an additional <service> via URIS of the form
      /.well-known/est/<service>/{cacerts,csrattrs,simpleenroll,...}

    Unless i misunderstood the "arbitrarylabel" examples in RFC7030.

-----------------------------------------------------------------------------
Section 5.8.2) 

a) The wording of the first paragraph makes it somewhat hard to understand what point
it is trying to make:

| In some deployments its plausible that the Pledge generates a certificate
| request containing only identity information known to the Pledge (essentially
| the X.509 IDevID  information) specific identity information

"in other deployments the pledge magically generates a certificate request
including information not known to the pledge"  ???

First two paragraphs text is somewhat confusing and incomplete.  Suggest to reword
with the following bullet items as goals to describe: 

   - BRSKI Cert model:
     - no BRSKI specific CA requirements - Any CA, Registrar<->CA protocol support.
     - Registrar is policy decision point for what should be in the certificate:
       - operation model: Registrar in responsibility of department running service
         and know what needs to be in cert, CA more often simple "security department"
     - Example service attribute: ACP information field for ANI Pledges.

   - IDevID attributes specific service case: 
     - Want to have them in LDevID to avoid weakening-of/attacks-against LDevID
       keying material (can not be renewed on IDevID but can be renewed in LDevID).
     - For uniformity and better control, Registrar also determines which IDevID
       attributes are put how into LDevID.

-----------------------------------------------------------------------------
Section 5.8.4)

a) "The EST protocol assumes an end user" -> "RFC7030 assumes an end user"

b) There seems to be text missing after second paragraph (before discussing success/failure):

   -If the /simpleenroll or other RFC7030 4.2 enrolment fails due to problems
    locally to the Pledge (and therefore not known without telemetry by the Registrar),
    the Pledge logs an app FAILURE via enrollment status telemetry.
   -If enrollment succeeded and once the pledge has managed to re-establish the TLS
    connection with its LDevID, it logs an /enrollstatus SUCCESS.
   - If enrollment succeeded, but re-establishment of the TLS
    connection fails, the Pledge reverts to re-establish a TLS connection with its IDevID
    and logs an appropriate FAILURE enrollment status telemetry. It then attempts
    to re-enroll a new certificate with exponentially increasing delay to allow
    operations to overcome any possible problems in the CA/Registrar setup
    that could have caused the problem.

Or similar if i didn't get it right.

c) " This allows for clients that wish to minimize their crypto operations
   to simply POST this response without renegotiating the TLS session -
   at the cost of the server not being able to accurately verify that
   enrollment was truly successful."

   Bullocks. First you scare off readers with "diagnostics bad" (5.6), and
   now Pleges SHOULD just do good diagnostics (try new LDevID to see it works) ?
   
   Please make the SHOULD re-negotiate a MUST and delete this last paragraph.
   If a plege can not afford a single validation of a BRSKI certificate, its not
   worth receiving one. 


-----------------------------------------------------------------------------
Section 6)

a) Suggest Change title to eg: "Additional security options"

  - Some text (eg. first paragraph mentioning NEA) talks also about additional/higher
    security, so lower is not necessarily always true.

b) Need to be more specific about how text in this section relates to BRSKI compliance:

   It seems as if the intent of this section targets to be part of the BRSKI standards
   specification as well and any implementations that match the MUST/SHOULD in this
   section are still compliant with BRSKI. I hope i understand this correctly. I think
   this should be written out explicity. E.g.:
   
   This section is part of BRSKIs standard specification. Implementations
   following the MUST/SHOULD in this section will still be compliant with BRSKI.
   All lowered security options in this section are explicit manufacturer 
   choices and operators MUST be made well aware of of these choices reduced 
   security achievable under those choices through appropriate documentation/labelling
   (e.g.: "Device with/without IDevID").

-----------------------------------------------------------------------------
Section 6.2)

a)  fix to "not involved in security considerations in this chapter"

   Remember text in earlier sections where you claimed that yu do expect
   fewer attacks after completion of TLS/provisional and how having trusted
   Plege/Registar-Pledge path achieves this.
  
-----------------------------------------------------------------------------
Section 6.3)

a) MASA server -> MASA service (i may have said that in before, but you can ignore
   me on these stylistics. You'll just get them later from RFC editor, pretty good
   spotting inconsistent terminology.
   proxy involved in security cond

b) "Trust on first Use" for physical ports: suggest to modify to:
   "trust on first use" for methods with a strong dependency on physcial posession,
   such as taking ownership via configuration on a serial console.

-----------------------------------------------------------------------------

Section 7)

a) This document is extending the .well-known "est" definition. We need to
   determine how to correctly handle this and have started to inquire.

   I suggest to add the following text to the IANA section for this:

| This document extends the definitions of "est" (so far defined via RFC7030) in
| the "https://www.iana.org/assignments/well-known-uris/well-known-uris.xhtml" registry
| as follows:
| 
|   - add /.well-known/est/requestvoucher (see section 5.4)
|   - add /.well-known/est/requestauditlog (see section 5.7)

We can then let the IETF review, IANA review etc. decide whether / how this
will ultimately be handled, e.g.: having to add "updates RFC7030" to the
document and/or adding BRSKI RFC to the registry.

b) It would be good to create subsections for each registray mentioned so
that one can see from the table of content what registries are impacted.

c) Probably need a summary of updates this document makes to RFC7030, the
easiest way would IMHO be to create a short section "Updates to RFC7030",
saying that all REST services introduced in this document are extensions ot
RFC7030 ESTE because they use the EST well-known prefix, and then point to
section 2.4 which with the text i proposed provides IMHO a good summary
of those services as used by each role (Pledge, Registrar, MASA).

RFC 7030 has these nice tables with service URIs and properties. Some of
those would be nice for BRSKI extension/used-RFC7030, but lots of work...

d) Add section to request brksi-proxy and brski-registrar to
   IANA service name registry.

-----------------------------------------------------------------------------
Section 8)

a) First paragraph: Unvailable MASA is not a security but an operational consideration.
Feel free to add "Operational considerations" section before security
considerations and move it there. Might want to add some more considerations around
MASA to set context: Suggest something like:

- Operationally main novelty of BRSKI is dependency against vendor/cloud operated
  security service (MASA). Main point of discussion in this section.

- Operationally, BRSKI is most easily a fit for solutions in which other part of
  operations are already in the cloud so that the main operational issues of
  cloud connectivity for MASA is not novel. For example, SD-WAN equipment, services
  or in general solutions where already part of a (SDN-) OAM management plane
  are moved into the cloud (management products as a service, cloud-only managed
  service equipment, ...).

- Even if active OAM/SDN/Management elements of a network are still "on-premises",
  dependency against cloud/Internet reachability exists more and more on the user/
  application side. In this respect too, BRSKI/MASA does not increase the need for
  cloud/Internet reachability beyond pre-existing requirements in many networks
  (most Enterprises, Service Providers).

- There are nevertheless many evolving areas / industries (such as IoT, industrial
  OT networks) where cloud dependency is more novel and variations of MASA options as
  defined in this document (or through future add-on work) need to be explored to match
  the operational requirements AND provide the required level of security.

- A variety of those deployments can be handled through a variety of the Section 7
  decscribed altered/reduced security option.

  [ insert existing paragraph here ]

- Not described but an example of modified operational model: Very large customers
  that already often receive often customer specialized equipment like defense
  networks/solution may hav unique "offline" requirements. These might simply partner
  with manufacturers to the extend of being able to run MASA services themselves for
  the vendor equipment they use or receive custom equipment versions with IDevID using a 
  (potentially secondary) trust anchor of the customer so that registrar co-located MASA
  can create vouchers.

b) Possible lead in to security session:

- With the focus of BRSKI on strong security, the main considerations in this section
  are attack attempts against this security infrastructure, above described
  (section 7) reduced security options and implementation risks.

c) "The MASA authorization log..."

   Not security consideration either IMHO.  Suggest to move into a new "Privacy considerations"
   section. Cut into two or more paragraps (too long now). 
   Also Point to the text i suggested above for section 5.7.

   Add note that privacy considertins can equally be mitigated through options
   mentioned in operational consideration section (what i suggested to add with eg:
   defense customer example).

-----------------------------------------------------------------------------
Appendix A)

a) Would change title to non-IPv6 or non-ANI operations:

b) Initial explanation:

Specification of BRSKI in Section 4. only covered the mechanisms for an IP6
Pledge (link-local IPv6 address) and Proxy options necessary for IPv6 and ANI.
It does not cover the options for non-IPv6 Pledge or non-ANI Proxies (IPv4 or IPv6).

-----------------------------------------------------------------------------
Appendix A.2)

a) Replace with:

A.2.  Use of DHCP

   A non-ANI Plege MAY obtain a (non-link-local-scope) IP address via DHCP [RFC2131]
   IPv4 and/or DHCPv6 [RFC3315] instead of or after proxy discovery via link-local
   address(es).

   DHCP needs to be set up to not only provide an IP address, but for DNS information
   (DNS server, DNS prefix) to make unicast DNS-SD lookups as described in following section B.


-----------------------------------------------------------------------------
Appendix B)

a) Use suggested service name of "_brski-proxy" in all caes where "_bootstrapks"
   is used. (see comment for section 4.1.1 for why that name is better).

b) After "The Pledge MAY perform DNS-based Service Discovery", new paragraph:

   A non-ANI Proxy MAY perform DNS-based Service Discovery using unicast DNS
   to discover Registrars searching for searching for the service
   "_brski-registrar._tcp.local.".

c) "To prevent unaccceptable levels of network traffic" -> add ", when using mDNS"
  
d) "received a useable IPv4 address via DHCPv4 as suggested in Appendix A" ->
   "received a useable IP address via DHCP/DHCPv6 as suggested in Appendix A.2"

e) "If no local bootstrapks service": Add at end of paragraph: See Section 2.6
   (Cloud Registrar).
 
-----------------------------------------------------------------------------

Appendix C)

a) See discussion for section 4.3 above for the issues i see with current IPIP
  specification and suggestion to maybe move out of BRSKI to resolve with more time.

-----------------------------------------------------------------------------
Appendix E)

a) Please add a sentence how to decode Hex Certs (not keys) with utility
   at the very top of the appendix (right now its further down in the text).

b) E.1.4: which element in the cert would become the serial-number ?

c) There are no ASN1 decodings of the artefacts, Please fix.
   If this is subject to IANA assignments, please add RFC editor note to
   block draft progressing.

   [RFC-Editor: There is text missing here that can only be inserted
    after finishing mandator IANA assignment. Do not publish version of 
    this draft before this is resolved.]

-----------------------------------------------------------------------------

X) Applicability outside ANIMA

If i am not mistaken, BRSKI-MASA should be one option how a bootstrap
server in "draft-ietf-netconf-zerotouch" could obtain a voucher from a
MASA (if i understand it correctly, the mean by which such a bootstrap
server obtains a voucher is left open). If that is correct, then it would
be great to mention this in a sentence or two in an appropriate section
of BRSKI as a very explicit example how BRSKI can be reused outside the
 complete ANIMA scope (also add draft-ietf-netconf-zerotouch as an informational
reference).

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From stokcons@xs4all.nl  Wed Feb 14 11:27:52 2018
Return-Path: <stokcons@xs4all.nl>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id EC23758C4FF
	for <eckert@i4.informatik.uni-erlangen.de>; Wed, 14 Feb 2018 11:27:51 +0100 (CET)
Received: from lb1-smtp-cloud7.xs4all.net (lb1-smtp-cloud7.xs4all.net [194.109.24.24])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 0F0BB74E333
	for <tte@cs.fau.de>; Wed, 14 Feb 2018 11:27:49 +0100 (CET)
Received: from webmail.xs4all.nl ([IPv6:2001:888:0:22:194:109:20:200])
	by smtp-cloud7.xs4all.net with ESMTPA
	id luHzey9293A62luHze4tbu; Wed, 14 Feb 2018 11:27:48 +0100
Received: from AMontpellier-654-1-197-156.w90-0.abo.wanadoo.fr
 ([90.0.224.156])
 by webmail.xs4all.nl
 with HTTP (HTTP/1.1 POST); Wed, 14 Feb 2018 11:27:47 +0100
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII;
 format=flowed
Content-Transfer-Encoding: 7bit
Date: Wed, 14 Feb 2018 11:27:47 +0100
From: peter van der Stok <stokcons@xs4all.nl>
To: Toerless Eckert <tte@cs.fau.de>
Cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
Organization: vanderstok consultancy
Reply-To: consultancy@vanderstok.org
Mail-Reply-To: consultancy@vanderstok.org
In-Reply-To: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
Message-ID: <e9525b2e67c2ce77902073f74c553582@xs4all.nl>
X-Sender: stokcons@xs4all.nl
User-Agent: XS4ALL Webmail
X-CMAE-Envelope: MS4wfAsHWAmKXPFPjncVGlEx5ZEV6DJYxj/o7lbWm8Ddf7G/W2qSyvLV7wWhKPXngWe8URH8UpjZUd5HMcZlRwxWlcEgBnAL+Ir+daIYSbdyEjynhgDqndYd
 b9iEwxsre71pruQX6WUroPu3VjbEEzXErc3XcAm8MMyjc+nM3tXQcefpBLDchvsZCMdr/HfjDzeHUG4x8nJaeD2GPhve5RqCCGK2ICtpQ9O5NovjCNYsxaJ9
 zyXKLkndpjGgyqV8uJCVtw==
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 2678
Lines: 75

Hi Toerless,

thanks for this reminder about terminology in keyinfra.
I have made several attempts at explaining the authors the possible 
misunderstandings on terminology.
Let's hope your input helps.

I will look at your other comments later this week.

Peter
> 
> b)  Key infrastructure
> 
> There  is no definition/reference for this term.  Please describe on
> first use and in terminology.  Is there a difference
> between "key infrastructure" and  "keying material" ? If not, then
> maybe remove one term otherwise pls. describe difference.
> 
> c) (terminology) MASA definition: "A third-party Manufacturer...". Why
> "third-party" ?
> who are the first two parties ? If this is only slang and we can't
> explain who the
> first two parties are, delete "third-party" ?
> 
> d) "Domain Registrar" vs. "Join Registrar", JRC. Especially because
> the text mostly
> uses "Domain Registrar" and very seldom "Join Registar".
> 
> JRC is used in exactly three places in the draft. I also can not find
> on www.google.com
> or wikipedia any example of "The term JRC is used in common with other 
> bootstrap
> mechanisms" as the Terminology claims. Either provide a non-anima
> reference for the
>  use of that term or eliminate it in the document.
> 
> Suggest to use "(Domain Join) Registar (and Coordinator) in 1.2 and
> say for example
> that the text uses "Join Registrar" when referring to the mechanics of
> building the
> connection (Join Proxy and Join Registrar) and Domain Registrar when 
> discussing
> authentication and any other aspects of the registrar (where the
> domain is relevant).
> 
> e) Voucher
>    - misses ":" after term.
>    - please change "statement" to "artifact" so the terminology aligns
> with both voucher
>      draft and voucher-request text which also uses artifact. See also
> section 2.2
>       where you use "cryptographically protected" instead of "signed"
> and figure out
>      which term you want to use in all cases (hint: signed).
> 
> f) IMPORTANT: Please add/define the term "ANI"
> 
>   ANI - "Autonomic Network Infrastructure". Systems that support both 
> BRSKI and
>   Autonomic Control plane - ACP 
> ([I-D.ietf-anima-autonomic-control-plane]). ANI
>   systems (pledges, proxies, registrar) have specific requirements 
> detailled in
>   the document.
> 
>   Without this term we can not nail down the explicit requirements 
> against
>   ANI Pledges, Proxies, Registrars that we need from the document (and
> distinguish
>   from requirements against any non-ANI adaptation of BRSKI). I added 
> according
>   comments into other parts of the doc.
> 
> g) Please replace "MASA server" with "MASA service" everywhere.
> 

From anima-bounces@ietf.org  Thu Feb 15 03:45:43 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.8 required=5.0
	tests=HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 556FB58C529;
	Thu, 15 Feb 2018 03:45:43 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 5CD0D74E1EB;
	Thu, 15 Feb 2018 03:45:39 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id AD01012D86D;
	Wed, 14 Feb 2018 18:45:36 -0800 (PST)
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id A117012D867
 for <anima@ietfa.amsl.com>; Wed, 14 Feb 2018 18:45:34 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 5LVFHLaSl9AO for <anima@ietfa.amsl.com>;
 Wed, 14 Feb 2018 18:45:31 -0800 (PST)
Received: from tuna.sandelman.ca (tuna.sandelman.ca
 [IPv6:2607:f0b0:f:3:216:3eff:fe7c:d1f3])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 9ADD0126C25
 for <anima@ietf.org>; Wed, 14 Feb 2018 18:45:31 -0800 (PST)
Received: from sandelman.ca (obiwan.sandelman.ca [IPv6:2607:f0b0:f:2::247])
 by tuna.sandelman.ca (Postfix) with ESMTP id D56AE20090
 for <anima@ietf.org>; Wed, 14 Feb 2018 21:52:29 -0500 (EST)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
 by sandelman.ca (Postfix) with ESMTP id 3A71980A6D
 for <anima@ietf.org>; Wed, 14 Feb 2018 21:45:30 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: anima@ietf.org
In-Reply-To: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;
 <'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Date: Wed, 14 Feb 2018 21:45:30 -0500
Message-ID: <11878.1518662730@obiwan.sandelman.ca>
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/kSaj5r_FSmhJa6ZQAy8oXRVWdRw>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0818935716921988519=="
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 6610
Lines: 162

--===============0818935716921988519==
Content-Type: multipart/signed; boundary="=-=-=";
 micalg=pgp-sha256; protocol="application/pgp-signature"

--=-=-=
Content-Type: text/plain


Toerless Eckert <tte@cs.fau.de> wrote:
    > 1.2) Terminology:

    > a) vendor vs. manufacturer.

    > The document uses 48 times "vendor" and 13 times "manufacturer". Please
    > revisit this: If there is a clear reason when/why to use vendor and when/why
    > to use the term "manufacturer", then please put these explanations into
    > terminology. Otherwise maybe eliminate "vendor".

Ha. Good catch.
I'm pretty sure we want to say manufacturer consistently.
The IETF has often talked about vendors rather than manufacturers, so this
might cause some confusion.  Let's go ahead with this and see what confusion
we cause.

There is a distinction between vendor (which generally includes VARs) and
OEMs.

    > For example: Abstract: "using vendor installed X.509 certificate" ...
    > "vendor's authorizing service". This latter one definitely seems to be
    > wrong (MASA = "manufacturer authorizied..., not vendor).

I've also condensed a number of cases like you noticed:
     "vendor authorized MASA service"  ==> MASA

I am concerned that we might lose some subtly between the entity that sold
the device to the customer, and the entity that signs the vouchers.
We used the term MASA specifically because we were sure that the service
would be outsourced by many manufacturers.

    > b)  Key infrastructure

    > There  is no definition/reference for this term.  Please describe on
    > first use and in terminology.  Is there a difference
    > between "key infrastructure" and  "keying material" ? If not, then
    > maybe remove one term otherwise pls. describe difference.

The term is in the title and in section 1.
And you are right that it does not appear again, nor is it defined.
I think it generally refers to the mechanism of PKI, but I'm not sure what to do.

    > c) (terminology) MASA definition: "A third-party Manufacturer...". Why "third-party" ?
    > who are the first two parties ? If this is only slang and we can't explain who the
    > first two parties are, delete "third-party" ?

Fixed...  The first party is the Pledge and manufacturer.
The second party is the Domain Owner.
The third party is the entity running the MASA, which may not be the manufacturer.

    > d) "Domain Registrar" vs. "Join Registrar", JRC. Especially because the text mostly
    > uses "Domain Registrar" and very seldom "Join Registar".

Yes, because we agreed that the term across WGs would be JRC, and we say
in the terminology that we shorten it to Registrar.  We say "Domain
Registrar" because we want to link it to the PKI concept of a Registration
Authority (RA).

    > JRC is used in exactly three places in the draft. I also can not find on www.google.com
    > or wikipedia any example of "The term JRC is used in common with other bootstrap
    > mechanisms" as the Terminology claims. Either provide a non-anima reference for the
    > use of that term or eliminate it in the document.

We agreed to use common terms.
It was a thread on ANIMA and 6tisch a year ago.
I can't get mailarchive to find it for me...
Ah, I see because "JRC" was never used contracted in that thread.
    https://mailarchive.ietf.org/arch/msg/anima/iotBM0-kxsIB66t8hBo4XUtZLag

As long as they Informative references.
https://tools.ietf.org/html/draft-ietf-6tisch-architecture-13#section-6.1
https://tools.ietf.org/html/draft-ietf-6tisch-terminology-09
        (yes, expired, but not forgotten, just not a priority)

    > e) Voucher
    > - misses ":" after term.
    > - please change "statement" to "artifact" so the terminology aligns with both voucher
    > draft and voucher-request text which also uses artifact. See also section 2.2
    > where you use "cryptographically protected" instead of "signed" and figure out
    > which term you want to use in all cases (hint: signed).

I've changed it to:
  <t>A voucher is a cryptographically protected artifact (a digital signature) to the Pledge

I feel that we need to say it's cryptographically signed at least once.

    > f) IMPORTANT: Please add/define the term "ANI"

    > ANI - "Autonomic Network Infrastructure". Systems that support both BRSKI and
    > Autonomic Control plane - ACP ([I-D.ietf-anima-autonomic-control-plane]). ANI
    > systems (pledges, proxies, registrar) have specific requirements detailled in
    > the document.

            <t hangText="ANI:">The Autonomic Network Infrastructure as
            defined by <xref target="I-D.ietf-anima-autonomic-control-plane"
            />.  This document details specific requirements for pledges,
            proxies and registrars when they are part of an ANI.</t>

Does this work for you?

    > Without this term we can not nail down the explicit requirements against
    > ANI Pledges, Proxies, Registrars that we need from the document (and distinguish
    > from requirements against any non-ANI adaptation of BRSKI). I added according
    > comments into other parts of the doc.

    > g) Please replace "MASA server" with "MASA service" everywhere.

I prefer to just say "MASA" actually.
Are you okay with that?

Let me wrap up here for the moment so you can see the edits and
I'll reply to the rest as Max and I digest it.  It's a lot of comments.
I'd like to push an -11 (if only to fix email for M. Behringer).

    https://github.com/anima-wg/anima-bootstrap/pull/42
    https://github.com/anima-wg/anima-bootstrap/pull/42/commits/cb7af66344ad709aaf70287a40fa13a67bbf601c


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlqE9EkACgkQgItw+93Q
3WVOLQf/V+/J/I+0DQsT0NwnBrhTJRDNRoQwwI+xJOljOy6jQoKTOq82CY9wHUDu
VTZJ6Ui2HtlcM8E9/8TWtFHZtYCZEOVMLH0vFdAGYB8FKH8SU5thVjgNQ/vfdjp0
VsYxPviHlWxbSZACD/rGmBrhWiXsUbb43uydqarHubesa2pap7i+7xuWr+q66isy
dImvKyPSQzOwZ5jkDIMIokBatLwhHE6BVOlobbhe5nNFqRLv7lgWrmQLgmsXjihf
TL31sBvjd2Df2OUJhvejAy7GBxTfXIi6Caw7gtdDfGTsEuM8EndI9SI1qjwOJyVZ
i5b5wPpkyWNAXRneCjR0J1ZUdapFog==
=CbzD
-----END PGP SIGNATURE-----
--=-=-=--


--===============0818935716921988519==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

--===============0818935716921988519==--

From anima-bounces@ietf.org  Thu Feb 15 17:06:51 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.0 required=5.0 tests=DKIM_SIGNED=0.1,
	HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_MED=-2.3,SPF_FAIL=0.919,
	T_DKIM_INVALID=0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 0CFE358C538;
	Thu, 15 Feb 2018 17:06:51 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 067DD74E0A4;
	Thu, 15 Feb 2018 17:06:46 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 634E8128959;
	Thu, 15 Feb 2018 08:06:44 -0800 (PST)
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 00663126B7E
 for <anima@ietfa.amsl.com>; Thu, 15 Feb 2018 08:06:43 -0800 (PST)
Authentication-Results: ietfa.amsl.com (amavisd-new); dkim=pass (1024-bit key)
 header.d=cisco.com
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id B6APWZcAPz3o for <anima@ietfa.amsl.com>;
 Thu, 15 Feb 2018 08:06:40 -0800 (PST)
Received: from rcdn-iport-4.cisco.com (rcdn-iport-4.cisco.com [173.37.86.75])
 (using TLSv1.2 with cipher DHE-RSA-SEED-SHA (128/128 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 1A59E124C27
 for <anima@ietf.org>; Thu, 15 Feb 2018 08:06:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=cisco.com; i=@cisco.com; l=8860; q=dns/txt; s=iport;
 t=1518710800; x=1519920400;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-id:content-transfer-encoding: mime-version;
 bh=+cvUlhK7tjQE2J7LtSQ9uDhCROPKxonDGMXFKpGDLGU=;
 b=dK0VjRzjoqlyHqieTEN8TYYqTc8HDErgewYpDjEZHDdm8+SPQJ8IHmP6
 /pfL+lCQam7h5pCRWN1MjDMBl7hrMNixb7u5CzA3TJuWhwRhpz1bfQI9l
 3d3UDDcWkwcGmnTODbp8JaBkirtMQXxkQ8l1iZu8tyKKAoFzcr/m0bvkx w=;
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0DpAgCxr4Va/4sNJK1dGQEBAQEBAQE?=
 =?us-ascii?q?BAQEBAQcBAQEBAYNSZnAoCoNbmCmCAnwblkUVgSQDXAoYDYFcgzoCGoIoVRc?=
 =?us-ascii?q?BAgEBAQEBAQJrKIUjAQEBAwEBASERFSULBQsCAQgSBgICJgICAiULFQIOAgQ?=
 =?us-ascii?q?OBYotCBCuN4InhQGDe4ITAQEBAQEBAQEBAQEBAQEBAQEBAQEBHYEPg3SCJ4M?=
 =?us-ascii?q?/KYJPNoMvAQECAYE7ARIBCRaDFzGCNAWKZBeJSo9tCQKIHo1lgh+GKot9jgW?=
 =?us-ascii?q?JagIRGQGBOwEhATYyLnFwFRkkKgGCGwmEbngBCYt1gSWBGQEBAQ?=
X-IronPort-AV: E=Sophos;i="5.46,517,1511827200"; d="scan'208";a="356262068"
Received: from alln-core-6.cisco.com ([173.36.13.139])
 by rcdn-iport-4.cisco.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 15 Feb 2018 16:06:34 +0000
Received: from XCH-ALN-011.cisco.com (xch-aln-011.cisco.com [173.36.7.21])
 by alln-core-6.cisco.com (8.14.5/8.14.5) with ESMTP id w1FG6Yux016442
 (version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=FAIL);
 Thu, 15 Feb 2018 16:06:34 GMT
Received: from xch-aln-013.cisco.com (173.36.7.23) by XCH-ALN-011.cisco.com
 (173.36.7.21) with Microsoft SMTP Server (TLS) id 15.0.1320.4; Thu, 15 Feb
 2018 10:06:33 -0600
Received: from xch-aln-013.cisco.com ([173.36.7.23]) by XCH-ALN-013.cisco.com
 ([173.36.7.23]) with mapi id 15.00.1320.000;
 Thu, 15 Feb 2018 10:06:33 -0600
From: "Max Pritikin (pritikin)" <pritikin@cisco.com>
To: Michael Richardson <mcr+ietf@sandelman.ca>
Thread-Topic: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
Thread-Index: AQHTpgcblAy+qFNx50mP05nV7UQFlKOmBmyA
Date: Thu, 15 Feb 2018 16:06:33 +0000
Message-ID: <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <11878.1518662730@obiwan.sandelman.ca>
In-Reply-To: <11878.1518662730@obiwan.sandelman.ca>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.99.106.5]
Content-ID: <66FD0F982A888F439DFE735FF1DD7347@emea.cisco.com>
MIME-Version: 1.0
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/plEHtVnAaPihDd1aC_YBZkUU0a4>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: "anima@ietf.org" <anima@ietf.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
X-Status: A
Content-Length: 8916
Lines: 116

DQoNCj4gT24gRmViIDE0LCAyMDE4LCBhdCA3OjQ1IFBNLCBNaWNoYWVsIFJpY2hhcmRzb24gPG1j
citpZXRmQHNhbmRlbG1hbi5jYT4gd3JvdGU6DQo+IA0KPiANCj4gVG9lcmxlc3MgRWNrZXJ0IDx0
dGVAY3MuZmF1LmRlPiB3cm90ZToNCj4+IDEuMikgVGVybWlub2xvZ3k6DQo+IA0KPj4gYSkgdmVu
ZG9yIHZzLiBtYW51ZmFjdHVyZXIuDQo+IA0KPj4gVGhlIGRvY3VtZW50IHVzZXMgNDggdGltZXMg
InZlbmRvciIgYW5kIDEzIHRpbWVzICJtYW51ZmFjdHVyZXIiLiBQbGVhc2UNCj4+IHJldmlzaXQg
dGhpczogSWYgdGhlcmUgaXMgYSBjbGVhciByZWFzb24gd2hlbi93aHkgdG8gdXNlIHZlbmRvciBh
bmQgd2hlbi93aHkNCj4+IHRvIHVzZSB0aGUgdGVybSAibWFudWZhY3R1cmVyIiwgdGhlbiBwbGVh
c2UgcHV0IHRoZXNlIGV4cGxhbmF0aW9ucyBpbnRvDQo+PiB0ZXJtaW5vbG9neS4gT3RoZXJ3aXNl
IG1heWJlIGVsaW1pbmF0ZSAidmVuZG9yIi4NCj4gDQo+IEhhLiBHb29kIGNhdGNoLg0KPiBJJ20g
cHJldHR5IHN1cmUgd2Ugd2FudCB0byBzYXkgbWFudWZhY3R1cmVyIGNvbnNpc3RlbnRseS4NCj4g
VGhlIElFVEYgaGFzIG9mdGVuIHRhbGtlZCBhYm91dCB2ZW5kb3JzIHJhdGhlciB0aGFuIG1hbnVm
YWN0dXJlcnMsIHNvIHRoaXMNCj4gbWlnaHQgY2F1c2Ugc29tZSBjb25mdXNpb24uICBMZXQncyBn
byBhaGVhZCB3aXRoIHRoaXMgYW5kIHNlZSB3aGF0IGNvbmZ1c2lvbg0KPiB3ZSBjYXVzZS4NCj4g
DQo+IFRoZXJlIGlzIGEgZGlzdGluY3Rpb24gYmV0d2VlbiB2ZW5kb3IgKHdoaWNoIGdlbmVyYWxs
eSBpbmNsdWRlcyBWQVJzKSBhbmQNCj4gT0VNcy4NCj4gDQo+PiBGb3IgZXhhbXBsZTogQWJzdHJh
Y3Q6ICJ1c2luZyB2ZW5kb3IgaW5zdGFsbGVkIFguNTA5IGNlcnRpZmljYXRlIiAuLi4NCj4+ICJ2
ZW5kb3IncyBhdXRob3JpemluZyBzZXJ2aWNlIi4gVGhpcyBsYXR0ZXIgb25lIGRlZmluaXRlbHkg
c2VlbXMgdG8gYmUNCj4+IHdyb25nIChNQVNBID0gIm1hbnVmYWN0dXJlciBhdXRob3JpemllZC4u
Liwgbm90IHZlbmRvcikuDQo+IA0KPiBJJ3ZlIGFsc28gY29uZGVuc2VkIGEgbnVtYmVyIG9mIGNh
c2VzIGxpa2UgeW91IG5vdGljZWQ6DQo+ICAgICAidmVuZG9yIGF1dGhvcml6ZWQgTUFTQSBzZXJ2
aWNlIiAgPT0+IE1BU0ENCj4gDQo+IEkgYW0gY29uY2VybmVkIHRoYXQgd2UgbWlnaHQgbG9zZSBz
b21lIHN1YnRseSBiZXR3ZWVuIHRoZSBlbnRpdHkgdGhhdCBzb2xkDQo+IHRoZSBkZXZpY2UgdG8g
dGhlIGN1c3RvbWVyLCBhbmQgdGhlIGVudGl0eSB0aGF0IHNpZ25zIHRoZSB2b3VjaGVycy4NCj4g
V2UgdXNlZCB0aGUgdGVybSBNQVNBIHNwZWNpZmljYWxseSBiZWNhdXNlIHdlIHdlcmUgc3VyZSB0
aGF0IHRoZSBzZXJ2aWNlDQo+IHdvdWxkIGJlIG91dHNvdXJjZWQgYnkgbWFueSBtYW51ZmFjdHVy
ZXJzLg0KPiANCj4+IGIpICBLZXkgaW5mcmFzdHJ1Y3R1cmUNCj4gDQo+PiBUaGVyZSAgaXMgbm8g
ZGVmaW5pdGlvbi9yZWZlcmVuY2UgZm9yIHRoaXMgdGVybS4gIFBsZWFzZSBkZXNjcmliZSBvbg0K
Pj4gZmlyc3QgdXNlIGFuZCBpbiB0ZXJtaW5vbG9neS4gIElzIHRoZXJlIGEgZGlmZmVyZW5jZQ0K
Pj4gYmV0d2VlbiAia2V5IGluZnJhc3RydWN0dXJlIiBhbmQgICJrZXlpbmcgbWF0ZXJpYWwiID8g
SWYgbm90LCB0aGVuDQo+PiBtYXliZSByZW1vdmUgb25lIHRlcm0gb3RoZXJ3aXNlIHBscy4gZGVz
Y3JpYmUgZGlmZmVyZW5jZS4NCj4gDQo+IFRoZSB0ZXJtIGlzIGluIHRoZSB0aXRsZSBhbmQgaW4g
c2VjdGlvbiAxLg0KPiBBbmQgeW91IGFyZSByaWdodCB0aGF0IGl0IGRvZXMgbm90IGFwcGVhciBh
Z2Fpbiwgbm9yIGlzIGl0IGRlZmluZWQuDQo+IEkgdGhpbmsgaXQgZ2VuZXJhbGx5IHJlZmVycyB0
byB0aGUgbWVjaGFuaXNtIG9mIFBLSSwgYnV0IEknbSBub3Qgc3VyZSB3aGF0IHRvIGRvLg0KDQpB
biDigJxpbmZyYXN0cnVjdHVyZeKAnSBpcyB0aGUgYmFzaWMgZW50aXRpZXMgYW5kIHByb3RvY29s
cyBuZWNlc3NhcnkgZm9yIHRoZSBvcGVyYXRpb25zIG9mIGtleSBtYW5hZ2VtZW50LiBJIHRoaW5r
IGl0IGNvbWVzIGZyb20gdGhlIGNvbW1vbiBsYW5ndWFnZSB0ZXJtIGFuZCBjYW7igJl0IGZpbmQg
YSBub3JtYXRpdmUgZGVmaW5pdGlvbiB3aXRoaW4gSUVURiBkb2N1bWVudC4gQXMgYSBuYXRpdmUg
ZW5nbGlzaCBzcGVha2VyIHdobyBoYXMgdXNlZCB0aGUgY29uY2VwdCBpbiBJRVRGIGludGVyYWN0
aW9ucyBmb3IgZW9ucyBpdCBmZWVscyBzaWxseSB0byB0cnkgYW5kIGRlZmluZSBpdC4gT2RkLiAN
Cg0KS2V5IG1hbmFnZW1lbnQgaXRzZWxmIGlzIGRlZmluZWQgaW4gUkZDNDk0OSwgYWx0aG91Z2gg
aXJvbmljYWxseSBhIOKAnHB1YmxpYyBrZXkgaW5mcmFzdHJ1Y3R1cmXigJ0gb3Ig4oCca2V5IGlu
ZnJhc3RydWN0dXJl4oCdIGlzIG5vdCBkZWZpbmVkLiANCg0KIktleWluZyBtYXRlcmlhbCIgaXMg
ZGVmaW5lZCBpbiBSRkM0OTQ5Lg0KDQotIG1heA0KDQo+IA0KPj4gYykgKHRlcm1pbm9sb2d5KSBN
QVNBIGRlZmluaXRpb246ICJBIHRoaXJkLXBhcnR5IE1hbnVmYWN0dXJlci4uLiIuIFdoeSAidGhp
cmQtcGFydHkiID8NCj4+IHdobyBhcmUgdGhlIGZpcnN0IHR3byBwYXJ0aWVzID8gSWYgdGhpcyBp
cyBvbmx5IHNsYW5nIGFuZCB3ZSBjYW4ndCBleHBsYWluIHdobyB0aGUNCj4+IGZpcnN0IHR3byBw
YXJ0aWVzIGFyZSwgZGVsZXRlICJ0aGlyZC1wYXJ0eSIgPw0KPiANCj4gRml4ZWQuLi4gIFRoZSBm
aXJzdCBwYXJ0eSBpcyB0aGUgUGxlZGdlIGFuZCBtYW51ZmFjdHVyZXIuDQo+IFRoZSBzZWNvbmQg
cGFydHkgaXMgdGhlIERvbWFpbiBPd25lci4NCj4gVGhlIHRoaXJkIHBhcnR5IGlzIHRoZSBlbnRp
dHkgcnVubmluZyB0aGUgTUFTQSwgd2hpY2ggbWF5IG5vdCBiZSB0aGUgbWFudWZhY3R1cmVyLg0K
PiANCj4+IGQpICJEb21haW4gUmVnaXN0cmFyIiB2cy4gIkpvaW4gUmVnaXN0cmFyIiwgSlJDLiBF
c3BlY2lhbGx5IGJlY2F1c2UgdGhlIHRleHQgbW9zdGx5DQo+PiB1c2VzICJEb21haW4gUmVnaXN0
cmFyIiBhbmQgdmVyeSBzZWxkb20gIkpvaW4gUmVnaXN0YXIiLg0KPiANCj4gWWVzLCBiZWNhdXNl
IHdlIGFncmVlZCB0aGF0IHRoZSB0ZXJtIGFjcm9zcyBXR3Mgd291bGQgYmUgSlJDLCBhbmQgd2Ug
c2F5DQo+IGluIHRoZSB0ZXJtaW5vbG9neSB0aGF0IHdlIHNob3J0ZW4gaXQgdG8gUmVnaXN0cmFy
LiAgV2Ugc2F5ICJEb21haW4NCj4gUmVnaXN0cmFyIiBiZWNhdXNlIHdlIHdhbnQgdG8gbGluayBp
dCB0byB0aGUgUEtJIGNvbmNlcHQgb2YgYSBSZWdpc3RyYXRpb24NCj4gQXV0aG9yaXR5IChSQSku
DQo+IA0KPj4gSlJDIGlzIHVzZWQgaW4gZXhhY3RseSB0aHJlZSBwbGFjZXMgaW4gdGhlIGRyYWZ0
LiBJIGFsc28gY2FuIG5vdCBmaW5kIG9uIHd3dy5nb29nbGUuY29tDQo+PiBvciB3aWtpcGVkaWEg
YW55IGV4YW1wbGUgb2YgIlRoZSB0ZXJtIEpSQyBpcyB1c2VkIGluIGNvbW1vbiB3aXRoIG90aGVy
IGJvb3RzdHJhcA0KPj4gbWVjaGFuaXNtcyIgYXMgdGhlIFRlcm1pbm9sb2d5IGNsYWltcy4gRWl0
aGVyIHByb3ZpZGUgYSBub24tYW5pbWEgcmVmZXJlbmNlIGZvciB0aGUNCj4+IHVzZSBvZiB0aGF0
IHRlcm0gb3IgZWxpbWluYXRlIGl0IGluIHRoZSBkb2N1bWVudC4NCj4gDQo+IFdlIGFncmVlZCB0
byB1c2UgY29tbW9uIHRlcm1zLg0KPiBJdCB3YXMgYSB0aHJlYWQgb24gQU5JTUEgYW5kIDZ0aXNj
aCBhIHllYXIgYWdvLg0KPiBJIGNhbid0IGdldCBtYWlsYXJjaGl2ZSB0byBmaW5kIGl0IGZvciBt
ZS4uLg0KPiBBaCwgSSBzZWUgYmVjYXVzZSAiSlJDIiB3YXMgbmV2ZXIgdXNlZCBjb250cmFjdGVk
IGluIHRoYXQgdGhyZWFkLg0KPiAgICBodHRwczovL21haWxhcmNoaXZlLmlldGYub3JnL2FyY2gv
bXNnL2FuaW1hL2lvdEJNMC1reHNJQjY2dDhoQm80WFV0WkxhZw0KPiANCj4gQXMgbG9uZyBhcyB0
aGV5IEluZm9ybWF0aXZlIHJlZmVyZW5jZXMuDQo+IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRt
bC9kcmFmdC1pZXRmLTZ0aXNjaC1hcmNoaXRlY3R1cmUtMTMjc2VjdGlvbi02LjENCj4gaHR0cHM6
Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNnRpc2NoLXRlcm1pbm9sb2d5LTA5DQo+
ICAgICAgICAoeWVzLCBleHBpcmVkLCBidXQgbm90IGZvcmdvdHRlbiwganVzdCBub3QgYSBwcmlv
cml0eSkNCj4gDQo+PiBlKSBWb3VjaGVyDQo+PiAtIG1pc3NlcyAiOiIgYWZ0ZXIgdGVybS4NCj4+
IC0gcGxlYXNlIGNoYW5nZSAic3RhdGVtZW50IiB0byAiYXJ0aWZhY3QiIHNvIHRoZSB0ZXJtaW5v
bG9neSBhbGlnbnMgd2l0aCBib3RoIHZvdWNoZXINCj4+IGRyYWZ0IGFuZCB2b3VjaGVyLXJlcXVl
c3QgdGV4dCB3aGljaCBhbHNvIHVzZXMgYXJ0aWZhY3QuIFNlZSBhbHNvIHNlY3Rpb24gMi4yDQo+
PiB3aGVyZSB5b3UgdXNlICJjcnlwdG9ncmFwaGljYWxseSBwcm90ZWN0ZWQiIGluc3RlYWQgb2Yg
InNpZ25lZCIgYW5kIGZpZ3VyZSBvdXQNCj4+IHdoaWNoIHRlcm0geW91IHdhbnQgdG8gdXNlIGlu
IGFsbCBjYXNlcyAoaGludDogc2lnbmVkKS4NCj4gDQo+IEkndmUgY2hhbmdlZCBpdCB0bzoNCj4g
IDx0PkEgdm91Y2hlciBpcyBhIGNyeXB0b2dyYXBoaWNhbGx5IHByb3RlY3RlZCBhcnRpZmFjdCAo
YSBkaWdpdGFsIHNpZ25hdHVyZSkgdG8gdGhlIFBsZWRnZQ0KPiANCj4gSSBmZWVsIHRoYXQgd2Ug
bmVlZCB0byBzYXkgaXQncyBjcnlwdG9ncmFwaGljYWxseSBzaWduZWQgYXQgbGVhc3Qgb25jZS4N
Cj4gDQo+PiBmKSBJTVBPUlRBTlQ6IFBsZWFzZSBhZGQvZGVmaW5lIHRoZSB0ZXJtICJBTkkiDQo+
IA0KPj4gQU5JIC0gIkF1dG9ub21pYyBOZXR3b3JrIEluZnJhc3RydWN0dXJlIi4gU3lzdGVtcyB0
aGF0IHN1cHBvcnQgYm90aCBCUlNLSSBhbmQNCj4+IEF1dG9ub21pYyBDb250cm9sIHBsYW5lIC0g
QUNQIChbSS1ELmlldGYtYW5pbWEtYXV0b25vbWljLWNvbnRyb2wtcGxhbmVdKS4gQU5JDQo+PiBz
eXN0ZW1zIChwbGVkZ2VzLCBwcm94aWVzLCByZWdpc3RyYXIpIGhhdmUgc3BlY2lmaWMgcmVxdWly
ZW1lbnRzIGRldGFpbGxlZCBpbg0KPj4gdGhlIGRvY3VtZW50Lg0KPiANCj4gICAgICAgICAgICA8
dCBoYW5nVGV4dD0iQU5JOiI+VGhlIEF1dG9ub21pYyBOZXR3b3JrIEluZnJhc3RydWN0dXJlIGFz
DQo+ICAgICAgICAgICAgZGVmaW5lZCBieSA8eHJlZiB0YXJnZXQ9IkktRC5pZXRmLWFuaW1hLWF1
dG9ub21pYy1jb250cm9sLXBsYW5lIg0KPiAgICAgICAgICAgIC8+LiAgVGhpcyBkb2N1bWVudCBk
ZXRhaWxzIHNwZWNpZmljIHJlcXVpcmVtZW50cyBmb3IgcGxlZGdlcywNCj4gICAgICAgICAgICBw
cm94aWVzIGFuZCByZWdpc3RyYXJzIHdoZW4gdGhleSBhcmUgcGFydCBvZiBhbiBBTkkuPC90Pg0K
PiANCj4gRG9lcyB0aGlzIHdvcmsgZm9yIHlvdT8NCj4gDQo+PiBXaXRob3V0IHRoaXMgdGVybSB3
ZSBjYW4gbm90IG5haWwgZG93biB0aGUgZXhwbGljaXQgcmVxdWlyZW1lbnRzIGFnYWluc3QNCj4+
IEFOSSBQbGVkZ2VzLCBQcm94aWVzLCBSZWdpc3RyYXJzIHRoYXQgd2UgbmVlZCBmcm9tIHRoZSBk
b2N1bWVudCAoYW5kIGRpc3Rpbmd1aXNoDQo+PiBmcm9tIHJlcXVpcmVtZW50cyBhZ2FpbnN0IGFu
eSBub24tQU5JIGFkYXB0YXRpb24gb2YgQlJTS0kpLiBJIGFkZGVkIGFjY29yZGluZw0KPj4gY29t
bWVudHMgaW50byBvdGhlciBwYXJ0cyBvZiB0aGUgZG9jLg0KPiANCj4+IGcpIFBsZWFzZSByZXBs
YWNlICJNQVNBIHNlcnZlciIgd2l0aCAiTUFTQSBzZXJ2aWNlIiBldmVyeXdoZXJlLg0KPiANCj4g
SSBwcmVmZXIgdG8ganVzdCBzYXkgIk1BU0EiIGFjdHVhbGx5Lg0KPiBBcmUgeW91IG9rYXkgd2l0
aCB0aGF0Pw0KPiANCj4gTGV0IG1lIHdyYXAgdXAgaGVyZSBmb3IgdGhlIG1vbWVudCBzbyB5b3Ug
Y2FuIHNlZSB0aGUgZWRpdHMgYW5kDQo+IEknbGwgcmVwbHkgdG8gdGhlIHJlc3QgYXMgTWF4IGFu
ZCBJIGRpZ2VzdCBpdC4gIEl0J3MgYSBsb3Qgb2YgY29tbWVudHMuDQo+IEknZCBsaWtlIHRvIHB1
c2ggYW4gLTExIChpZiBvbmx5IHRvIGZpeCBlbWFpbCBmb3IgTS4gQmVocmluZ2VyKS4NCj4gDQo+
ICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmltYS13Zy9hbmltYS1ib290c3RyYXAvcHVsbC80Mg0K
PiAgICBodHRwczovL2dpdGh1Yi5jb20vYW5pbWEtd2cvYW5pbWEtYm9vdHN0cmFwL3B1bGwvNDIv
Y29tbWl0cy9jYjdhZjY2MzQ0YWQ3MDlhYWY3MDI4N2E0MGZhMTNhNjdiYmY2MDFjDQo+IA0KPiAN
Cj4gLS0NCj4gTWljaGFlbCBSaWNoYXJkc29uIDxtY3IrSUVURkBzYW5kZWxtYW4uY2E+LCBTYW5k
ZWxtYW4gU29mdHdhcmUgV29ya3MNCj4gLT0gSVB2NiBJb1QgY29uc3VsdGluZyA9LQ0KPiANCj4g
DQo+IA0KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0K
PiBBbmltYSBtYWlsaW5nIGxpc3QNCj4gQW5pbWFAaWV0Zi5vcmcNCj4gaHR0cHM6Ly93d3cuaWV0
Zi5vcmcvbWFpbG1hbi9saXN0aW5mby9hbmltYQ0KDQpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpBbmltYSBtYWlsaW5nIGxpc3QKQW5pbWFAaWV0Zi5vcmcK
aHR0cHM6Ly93d3cuaWV0Zi5vcmcvbWFpbG1hbi9saXN0aW5mby9hbmltYQo=

From anima-bounces@ietf.org  Thu Feb 15 18:14:44 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=5.0
	tests=HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_MED=-2.3,
	RCVD_IN_MSPIKE_H2=-0.001,T_RP_MATCHES_RCVD=-0.01 autolearn=disabled
	version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 9CA0158C53C;
	Thu, 15 Feb 2018 18:14:44 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [4.31.198.44])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id D4BCC74E230;
	Thu, 15 Feb 2018 18:14:41 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 7F7CA12DB6C;
	Thu, 15 Feb 2018 09:14:40 -0800 (PST)
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 09FDA129C56
 for <anima@ietfa.amsl.com>; Thu, 15 Feb 2018 09:14:38 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id S2z7kfpkdYdj for <anima@ietfa.amsl.com>;
 Thu, 15 Feb 2018 09:14:34 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [131.188.34.40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id BD46712DA41
 for <anima@ietf.org>; Thu, 15 Feb 2018 09:14:32 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id 642CE58C53C;
 Thu, 15 Feb 2018 18:14:28 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id 46A3DB0DA80; Thu, 15 Feb 2018 18:14:28 +0100 (CET)
Date: Thu, 15 Feb 2018 18:14:28 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: "Max Pritikin (pritikin)" <pritikin@cisco.com>
Message-ID: <20180215171428.GD27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <11878.1518662730@obiwan.sandelman.ca>
 <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/dv752uXAVJDcjn3IWAT6gPdYaPk>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: Michael Richardson <mcr+ietf@sandelman.ca>,
 "anima@ietf.org" <anima@ietf.org>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: O
Content-Length: 7527
Lines: 167

On Thu, Feb 15, 2018 at 04:06:33PM +0000, Max Pritikin (pritikin) wrote:
> >> b)  Key infrastructure
> > 
> >> There  is no definition/reference for this term.  Please describe on
> >> first use and in terminology.  Is there a difference
> >> between "key infrastructure" and  "keying material" ? If not, then
> >> maybe remove one term otherwise pls. describe difference.
> > 
> > The term is in the title and in section 1.
> > And you are right that it does not appear again, nor is it defined.
> > I think it generally refers to the mechanism of PKI, but I'm not sure what to do.

> "Keying material" is defined in RFC4949.

Well... RFC4949: keying material
    1. (I) Data that is needed to establish and maintain a
       cryptographic security association, such as keys, key pairs, and IVs.

Can you explain to me how i should deduce from that explanation whether
certificates are keying material or not ?

IMHO, I need certificates to establish (authenticate) the cryptographic security
association when i am using certificates.  Likewise would a voucher
be keying material because it is required for authentication.

But the term itself "keying material" implies to a non-native english speaker
that this is more likely something like a generalisation of "keys" in
cypto algorithms:

  output = crypto_algorithm(data,keying_material)

and in that sense certificates or vouchers are never keying material
because they would always be classified as the data portion of any
crypto_algorithm (used for establishment of a crypto association).

> An ???infrastructure??? is the basic entities and protocols necessary for the operations of key management. I think it comes from the common language term and can???t find a normative definition within IETF document. As a native english speaker who has used the concept in IETF interactions for eons it feels silly to try and define it. Odd. 

Is this correct:

brski keying material = public/private key pairs of IDevID of Pledge and certs of registrar, CA, MASA.
  Possible non-crypto speaker confusion: are certs/vouchers part of keying material ? (see above)

brski keying entities = pledge + registrar + CA ( + MASA ?)
  Possible non-crypto speaker confusion: Is MASA part of keying entities ?
  If keying material is just the public key pairs, then probably not ?
  But would BRSKI without a following EST part even be "keying entities" ?

brski keying protocols = BRSKI+ EST (pledge/registrar), EST (registrar/MASA), BRSKI-EST (registrar/MASA)

brski keying infrastructure = brski keying entities + brski keying protocols
 
Or whatever else is correct in the context of BRSKI. Better to just enumerate whats
meant like i suggested above instead of trying generic definitions because those
can fail on non-native crypto speakers like my above confusion with rfc4949.

Also it wold be good if there was a clear understanding if BRSKI claims to expand
the scope of any of these terms. Eg: If MASA or vouchers are now considered to
be part of any prior existing terms such as keying material or keying infra. I
guess that "keying protocols" are definitely expanded by BRSKI...

Cheers
    Toerless

> 
> - max
> 
> > 
> >> c) (terminology) MASA definition: "A third-party Manufacturer...". Why "third-party" ?
> >> who are the first two parties ? If this is only slang and we can't explain who the
> >> first two parties are, delete "third-party" ?
> > 
> > Fixed...  The first party is the Pledge and manufacturer.
> > The second party is the Domain Owner.
> > The third party is the entity running the MASA, which may not be the manufacturer.
> > 
> >> d) "Domain Registrar" vs. "Join Registrar", JRC. Especially because the text mostly
> >> uses "Domain Registrar" and very seldom "Join Registar".
> > 
> > Yes, because we agreed that the term across WGs would be JRC, and we say
> > in the terminology that we shorten it to Registrar.  We say "Domain
> > Registrar" because we want to link it to the PKI concept of a Registration
> > Authority (RA).
> > 
> >> JRC is used in exactly three places in the draft. I also can not find on www.google.com
> >> or wikipedia any example of "The term JRC is used in common with other bootstrap
> >> mechanisms" as the Terminology claims. Either provide a non-anima reference for the
> >> use of that term or eliminate it in the document.
> > 
> > We agreed to use common terms.
> > It was a thread on ANIMA and 6tisch a year ago.
> > I can't get mailarchive to find it for me...
> > Ah, I see because "JRC" was never used contracted in that thread.
> >    https://mailarchive.ietf.org/arch/msg/anima/iotBM0-kxsIB66t8hBo4XUtZLag
> > 
> > As long as they Informative references.
> > https://tools.ietf.org/html/draft-ietf-6tisch-architecture-13#section-6.1
> > https://tools.ietf.org/html/draft-ietf-6tisch-terminology-09
> >        (yes, expired, but not forgotten, just not a priority)
> > 
> >> e) Voucher
> >> - misses ":" after term.
> >> - please change "statement" to "artifact" so the terminology aligns with both voucher
> >> draft and voucher-request text which also uses artifact. See also section 2.2
> >> where you use "cryptographically protected" instead of "signed" and figure out
> >> which term you want to use in all cases (hint: signed).
> > 
> > I've changed it to:
> >  <t>A voucher is a cryptographically protected artifact (a digital signature) to the Pledge
> > 
> > I feel that we need to say it's cryptographically signed at least once.
> > 
> >> f) IMPORTANT: Please add/define the term "ANI"
> > 
> >> ANI - "Autonomic Network Infrastructure". Systems that support both BRSKI and
> >> Autonomic Control plane - ACP ([I-D.ietf-anima-autonomic-control-plane]). ANI
> >> systems (pledges, proxies, registrar) have specific requirements detailled in
> >> the document.
> > 
> >            <t hangText="ANI:">The Autonomic Network Infrastructure as
> >            defined by <xref target="I-D.ietf-anima-autonomic-control-plane"
> >            />.  This document details specific requirements for pledges,
> >            proxies and registrars when they are part of an ANI.</t>
> > 
> > Does this work for you?
> > 
> >> Without this term we can not nail down the explicit requirements against
> >> ANI Pledges, Proxies, Registrars that we need from the document (and distinguish
> >> from requirements against any non-ANI adaptation of BRSKI). I added according
> >> comments into other parts of the doc.
> > 
> >> g) Please replace "MASA server" with "MASA service" everywhere.
> > 
> > I prefer to just say "MASA" actually.
> > Are you okay with that?
> > 
> > Let me wrap up here for the moment so you can see the edits and
> > I'll reply to the rest as Max and I digest it.  It's a lot of comments.
> > I'd like to push an -11 (if only to fix email for M. Behringer).
> > 
> >    https://github.com/anima-wg/anima-bootstrap/pull/42
> >    https://github.com/anima-wg/anima-bootstrap/pull/42/commits/cb7af66344ad709aaf70287a40fa13a67bbf601c
> > 
> > 
> > --
> > Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
> > -= IPv6 IoT consulting =-
> > 
> > 
> > 
> > _______________________________________________
> > Anima mailing list
> > Anima@ietf.org
> > https://www.ietf.org/mailman/listinfo/anima
> 
> _______________________________________________
> Anima mailing list
> Anima@ietf.org
> https://www.ietf.org/mailman/listinfo/anima

-- 
---
tte@cs.fau.de

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From pritikin@cisco.com  Thu Feb 15 18:32:41 2018
Return-Path: <pritikin@cisco.com>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-9.9 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,DKIM_VALID_AU=-0.1,RCVD_IN_DNSWL_MED=-2.3,
	USER_IN_DEF_DKIM_WL=-7.5 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 4553A58C546
	for <eckert@i4.informatik.uni-erlangen.de>; Thu, 15 Feb 2018 18:32:41 +0100 (CET)
Received: from rcdn-iport-5.cisco.com (rcdn-iport-5.cisco.com [173.37.86.76])
	(using TLSv1.2 with cipher DHE-RSA-SEED-SHA (128/128 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 900E874E188
	for <tte@cs.fau.de>; Thu, 15 Feb 2018 18:32:37 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=@cisco.com; l=12954; q=dns/txt;
  s=iport; t=1518715957; x=1519925557;
  h=from:to:cc:subject:date:message-id:references:
   in-reply-to:content-id:content-transfer-encoding:
   mime-version;
  bh=f17oXPDPPscY9Hf0BhbHhyKg1QEkwmTl37ogODk7CCk=;
  b=EwvCbRv2P8fDG2EC9ebQMwrNpXxgL3zOiAw314n8EwoLwNdLhISAu4Z8
   bezMHCOC2te9LnMxVylNYEiIw7WY4MVw1CYi7hgTP0ZoNL1XbdjxKH7ZA
   OscaHYpMb8ydm1OdFmbGe3J7YCPiwlmf4G37olP9egqo/N+Mu6FublxUl
   k=;
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0DxAgD2w4Va/4oNJK1dGQEBAQEBAQEBA?=
 =?us-ascii?q?QEBAQcBAQEBAYNSZnAoCoNbmCmBWyd8G5ZFFYEkA1wKGA2BXIM6AhqCKFUXAQI?=
 =?us-ascii?q?BAQEBAQECayiFIwEBAQMBAQEhERUlCwULAgEIDgQGAgImAgICJQsVAg4CBA4Fi?=
 =?us-ascii?q?i0IEK5egieFAYN7ghMBAQEBAQEBAQEBAQEBAQEBAQEBAQEdgQ+DdIEOgRmDPyk?=
 =?us-ascii?q?MgkM2gy8BAQIBgTsBEgEJFoMXMYI0BYpkF4lKj20JAogejWWCH4Yqi32LFoJvi?=
 =?us-ascii?q?WoCERkBgTsBIAE3Mi5xcBUZJCoBghsJhG54AQmLdYElgRkBAQE?=
X-IronPort-AV: E=Sophos;i="5.46,517,1511827200"; 
   d="scan'208";a="138527193"
Received: from alln-core-5.cisco.com ([173.36.13.138])
  by rcdn-iport-5.cisco.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 15 Feb 2018 17:32:31 +0000
Received: from XCH-RCD-013.cisco.com (xch-rcd-013.cisco.com [173.37.102.23])
	by alln-core-5.cisco.com (8.14.5/8.14.5) with ESMTP id w1FHWVBd025297
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=FAIL);
	Thu, 15 Feb 2018 17:32:31 GMT
Received: from xch-aln-013.cisco.com (173.36.7.23) by XCH-RCD-013.cisco.com
 (173.37.102.23) with Microsoft SMTP Server (TLS) id 15.0.1320.4; Thu, 15 Feb
 2018 11:32:30 -0600
Received: from xch-aln-013.cisco.com ([173.36.7.23]) by XCH-ALN-013.cisco.com
 ([173.36.7.23]) with mapi id 15.00.1320.000; Thu, 15 Feb 2018 11:32:30 -0600
From: "Max Pritikin (pritikin)" <pritikin@cisco.com>
To: Toerless Eckert <tte@cs.fau.de>
CC: Michael Richardson <mcr+ietf@sandelman.ca>,
        "anima@ietf.org"
	<anima@ietf.org>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
Thread-Topic: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
Thread-Index: AQHTpgcblAy+qFNx50mP05nV7UQFlKOmBmyAgAAS+QCAAAUJgA==
Date: Thu, 15 Feb 2018 17:32:30 +0000
Message-ID: <41CDDDDE-1098-4836-8338-738C02ED8F0E@cisco.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <11878.1518662730@obiwan.sandelman.ca>
 <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
 <20180215171428.GD27823@faui40p.informatik.uni-erlangen.de>
In-Reply-To: <20180215171428.GD27823@faui40p.informatik.uni-erlangen.de>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.99.106.5]
Content-Type: text/plain; charset="utf-8"
Content-ID: <700094C7663B46428D8C4C6184928A8D@emea.cisco.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: O
Content-Length: 12787
Lines: 167

DQoNCj4gT24gRmViIDE1LCAyMDE4LCBhdCAxMDoxNCBBTSwgVG9lcmxlc3MgRWNrZXJ0IDx0dGVA
Y3MuZmF1LmRlPiB3cm90ZToNCj4gDQo+IE9uIFRodSwgRmViIDE1LCAyMDE4IGF0IDA0OjA2OjMz
UE0gKzAwMDAsIE1heCBQcml0aWtpbiAocHJpdGlraW4pIHdyb3RlOg0KPj4+PiBiKSAgS2V5IGlu
ZnJhc3RydWN0dXJlDQo+Pj4gDQo+Pj4+IFRoZXJlICBpcyBubyBkZWZpbml0aW9uL3JlZmVyZW5j
ZSBmb3IgdGhpcyB0ZXJtLiAgUGxlYXNlIGRlc2NyaWJlIG9uDQo+Pj4+IGZpcnN0IHVzZSBhbmQg
aW4gdGVybWlub2xvZ3kuICBJcyB0aGVyZSBhIGRpZmZlcmVuY2UNCj4+Pj4gYmV0d2VlbiAia2V5
IGluZnJhc3RydWN0dXJlIiBhbmQgICJrZXlpbmcgbWF0ZXJpYWwiID8gSWYgbm90LCB0aGVuDQo+
Pj4+IG1heWJlIHJlbW92ZSBvbmUgdGVybSBvdGhlcndpc2UgcGxzLiBkZXNjcmliZSBkaWZmZXJl
bmNlLg0KPj4+IA0KPj4+IFRoZSB0ZXJtIGlzIGluIHRoZSB0aXRsZSBhbmQgaW4gc2VjdGlvbiAx
Lg0KPj4+IEFuZCB5b3UgYXJlIHJpZ2h0IHRoYXQgaXQgZG9lcyBub3QgYXBwZWFyIGFnYWluLCBu
b3IgaXMgaXQgZGVmaW5lZC4NCj4+PiBJIHRoaW5rIGl0IGdlbmVyYWxseSByZWZlcnMgdG8gdGhl
IG1lY2hhbmlzbSBvZiBQS0ksIGJ1dCBJJ20gbm90IHN1cmUgd2hhdCB0byBkby4NCj4gDQo+PiAi
S2V5aW5nIG1hdGVyaWFsIiBpcyBkZWZpbmVkIGluIFJGQzQ5NDkuDQo+IA0KPiBXZWxsLi4uIFJG
QzQ5NDk6IGtleWluZyBtYXRlcmlhbA0KPiAgICAxLiAoSSkgRGF0YSB0aGF0IGlzIG5lZWRlZCB0
byBlc3RhYmxpc2ggYW5kIG1haW50YWluIGENCj4gICAgICAgY3J5cHRvZ3JhcGhpYyBzZWN1cml0
eSBhc3NvY2lhdGlvbiwgc3VjaCBhcyBrZXlzLCBrZXkgcGFpcnMsIGFuZCBJVnMuDQo+IA0KPiBD
YW4geW91IGV4cGxhaW4gdG8gbWUgaG93IGkgc2hvdWxkIGRlZHVjZSBmcm9tIHRoYXQgZXhwbGFu
YXRpb24gd2hldGhlcg0KPiBjZXJ0aWZpY2F0ZXMgYXJlIGtleWluZyBtYXRlcmlhbCBvciBub3Qg
Pw0KDQpDZXJ0aWZpY2F0ZXMgYXJlIGEgZGF0YSBmb3JtYXQgZm9yIGVuY29kaW5nIHB1YmxpYyBr
ZXlzIGFuZCBhc3NvY2lhdGVkIGNlcnRpZmljYXRpb25zIChlLmcuIHRoZSBDQSBzaWduYXR1cmUp
IGV0Yy4gSSB0aGluayB0aGlzIGNvdWxkIHJlYXNvbmFibHkgYmUgY2FsbGVkIGRhdGEgbmVlZGVk
IHRvIGVzdGFibGlzaCBhIGNyeXB0b2dyYXBoaWMgc2VjdXJpdHkgYXNzb2NpYXRpb24uIA0KDQo+
IA0KPiBJTUhPLCBJIG5lZWQgY2VydGlmaWNhdGVzIHRvIGVzdGFibGlzaCAoYXV0aGVudGljYXRl
KSB0aGUgY3J5cHRvZ3JhcGhpYyBzZWN1cml0eQ0KPiBhc3NvY2lhdGlvbiB3aGVuIGkgYW0gdXNp
bmcgY2VydGlmaWNhdGVzLiAgTGlrZXdpc2Ugd291bGQgYSB2b3VjaGVyDQo+IGJlIGtleWluZyBt
YXRlcmlhbCBiZWNhdXNlIGl0IGlzIHJlcXVpcmVkIGZvciBhdXRoZW50aWNhdGlvbi4NCg0KSWYg
d2XigJlyZSBzdHJldGNoaW5nIGxpa2UgdGhpcyB0aGVuIHN1cmUuIEEgdm91Y2hlciBpcyBhIGNl
cnRpZmljYXRpb24gb2YgYSBwdWJsaWMga2V5ICh0aGUgbmV3IG93bmVyKSBhbG9uZyB3aXRoIGFk
ZGl0aW9uYWwgZGF0YSB1c2VkIHRvIGludGVycHJldCB0aGUgY2VydGlmaWNhdGlvbi4gSWYgeW91
IGtlZXAgZ29pbmcgZG93biB0aGF0IHBhdGggeW914oCZcmUgZ29ubmEgZW5kIHVwIGNsYWltaW5n
IHdlIHNob3VsZCBoYXZlIHNpbXBseSBoYWQgYW4gWDUwOSBleHRlbnNpb24gaW5zdGVhZCBvZiBh
IHZvdWNoZXIgZm9ybWF0LiBUaGVyZSBhcmUgcmVhc29ucyB3ZSBkaWRu4oCZdCBnbyB0aGF0IHdh
eSBidXQgSSBjb3VsZCBzZWUgYSB3b3JsZCB3aGVyZSB0aGF0IGhhcHBlbmVkICh0aGFua2Z1bGx5
IG5vdCBvdXIgcmVhbGl0eSB0aG91Z2gpLiANCg0KPiBCdXQgdGhlIHRlcm0gaXRzZWxmICJrZXlp
bmcgbWF0ZXJpYWwiIGltcGxpZXMgdG8gYSBub24tbmF0aXZlIGVuZ2xpc2ggc3BlYWtlcg0KPiB0
aGF0IHRoaXMgaXMgbW9yZSBsaWtlbHkgc29tZXRoaW5nIGxpa2UgYSBnZW5lcmFsaXNhdGlvbiBv
ZiAia2V5cyIgaW4NCj4gY3lwdG8gYWxnb3JpdGhtczoNCj4gDQo+ICBvdXRwdXQgPSBjcnlwdG9f
YWxnb3JpdGhtKGRhdGEsa2V5aW5nX21hdGVyaWFsKQ0KPiANCj4gYW5kIGluIHRoYXQgc2Vuc2Ug
Y2VydGlmaWNhdGVzIG9yIHZvdWNoZXJzIGFyZSBuZXZlciBrZXlpbmcgbWF0ZXJpYWwNCj4gYmVj
YXVzZSB0aGV5IHdvdWxkIGFsd2F5cyBiZSBjbGFzc2lmaWVkIGFzIHRoZSBkYXRhIHBvcnRpb24g
b2YgYW55DQo+IGNyeXB0b19hbGdvcml0aG0gKHVzZWQgZm9yIGVzdGFibGlzaG1lbnQgb2YgYSBj
cnlwdG8gYXNzb2NpYXRpb24pLg0KDQpUaGV5IGJvdGggaW5jbHVkZSBwdWJsaWMga2V5IGRhdGEu
IFRoYXQga2V5IG1hdGVyaWFsLiANCg0KPiANCj4+IEFuID8/P2luZnJhc3RydWN0dXJlPz8/IGlz
IHRoZSBiYXNpYyBlbnRpdGllcyBhbmQgcHJvdG9jb2xzIG5lY2Vzc2FyeSBmb3IgdGhlIG9wZXJh
dGlvbnMgb2Yga2V5IG1hbmFnZW1lbnQuIEkgdGhpbmsgaXQgY29tZXMgZnJvbSB0aGUgY29tbW9u
IGxhbmd1YWdlIHRlcm0gYW5kIGNhbj8/P3QgZmluZCBhIG5vcm1hdGl2ZSBkZWZpbml0aW9uIHdp
dGhpbiBJRVRGIGRvY3VtZW50LiBBcyBhIG5hdGl2ZSBlbmdsaXNoIHNwZWFrZXIgd2hvIGhhcyB1
c2VkIHRoZSBjb25jZXB0IGluIElFVEYgaW50ZXJhY3Rpb25zIGZvciBlb25zIGl0IGZlZWxzIHNp
bGx5IHRvIHRyeSBhbmQgZGVmaW5lIGl0LiBPZGQuIA0KPiANCj4gSXMgdGhpcyBjb3JyZWN0Og0K
PiANCj4gYnJza2kga2V5aW5nIG1hdGVyaWFsID0gcHVibGljL3ByaXZhdGUga2V5IHBhaXJzIG9m
IElEZXZJRCBvZiBQbGVkZ2UgYW5kIGNlcnRzIG9mIHJlZ2lzdHJhciwgQ0EsIE1BU0EuDQo+ICBQ
b3NzaWJsZSBub24tY3J5cHRvIHNwZWFrZXIgY29uZnVzaW9uOiBhcmUgY2VydHMvdm91Y2hlcnMg
cGFydCBvZiBrZXlpbmcgbWF0ZXJpYWwgPyAoc2VlIGFib3ZlKQ0KDQpJIHRoaW5rIHNvLiBBbnl0
aW1lIHdlIHRhbGsgYWJvdXQgcmF3IHB1YmxpYyBrZXlzLCBjZXJ0aWZpY2F0ZXMsIHZvdWNoZXJz
LCBldGMgd2UgaGF2ZSB0byBkaXNjdXNzIGFsbCB0aGUgc2FtZSBrZXkgbWFuYWdlbWVudCBpc3N1
ZXMgKHVwZGF0aW5nIHRoZW0sIGxpZmV0aW1lcywgcmV2b2NhdGlvbnMsIGV0YykuIA0KDQo+IA0K
PiBicnNraSBrZXlpbmcgZW50aXRpZXMgPSBwbGVkZ2UgKyByZWdpc3RyYXIgKyBDQSAoICsgTUFT
QSA/KQ0KPiAgUG9zc2libGUgbm9uLWNyeXB0byBzcGVha2VyIGNvbmZ1c2lvbjogSXMgTUFTQSBw
YXJ0IG9mIGtleWluZyBlbnRpdGllcyA/DQo+ICBJZiBrZXlpbmcgbWF0ZXJpYWwgaXMganVzdCB0
aGUgcHVibGljIGtleSBwYWlycywgdGhlbiBwcm9iYWJseSBub3QgPw0KDQpXaHkgbm90PyBJdHMg
YWxsIHBhcnQgb2YgdGhlIGtleSBpbmZyYXN0cnVjdHVyZSBpbiB0aGF0IHRoZXNlIGFyZSB0aGUg
ZW50aXRpZXMgKGFuZCBhc3NvY2lhdGVkIHByb3RvY29scyEpIG5lZWRlZCB0byBtYW5hZ2UgYWxs
IHRoZSBrZXkgbWF0ZXJpYWwuIA0KDQpUaGVyZSBpcyBzb21ldGhpbmcgZGlmZmVyZW50IGFib3V0
IOKAnGF1dGhlbnRpY2F0aW9uIGtleSBtYXRlcmlhbOKAnSBhbmQg4oCcY2VydGlmaWNhdGlvbiBr
ZXkgbWF0ZXJpYWzigJ0gYnV0IGlzIGl0IG5lY2Vzc2FyeSBmb3IgdXMgdG8gZ2V0IGludG8gdGhv
c2UgcGVkYW50aWMgYXJlYXM/IEFyZSB5b3UgcHJvcG9zaW5nIGFuIHVwZGF0ZSB0byBSRkM0OTQ5
PyBXaGVyZSBhcmUgd2UgZ29pbmcgd2l0aCB0aGlzPyANCg0KPiAgQnV0IHdvdWxkIEJSU0tJIHdp
dGhvdXQgYSBmb2xsb3dpbmcgRVNUIHBhcnQgZXZlbiBiZSAia2V5aW5nIGVudGl0aWVz4oCdID/i
gJkNCg0KQlJTS0kgYW5kIEVTVCBhcmUgcHJvdG9jb2xzIG5vdCDigJxlbnRpdGllc+KAnS4gQnV0
IHllcywgQlJTS0kgaXMgYSBwYXJ0IG9mIHRoZSBrZXkgaW5mcmFzdHJ1Y3R1cmUuIEl0IGlzIHRo
ZSBwcm90b2NvbCBmb3Ig4oCcYm9vdHN0cmFwcGluZyBbdGhlXSByZW1vdGUgW3BvcnRpb24gb2Yg
dGhlXSBzZWN1cmUga2V5IGluZnJhc3RydWN0dXJl4oCdLiANCg0KPiBicnNraSBrZXlpbmcgcHJv
dG9jb2xzID0gQlJTS0krIEVTVCAocGxlZGdlL3JlZ2lzdHJhciksIEVTVCAocmVnaXN0cmFyL01B
U0EpLCBCUlNLSS1FU1QgKHJlZ2lzdHJhci9NQVNBKQ0KPiANCj4gYnJza2kga2V5aW5nIGluZnJh
c3RydWN0dXJlID0gYnJza2kga2V5aW5nIGVudGl0aWVzICsgYnJza2kga2V5aW5nIHByb3RvY29s
cw0KPiANCj4gT3Igd2hhdGV2ZXIgZWxzZSBpcyBjb3JyZWN0IGluIHRoZSBjb250ZXh0IG9mIEJS
U0tJLiBCZXR0ZXIgdG8ganVzdCBlbnVtZXJhdGUgd2hhdHMNCj4gbWVhbnQgbGlrZSBpIHN1Z2dl
c3RlZCBhYm92ZSBpbnN0ZWFkIG9mIHRyeWluZyBnZW5lcmljIGRlZmluaXRpb25zIGJlY2F1c2Ug
dGhvc2UNCj4gY2FuIGZhaWwgb24gbm9uLW5hdGl2ZSBjcnlwdG8gc3BlYWtlcnMgbGlrZSBteSBh
Ym92ZSBjb25mdXNpb24gd2l0aCByZmM0OTQ5Lg0KPiANCj4gQWxzbyBpdCB3b2xkIGJlIGdvb2Qg
aWYgdGhlcmUgd2FzIGEgY2xlYXIgdW5kZXJzdGFuZGluZyBpZiBCUlNLSSBjbGFpbXMgdG8gZXhw
YW5kDQo+IHRoZSBzY29wZSBvZiBhbnkgb2YgdGhlc2UgdGVybXMuIEVnOiBJZiBNQVNBIG9yIHZv
dWNoZXJzIGFyZSBub3cgY29uc2lkZXJlZCB0bw0KPiBiZSBwYXJ0IG9mIGFueSBwcmlvciBleGlz
dGluZyB0ZXJtcyBzdWNoIGFzIGtleWluZyBtYXRlcmlhbCBvciBrZXlpbmcgaW5mcmEuIEkNCj4g
Z3Vlc3MgdGhhdCAia2V5aW5nIHByb3RvY29scyIgYXJlIGRlZmluaXRlbHkgZXhwYW5kZWQgYnkg
QlJTS0nigKYNCg0KQmFzZWQgb24gdGhlIGFib3ZlIEkgdGhpbmsgaXRzIGZhaXIgdG8gc2F5IHRo
YXQ6DQoNClZvdWNoZXLigJlzIGV4cGFuZCBvbiB0aGUgZGVmaW5lZCBrZXkgbWF0ZXJpYWwgZGF0
YSB0eXBlcy4gDQpCUlNLSSBwcm90b2NvbCBhbmQgTUFTQSBlbnRpdHkgZXhwYW5kIG9uIHRoZSBk
ZWZpbmVkIHR5cGVzIG9mIGtleSBpbmZyYXN0cnVjdHVyZSBlbGVtZW50cy4gDQoNCi0gbWF4DQoN
Cj4gDQo+IENoZWVycw0KPiAgICBUb2VybGVzcw0KPiANCj4+IA0KPj4gLSBtYXgNCj4+IA0KPj4+
IA0KPj4+PiBjKSAodGVybWlub2xvZ3kpIE1BU0EgZGVmaW5pdGlvbjogIkEgdGhpcmQtcGFydHkg
TWFudWZhY3R1cmVyLi4uIi4gV2h5ICJ0aGlyZC1wYXJ0eSIgPw0KPj4+PiB3aG8gYXJlIHRoZSBm
aXJzdCB0d28gcGFydGllcyA/IElmIHRoaXMgaXMgb25seSBzbGFuZyBhbmQgd2UgY2FuJ3QgZXhw
bGFpbiB3aG8gdGhlDQo+Pj4+IGZpcnN0IHR3byBwYXJ0aWVzIGFyZSwgZGVsZXRlICJ0aGlyZC1w
YXJ0eSIgPw0KPj4+IA0KPj4+IEZpeGVkLi4uICBUaGUgZmlyc3QgcGFydHkgaXMgdGhlIFBsZWRn
ZSBhbmQgbWFudWZhY3R1cmVyLg0KPj4+IFRoZSBzZWNvbmQgcGFydHkgaXMgdGhlIERvbWFpbiBP
d25lci4NCj4+PiBUaGUgdGhpcmQgcGFydHkgaXMgdGhlIGVudGl0eSBydW5uaW5nIHRoZSBNQVNB
LCB3aGljaCBtYXkgbm90IGJlIHRoZSBtYW51ZmFjdHVyZXIuDQo+Pj4gDQo+Pj4+IGQpICJEb21h
aW4gUmVnaXN0cmFyIiB2cy4gIkpvaW4gUmVnaXN0cmFyIiwgSlJDLiBFc3BlY2lhbGx5IGJlY2F1
c2UgdGhlIHRleHQgbW9zdGx5DQo+Pj4+IHVzZXMgIkRvbWFpbiBSZWdpc3RyYXIiIGFuZCB2ZXJ5
IHNlbGRvbSAiSm9pbiBSZWdpc3RhciIuDQo+Pj4gDQo+Pj4gWWVzLCBiZWNhdXNlIHdlIGFncmVl
ZCB0aGF0IHRoZSB0ZXJtIGFjcm9zcyBXR3Mgd291bGQgYmUgSlJDLCBhbmQgd2Ugc2F5DQo+Pj4g
aW4gdGhlIHRlcm1pbm9sb2d5IHRoYXQgd2Ugc2hvcnRlbiBpdCB0byBSZWdpc3RyYXIuICBXZSBz
YXkgIkRvbWFpbg0KPj4+IFJlZ2lzdHJhciIgYmVjYXVzZSB3ZSB3YW50IHRvIGxpbmsgaXQgdG8g
dGhlIFBLSSBjb25jZXB0IG9mIGEgUmVnaXN0cmF0aW9uDQo+Pj4gQXV0aG9yaXR5IChSQSkuDQo+
Pj4gDQo+Pj4+IEpSQyBpcyB1c2VkIGluIGV4YWN0bHkgdGhyZWUgcGxhY2VzIGluIHRoZSBkcmFm
dC4gSSBhbHNvIGNhbiBub3QgZmluZCBvbiB3d3cuZ29vZ2xlLmNvbQ0KPj4+PiBvciB3aWtpcGVk
aWEgYW55IGV4YW1wbGUgb2YgIlRoZSB0ZXJtIEpSQyBpcyB1c2VkIGluIGNvbW1vbiB3aXRoIG90
aGVyIGJvb3RzdHJhcA0KPj4+PiBtZWNoYW5pc21zIiBhcyB0aGUgVGVybWlub2xvZ3kgY2xhaW1z
LiBFaXRoZXIgcHJvdmlkZSBhIG5vbi1hbmltYSByZWZlcmVuY2UgZm9yIHRoZQ0KPj4+PiB1c2Ug
b2YgdGhhdCB0ZXJtIG9yIGVsaW1pbmF0ZSBpdCBpbiB0aGUgZG9jdW1lbnQuDQo+Pj4gDQo+Pj4g
V2UgYWdyZWVkIHRvIHVzZSBjb21tb24gdGVybXMuDQo+Pj4gSXQgd2FzIGEgdGhyZWFkIG9uIEFO
SU1BIGFuZCA2dGlzY2ggYSB5ZWFyIGFnby4NCj4+PiBJIGNhbid0IGdldCBtYWlsYXJjaGl2ZSB0
byBmaW5kIGl0IGZvciBtZS4uLg0KPj4+IEFoLCBJIHNlZSBiZWNhdXNlICJKUkMiIHdhcyBuZXZl
ciB1c2VkIGNvbnRyYWN0ZWQgaW4gdGhhdCB0aHJlYWQuDQo+Pj4gICBodHRwczovL21haWxhcmNo
aXZlLmlldGYub3JnL2FyY2gvbXNnL2FuaW1hL2lvdEJNMC1reHNJQjY2dDhoQm80WFV0WkxhZw0K
Pj4+IA0KPj4+IEFzIGxvbmcgYXMgdGhleSBJbmZvcm1hdGl2ZSByZWZlcmVuY2VzLg0KPj4+IGh0
dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZ0aXNjaC1hcmNoaXRlY3R1cmUt
MTMjc2VjdGlvbi02LjENCj4+PiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0
Zi02dGlzY2gtdGVybWlub2xvZ3ktMDkNCj4+PiAgICAgICAoeWVzLCBleHBpcmVkLCBidXQgbm90
IGZvcmdvdHRlbiwganVzdCBub3QgYSBwcmlvcml0eSkNCj4+PiANCj4+Pj4gZSkgVm91Y2hlcg0K
Pj4+PiAtIG1pc3NlcyAiOiIgYWZ0ZXIgdGVybS4NCj4+Pj4gLSBwbGVhc2UgY2hhbmdlICJzdGF0
ZW1lbnQiIHRvICJhcnRpZmFjdCIgc28gdGhlIHRlcm1pbm9sb2d5IGFsaWducyB3aXRoIGJvdGgg
dm91Y2hlcg0KPj4+PiBkcmFmdCBhbmQgdm91Y2hlci1yZXF1ZXN0IHRleHQgd2hpY2ggYWxzbyB1
c2VzIGFydGlmYWN0LiBTZWUgYWxzbyBzZWN0aW9uIDIuMg0KPj4+PiB3aGVyZSB5b3UgdXNlICJj
cnlwdG9ncmFwaGljYWxseSBwcm90ZWN0ZWQiIGluc3RlYWQgb2YgInNpZ25lZCIgYW5kIGZpZ3Vy
ZSBvdXQNCj4+Pj4gd2hpY2ggdGVybSB5b3Ugd2FudCB0byB1c2UgaW4gYWxsIGNhc2VzIChoaW50
OiBzaWduZWQpLg0KPj4+IA0KPj4+IEkndmUgY2hhbmdlZCBpdCB0bzoNCj4+PiA8dD5BIHZvdWNo
ZXIgaXMgYSBjcnlwdG9ncmFwaGljYWxseSBwcm90ZWN0ZWQgYXJ0aWZhY3QgKGEgZGlnaXRhbCBz
aWduYXR1cmUpIHRvIHRoZSBQbGVkZ2UNCj4+PiANCj4+PiBJIGZlZWwgdGhhdCB3ZSBuZWVkIHRv
IHNheSBpdCdzIGNyeXB0b2dyYXBoaWNhbGx5IHNpZ25lZCBhdCBsZWFzdCBvbmNlLg0KPj4+IA0K
Pj4+PiBmKSBJTVBPUlRBTlQ6IFBsZWFzZSBhZGQvZGVmaW5lIHRoZSB0ZXJtICJBTkkiDQo+Pj4g
DQo+Pj4+IEFOSSAtICJBdXRvbm9taWMgTmV0d29yayBJbmZyYXN0cnVjdHVyZSIuIFN5c3RlbXMg
dGhhdCBzdXBwb3J0IGJvdGggQlJTS0kgYW5kDQo+Pj4+IEF1dG9ub21pYyBDb250cm9sIHBsYW5l
IC0gQUNQIChbSS1ELmlldGYtYW5pbWEtYXV0b25vbWljLWNvbnRyb2wtcGxhbmVdKS4gQU5JDQo+
Pj4+IHN5c3RlbXMgKHBsZWRnZXMsIHByb3hpZXMsIHJlZ2lzdHJhcikgaGF2ZSBzcGVjaWZpYyBy
ZXF1aXJlbWVudHMgZGV0YWlsbGVkIGluDQo+Pj4+IHRoZSBkb2N1bWVudC4NCj4+PiANCj4+PiAg
ICAgICAgICAgPHQgaGFuZ1RleHQ9IkFOSToiPlRoZSBBdXRvbm9taWMgTmV0d29yayBJbmZyYXN0
cnVjdHVyZSBhcw0KPj4+ICAgICAgICAgICBkZWZpbmVkIGJ5IDx4cmVmIHRhcmdldD0iSS1ELmll
dGYtYW5pbWEtYXV0b25vbWljLWNvbnRyb2wtcGxhbmUiDQo+Pj4gICAgICAgICAgIC8+LiAgVGhp
cyBkb2N1bWVudCBkZXRhaWxzIHNwZWNpZmljIHJlcXVpcmVtZW50cyBmb3IgcGxlZGdlcywNCj4+
PiAgICAgICAgICAgcHJveGllcyBhbmQgcmVnaXN0cmFycyB3aGVuIHRoZXkgYXJlIHBhcnQgb2Yg
YW4gQU5JLjwvdD4NCj4+PiANCj4+PiBEb2VzIHRoaXMgd29yayBmb3IgeW91Pw0KPj4+IA0KPj4+
PiBXaXRob3V0IHRoaXMgdGVybSB3ZSBjYW4gbm90IG5haWwgZG93biB0aGUgZXhwbGljaXQgcmVx
dWlyZW1lbnRzIGFnYWluc3QNCj4+Pj4gQU5JIFBsZWRnZXMsIFByb3hpZXMsIFJlZ2lzdHJhcnMg
dGhhdCB3ZSBuZWVkIGZyb20gdGhlIGRvY3VtZW50IChhbmQgZGlzdGluZ3Vpc2gNCj4+Pj4gZnJv
bSByZXF1aXJlbWVudHMgYWdhaW5zdCBhbnkgbm9uLUFOSSBhZGFwdGF0aW9uIG9mIEJSU0tJKS4g
SSBhZGRlZCBhY2NvcmRpbmcNCj4+Pj4gY29tbWVudHMgaW50byBvdGhlciBwYXJ0cyBvZiB0aGUg
ZG9jLg0KPj4+IA0KPj4+PiBnKSBQbGVhc2UgcmVwbGFjZSAiTUFTQSBzZXJ2ZXIiIHdpdGggIk1B
U0Egc2VydmljZSIgZXZlcnl3aGVyZS4NCj4+PiANCj4+PiBJIHByZWZlciB0byBqdXN0IHNheSAi
TUFTQSIgYWN0dWFsbHkuDQo+Pj4gQXJlIHlvdSBva2F5IHdpdGggdGhhdD8NCj4+PiANCj4+PiBM
ZXQgbWUgd3JhcCB1cCBoZXJlIGZvciB0aGUgbW9tZW50IHNvIHlvdSBjYW4gc2VlIHRoZSBlZGl0
cyBhbmQNCj4+PiBJJ2xsIHJlcGx5IHRvIHRoZSByZXN0IGFzIE1heCBhbmQgSSBkaWdlc3QgaXQu
ICBJdCdzIGEgbG90IG9mIGNvbW1lbnRzLg0KPj4+IEknZCBsaWtlIHRvIHB1c2ggYW4gLTExIChp
ZiBvbmx5IHRvIGZpeCBlbWFpbCBmb3IgTS4gQmVocmluZ2VyKS4NCj4+PiANCj4+PiAgIGh0dHBz
Oi8vZ2l0aHViLmNvbS9hbmltYS13Zy9hbmltYS1ib290c3RyYXAvcHVsbC80Mg0KPj4+ICAgaHR0
cHM6Ly9naXRodWIuY29tL2FuaW1hLXdnL2FuaW1hLWJvb3RzdHJhcC9wdWxsLzQyL2NvbW1pdHMv
Y2I3YWY2NjM0NGFkNzA5YWFmNzAyODdhNDBmYTEzYTY3YmJmNjAxYw0KPj4+IA0KPj4+IA0KPj4+
IC0tDQo+Pj4gTWljaGFlbCBSaWNoYXJkc29uIDxtY3IrSUVURkBzYW5kZWxtYW4uY2E+LCBTYW5k
ZWxtYW4gU29mdHdhcmUgV29ya3MNCj4+PiAtPSBJUHY2IElvVCBjb25zdWx0aW5nID0tDQo+Pj4g
DQo+Pj4gDQo+Pj4gDQo+Pj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18NCj4+PiBBbmltYSBtYWlsaW5nIGxpc3QNCj4+PiBBbmltYUBpZXRmLm9yZw0KPj4+
IGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vYW5pbWENCj4+IA0KPj4gX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCj4+IEFuaW1hIG1h
aWxpbmcgbGlzdA0KPj4gQW5pbWFAaWV0Zi5vcmcNCj4+IGh0dHBzOi8vd3d3LmlldGYub3JnL21h
aWxtYW4vbGlzdGluZm8vYW5pbWENCj4gDQo+IC0tIA0KPiAtLS0NCj4gdHRlQGNzLmZhdS5kZQ0K
DQo=

From anima-bounces@ietf.org  Thu Feb 15 21:38:18 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.8 required=5.0
	tests=HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 6227258C559;
	Thu, 15 Feb 2018 21:38:18 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 9422C74E5B6;
	Thu, 15 Feb 2018 21:38:15 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 46B3F12D7F2;
	Thu, 15 Feb 2018 12:38:13 -0800 (PST)
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id E3649129C59
 for <anima@ietfa.amsl.com>; Thu, 15 Feb 2018 12:38:10 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id S2koVRqkjFJo for <anima@ietfa.amsl.com>;
 Thu, 15 Feb 2018 12:38:07 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [131.188.34.40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 6B76D124207
 for <anima@ietf.org>; Thu, 15 Feb 2018 12:38:07 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id D447D58C559;
 Thu, 15 Feb 2018 21:38:02 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id BD352B0DA83; Thu, 15 Feb 2018 21:38:02 +0100 (CET)
Date: Thu, 15 Feb 2018 21:38:02 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: "Max Pritikin (pritikin)" <pritikin@cisco.com>
Message-ID: <20180215203802.GE27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <11878.1518662730@obiwan.sandelman.ca>
 <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
 <20180215171428.GD27823@faui40p.informatik.uni-erlangen.de>
 <41CDDDDE-1098-4836-8338-738C02ED8F0E@cisco.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <41CDDDDE-1098-4836-8338-738C02ED8F0E@cisco.com>
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/Tha9XIjkzZPWo3KlE-pD2zWj_rM>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: Michael Richardson <mcr+ietf@sandelman.ca>,
 "anima@ietf.org" <anima@ietf.org>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: O
Content-Length: 8824
Lines: 186

On Thu, Feb 15, 2018 at 05:32:30PM +0000, Max Pritikin (pritikin) wrote:
> Certificates are a data format for encoding public keys and associated certifications (e.g. the CA signature) etc. I think this could reasonably be called data needed to establish a cryptographic security association. 

Ok, great. Then i would just love to see a definition stating keying material
in the context of BRSKI includes public, private keys, certificates and vouchers.

> > IMHO, I need certificates to establish (authenticate) the cryptographic security
> > association when i am using certificates.  Likewise would a voucher
> > be keying material because it is required for authentication.
> 
> If we???re stretching like this then sure. A voucher is a certification of a public key (the new owner) along with additional data used to interpret the certification. If you keep going down that path you???re gonna end up claiming we should have simply had an X509 extension instead of a voucher format. There are reasons we didn???t go that way but I could see a world where that happened (thankfully not our reality though). 

I am happy with vouchers being clearly distinguished from certificates. I just
want well defined names such as what "keying material" is. Any term we
can not clearly define (or point to clear definitions) should be avoided in the document. 
rfc4949 is IMHO not clearly defined for "keying material".

> > brski keying entities = pledge + registrar + CA ( + MASA ?)
> >  Possible non-crypto speaker confusion: Is MASA part of keying entities ?
> >  If keying material is just the public key pairs, then probably not ?
> 
> Why not? Its all part of the key infrastructure in that these are the entities (and associated protocols!) needed to manage all the key material. 

Again: I have no strong opinions. But yes, if certificates and vouchers where not
keying material we would need yet another work that includes them.

> There is something different about ???authentication key material??? and ???certification key material??? but is it necessary for us to get into those pedantic areas? Are you proposing an update to RFC4949? Where are we going with this? 

For the readers of BRSKI i would like to minimize the need to refer
to confusing external documents, especially wrt. terminology.
I am declaring myself the the expert to represent the non-native
security speaking reader.

For IESG security review we need to make sure that the way we're using and
probably extending the existing terminology is acceptable. You're the
better judge for that, and if not, you'll hear from Eric.

> >  But would BRSKI without a following EST part even be "keying entities??? ????
> 
> BRSKI and EST are protocols not ???entities???. But yes, BRSKI is a part of the key infrastructure. It is the protocol for ???bootstrapping [the] remote [portion of the] secure key infrastructure???. 

Sorry, yes..

> > brski keying protocols = BRSKI+ EST (pledge/registrar), EST (registrar/MASA), BRSKI-EST (registrar/MASA)
> > 
> > brski keying infrastructure = brski keying entities + brski keying protocols
> > 
> > Or whatever else is correct in the context of BRSKI. Better to just enumerate whats
> > meant like i suggested above instead of trying generic definitions because those
> > can fail on non-native crypto speakers like my above confusion with rfc4949.
> > 
> > Also it wold be good if there was a clear understanding if BRSKI claims to expand
> > the scope of any of these terms. Eg: If MASA or vouchers are now considered to
> > be part of any prior existing terms such as keying material or keying infra. I
> > guess that "keying protocols" are definitely expanded by BRSKI???
> 
> Based on the above I think its fair to say that:
> 
> Voucher???s expand on the defined key material data types. 
> BRSKI protocol and MASA entity expand on the defined types of key infrastructure elements. 

Great. So please put into the terminology section those simple explanations
of the terms used/required by BRSKI.

Cheers
    Toerless

> - max
> 
> > 
> > Cheers
> >    Toerless
> > 
> >> 
> >> - max
> >> 
> >>> 
> >>>> c) (terminology) MASA definition: "A third-party Manufacturer...". Why "third-party" ?
> >>>> who are the first two parties ? If this is only slang and we can't explain who the
> >>>> first two parties are, delete "third-party" ?
> >>> 
> >>> Fixed...  The first party is the Pledge and manufacturer.
> >>> The second party is the Domain Owner.
> >>> The third party is the entity running the MASA, which may not be the manufacturer.
> >>> 
> >>>> d) "Domain Registrar" vs. "Join Registrar", JRC. Especially because the text mostly
> >>>> uses "Domain Registrar" and very seldom "Join Registar".
> >>> 
> >>> Yes, because we agreed that the term across WGs would be JRC, and we say
> >>> in the terminology that we shorten it to Registrar.  We say "Domain
> >>> Registrar" because we want to link it to the PKI concept of a Registration
> >>> Authority (RA).
> >>> 
> >>>> JRC is used in exactly three places in the draft. I also can not find on www.google.com
> >>>> or wikipedia any example of "The term JRC is used in common with other bootstrap
> >>>> mechanisms" as the Terminology claims. Either provide a non-anima reference for the
> >>>> use of that term or eliminate it in the document.
> >>> 
> >>> We agreed to use common terms.
> >>> It was a thread on ANIMA and 6tisch a year ago.
> >>> I can't get mailarchive to find it for me...
> >>> Ah, I see because "JRC" was never used contracted in that thread.
> >>>   https://mailarchive.ietf.org/arch/msg/anima/iotBM0-kxsIB66t8hBo4XUtZLag
> >>> 
> >>> As long as they Informative references.
> >>> https://tools.ietf.org/html/draft-ietf-6tisch-architecture-13#section-6.1
> >>> https://tools.ietf.org/html/draft-ietf-6tisch-terminology-09
> >>>       (yes, expired, but not forgotten, just not a priority)
> >>> 
> >>>> e) Voucher
> >>>> - misses ":" after term.
> >>>> - please change "statement" to "artifact" so the terminology aligns with both voucher
> >>>> draft and voucher-request text which also uses artifact. See also section 2.2
> >>>> where you use "cryptographically protected" instead of "signed" and figure out
> >>>> which term you want to use in all cases (hint: signed).
> >>> 
> >>> I've changed it to:
> >>> <t>A voucher is a cryptographically protected artifact (a digital signature) to the Pledge
> >>> 
> >>> I feel that we need to say it's cryptographically signed at least once.
> >>> 
> >>>> f) IMPORTANT: Please add/define the term "ANI"
> >>> 
> >>>> ANI - "Autonomic Network Infrastructure". Systems that support both BRSKI and
> >>>> Autonomic Control plane - ACP ([I-D.ietf-anima-autonomic-control-plane]). ANI
> >>>> systems (pledges, proxies, registrar) have specific requirements detailled in
> >>>> the document.
> >>> 
> >>>           <t hangText="ANI:">The Autonomic Network Infrastructure as
> >>>           defined by <xref target="I-D.ietf-anima-autonomic-control-plane"
> >>>           />.  This document details specific requirements for pledges,
> >>>           proxies and registrars when they are part of an ANI.</t>
> >>> 
> >>> Does this work for you?
> >>> 
> >>>> Without this term we can not nail down the explicit requirements against
> >>>> ANI Pledges, Proxies, Registrars that we need from the document (and distinguish
> >>>> from requirements against any non-ANI adaptation of BRSKI). I added according
> >>>> comments into other parts of the doc.
> >>> 
> >>>> g) Please replace "MASA server" with "MASA service" everywhere.
> >>> 
> >>> I prefer to just say "MASA" actually.
> >>> Are you okay with that?
> >>> 
> >>> Let me wrap up here for the moment so you can see the edits and
> >>> I'll reply to the rest as Max and I digest it.  It's a lot of comments.
> >>> I'd like to push an -11 (if only to fix email for M. Behringer).
> >>> 
> >>>   https://github.com/anima-wg/anima-bootstrap/pull/42
> >>>   https://github.com/anima-wg/anima-bootstrap/pull/42/commits/cb7af66344ad709aaf70287a40fa13a67bbf601c
> >>> 
> >>> 
> >>> --
> >>> Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
> >>> -= IPv6 IoT consulting =-
> >>> 
> >>> 
> >>> 
> >>> _______________________________________________
> >>> Anima mailing list
> >>> Anima@ietf.org
> >>> https://www.ietf.org/mailman/listinfo/anima
> >> 
> >> _______________________________________________
> >> Anima mailing list
> >> Anima@ietf.org
> >> https://www.ietf.org/mailman/listinfo/anima
> > 
> > -- 
> > ---
> > tte@cs.fau.de
> 
> _______________________________________________
> Anima mailing list
> Anima@ietf.org
> https://www.ietf.org/mailman/listinfo/anima

-- 
---
tte@cs.fau.de

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From anima-bounces@ietf.org  Tue Feb 20 21:27:08 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.8 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 7B81E58C552;
	Tue, 20 Feb 2018 21:27:08 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 102C074E4BB;
	Tue, 20 Feb 2018 21:27:04 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 7591212AAB6;
	Tue, 20 Feb 2018 12:27:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1519158422; bh=EpFiaLgTJJK8z4R0COZPnkdwAn7U6bHarW8HNl6G0vk=;
	h=From:To:In-Reply-To:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=AsjyCI7lNLmpucgnBRxC9cRI9MHDhhtfZ1SPRMqmEDY8AJMC7Iym5vdB3ZqpuC6X6
	 +bIyvpjaoBsWJUH0rE1tzQt59wXHN9AWNRlq8ZjwuQBRzDSZRIm8DNAt78EauuocBa
	 4rav2LktxoIVTvY66aJwu4WLF6AVWwoB7pfR8N7Y=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 74237126CD8
 for <anima@ietfa.amsl.com>; Tue, 20 Feb 2018 12:27:00 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id I6on9-o37-gs for <anima@ietfa.amsl.com>;
 Tue, 20 Feb 2018 12:26:58 -0800 (PST)
Received: from tuna.sandelman.ca (tuna.sandelman.ca
 [IPv6:2607:f0b0:f:3:216:3eff:fe7c:d1f3])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 87BD21243F6
 for <anima@ietf.org>; Tue, 20 Feb 2018 12:26:58 -0800 (PST)
Received: from sandelman.ca (obiwan.sandelman.ca [209.87.249.21])
 by tuna.sandelman.ca (Postfix) with ESMTP id E838520091
 for <anima@ietf.org>; Tue, 20 Feb 2018 15:34:16 -0500 (EST)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
 by sandelman.ca (Postfix) with ESMTP id 4DB7580C86
 for <anima@ietf.org>; Tue, 20 Feb 2018 15:26:57 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: "anima\@ietf.org" <anima@ietf.org>
In-Reply-To: <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <11878.1518662730@obiwan.sandelman.ca>
 <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;
 <'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Date: Tue, 20 Feb 2018 15:26:57 -0500
Message-ID: <19137.1519158417@obiwan.sandelman.ca>
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/SMKP2Jht19S_E4r7RlXM36AdluI>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============3496061904549790030=="
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 3619
Lines: 96

--===============3496061904549790030==
Content-Type: multipart/signed; boundary="=-=-=";
 micalg=pgp-sha256; protocol="application/pgp-signature"

--=-=-=
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable


Max Pritikin (pritikin) <pritikin@cisco.com> wrote:
    >>> b)  Key infrastructure
    >>=20
    >>> There  is no definition/reference for this term.  Please describe on
    >>> first use and in terminology.  Is there a difference
    >>> between "key infrastructure" and  "keying material" ? If not, then
    >>> maybe remove one term otherwise pls. describe difference.
    >>=20
    >> The term is in the title and in section 1.
    >> And you are right that it does not appear again, nor is it defined.
    >> I think it generally refers to the mechanism of PKI, but I'm not sur=
e what to do.

    > An =E2=80=9Cinfrastructure=E2=80=9D is the basic entities and protoco=
ls necessary for
    > the operations of key management. I think it comes from the common
    > language term and can=E2=80=99t find a normative definition within IE=
TF
    > document. As a native english speaker who has used the concept in IETF
    > interactions for eons it feels silly to try and define it. Odd.

The words "keying material" is used in the "Other Bootstrapping Approaches"
only.  In that paragraph, it refers to some "other" stuff... I'm loath to
boil the ocean to define what we aren't doing...

I suggest the insertion of the marked text:

        without external help is also an impossibility. Today it is commonly
        accepted that the initial connections between nodes are insecure, u=
ntil
        key distribution is complete, or that domain-specific keying materi=
al
*new*   (often pre-shared keys, including mechanisms like SIM cards)
        is pre-provisioned on each new device in a costly and non-scalable
        manner. Existing mechanisms are known as non-secured 'Trust on

Now, to the term Key Infrastructure:

            <t hangText=3D"(Public) Key Infrastructure:"> The collection of=
 systems and
            processes that sustain the activities of a public key system.
            In an ANIMA Autonomic system, this includes a Domain
            Certification Authority (CA), (Join) Registrar which acts as an
            <xref target=3D"RFC5280" /> Registrar, as well as appropriate
            certificate revocation list (CRL) distribution points and/or OC=
SP
            (<xref target=3D"RFC6960" />) servers.</t>

I note that RFC6960 doesn't bother to define Key Infrastructure at all, or
even use the term except in the title...

=2D-=20
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -=3D IPv6 IoT consulting =3D-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlqMhJAACgkQgItw+93Q
3WVBzgf/TsOR1otvWbxQGPnDXW3fn6nrdetJNO69dQtpd8fSIn+5u/CE6zZ8ytRU
HuL3HiIQqUdI8NbdIWwpCcTKmr1g+JiEKl9d+RhVHMdvKHvxxtoEMtg9Vh9M2Szf
sOLdfKNOgJzv5pxvWjWxPSbnqfMbOR7c1oqFdfwoJ+R2QHS+oEuAldjjHUe0sKIy
W+nobpnlRspt/aMev2UiGyssipKS2nc4k77cAjqtq7TkQES/7BlYfwh+WT5IRtN+
Hl4ORYDFEraZIZX+99F+ndkFN++7JDabkCD9d5kVRzYs6KJ3WlSJb4AYj6JtIO1S
iZ4CjSDysyRd0HDQEFyV0fnfEfEwoA==
=8PR8
-----END PGP SIGNATURE-----
--=-=-=--


--===============3496061904549790030==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

--===============3496061904549790030==--

From anima-bounces@ietf.org  Tue Feb 20 23:04:39 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.1 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_MED=-2.3,
	SPF_FAIL=0.919 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id DDF1458C559;
	Tue, 20 Feb 2018 23:04:39 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [4.31.198.44])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 6006174E07E;
	Tue, 20 Feb 2018 23:04:37 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 9B4C412E037;
	Tue, 20 Feb 2018 14:04:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1519164275; bh=2mBm8b3vWZ1od+vymNofPcGRSnNjVuqt9X/MS1/Y9f8=;
	h=Date:From:To:References:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=onaKKOi8jftmW3/a2skrgZnV2iZJCwUUG2aQ8IMwWk/8EAmiLuo72hJkiHqqnHpV6
	 mCdrtrvm4mPv2M7ClXgAQzJi89AyhAAFnMuB+AwrZhonqYdtE/yy1yFMBOYkVKAFfr
	 TAhiO4/oDq/5P+Drn95fR/iJxL3SOgkX5aMXghxw=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 472FD12DB71
 for <anima@ietfa.amsl.com>; Tue, 20 Feb 2018 14:04:33 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id TuTnOFCYweeE for <anima@ietfa.amsl.com>;
 Tue, 20 Feb 2018 14:04:31 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [131.188.34.40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 10CF5120724
 for <anima@ietf.org>; Tue, 20 Feb 2018 14:04:30 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id A081C58C562;
 Tue, 20 Feb 2018 23:04:26 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id 74BB5B0DB01; Tue, 20 Feb 2018 23:04:26 +0100 (CET)
Date: Tue, 20 Feb 2018 23:04:26 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: Michael Richardson <mcr+ietf@sandelman.ca>
Message-ID: <20180220220426.GC23498@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <11878.1518662730@obiwan.sandelman.ca>
 <89C98637-ACD2-423A-A8C4-52191C35FA53@cisco.com>
 <19137.1519158417@obiwan.sandelman.ca>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <19137.1519158417@obiwan.sandelman.ca>
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/9RAlX75uS5FaZjcIxe20xscQqSw>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: "anima@ietf.org" <anima@ietf.org>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 3301
Lines: 81

I always welcome, support and root for removal, avoidance and rephrasing of
redundant, unnecessary, confusing, contradicting or otherwise irritating words,
sentences, phrases or other elements of IETF drafts.

I just reserve the right to be pretty bad at it myself, given how i was raised
with a language that is defective in this regard. See also:

https://www.cs.utah.edu/~gback/awfgrmlg.html

Cheers
    Toerless

On Tue, Feb 20, 2018 at 03:26:57PM -0500, Michael Richardson wrote:
> 
> Max Pritikin (pritikin) <pritikin@cisco.com> wrote:
>     >>> b)  Key infrastructure
>     >> 
>     >>> There  is no definition/reference for this term.  Please describe on
>     >>> first use and in terminology.  Is there a difference
>     >>> between "key infrastructure" and  "keying material" ? If not, then
>     >>> maybe remove one term otherwise pls. describe difference.
>     >> 
>     >> The term is in the title and in section 1.
>     >> And you are right that it does not appear again, nor is it defined.
>     >> I think it generally refers to the mechanism of PKI, but I'm not sure what to do.
> 
>     > An ???infrastructure??? is the basic entities and protocols necessary for
>     > the operations of key management. I think it comes from the common
>     > language term and can???t find a normative definition within IETF
>     > document. As a native english speaker who has used the concept in IETF
>     > interactions for eons it feels silly to try and define it. Odd.
> 
> The words "keying material" is used in the "Other Bootstrapping Approaches"
> only.  In that paragraph, it refers to some "other" stuff... I'm loath to
> boil the ocean to define what we aren't doing...
> 
> I suggest the insertion of the marked text:
> 
>         without external help is also an impossibility. Today it is commonly
>         accepted that the initial connections between nodes are insecure, until
>         key distribution is complete, or that domain-specific keying material
> *new*   (often pre-shared keys, including mechanisms like SIM cards)
>         is pre-provisioned on each new device in a costly and non-scalable
>         manner. Existing mechanisms are known as non-secured 'Trust on
> 
> Now, to the term Key Infrastructure:
> 
>             <t hangText="(Public) Key Infrastructure:"> The collection of systems and
>             processes that sustain the activities of a public key system.
>             In an ANIMA Autonomic system, this includes a Domain
>             Certification Authority (CA), (Join) Registrar which acts as an
>             <xref target="RFC5280" /> Registrar, as well as appropriate
>             certificate revocation list (CRL) distribution points and/or OCSP
>             (<xref target="RFC6960" />) servers.</t>
> 
> I note that RFC6960 doesn't bother to define Key Infrastructure at all, or
> even use the term except in the title...
> 
> -- 
> Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
>  -= IPv6 IoT consulting =-
> 
> 
> 



> _______________________________________________
> Anima mailing list
> Anima@ietf.org
> https://www.ietf.org/mailman/listinfo/anima


-- 
---
tte@cs.fau.de

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From mcr+ietf@sandelman.ca  Wed Feb 21 01:54:48 2018
Return-Path: <mcr+ietf@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 13B0758C565
	for <eckert@i4.informatik.uni-erlangen.de>; Wed, 21 Feb 2018 01:54:48 +0100 (CET)
Received: from tuna.sandelman.ca (tuna.sandelman.ca [209.87.249.19])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id DBDD974E20E
	for <tte@cs.fau.de>; Wed, 21 Feb 2018 01:54:44 +0100 (CET)
Received: from sandelman.ca (obiwan.sandelman.ca [209.87.249.21])
	by tuna.sandelman.ca (Postfix) with ESMTP id 017A220091;
	Tue, 20 Feb 2018 20:02:00 -0500 (EST)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
	by sandelman.ca (Postfix) with ESMTP id A0C0D80AE3;
	Tue, 20 Feb 2018 19:54:40 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Toerless Eckert <tte@cs.fau.de>
cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-Reply-To: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;<'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha256; protocol="application/pgp-signature"
Date: Tue, 20 Feb 2018 19:54:40 -0500
Message-ID: <23103.1519174480@obiwan.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 6128
Lines: 148

--=-=-=
Content-Type: text/plain


Toerless Eckert <tte@cs.fau.de> wrote:
    > Overall:

    > a) Requirements about EST:

    > - The introduction says: "Integration with a complete EST enrollment is
    > optional but trivial"
    > - 5.8.3 says "The Pledge MUST request a new client certificate".
    > - 1.4 says "bootstrapped devices have a common trust anchor and a certificate
    > has optionally been issued from a local PKI

    > a) The text needs to be made consistent across all places where requirements
    > are defined. I have in general no strong opinion how "optional" the text should
    > say EST operations are, BUT consider he following points:

    > b) We need a complete list of BRSKI requirements for ANI devices, where EST
    > operation requirements are made stronger. I suggest a separate subsection at an
    > appropriate place so that "ANI requirements" shows up in the table of contents:

    > Section X.Y.Z Requirements for ANI devices:

    > For BRSKI on ANI Devices (ANI = BRSKI + ACP), EST operations is mandator.
    > The ANI pledge MUST perform
    > - "CA Certificates Request",
    > - "CSR Attributes"
    > - "Client Certificate Request"
    > - "Enrollment status Telemetry"
    > The ANI registrar MUST support BRSKI and these EST operations.
    > All ANI devices SHOULD support the BRSKI proxy function.

I've done the following:

+     1.5.  Requirements for Autonomic Network Infrastructure (ANI)
+           devices . . . . . . . . . . . . . . . . . . . . . . . . .  10

-   BRSKI is agile enough to support bootstrapping alternative key
-   infrastructures, such as a symmetric key solutions, but no such
-   system is described in this document.


+   BRSKI is agile enough to support bootstrapping alternative key
+   infrastructures, such as a symmetric key solutions, but no such
+   system is described in this document.
+
 1.1.  Other Bootstrapping Approaches

    To literally "pull yourself up by the bootstraps" is an impossible
@@ -233,9 +237,10 @@ Internet-Draft                    BRSKI                    February 2018
    without external help is also an impossibility.  Today it is commonly
    accepted that the initial connections between nodes are insecure,
    until key distribution is complete, or that domain-specific keying
-   material is pre-provisioned on each new device in a costly and non-
-   scalable manner.  Existing mechanisms are known as non-secured 'Trust
-   on First Use' (TOFU) [RFC7435], 'resurrecting duckling'
+   material (often pre-shared keys, including mechanisms like SIM cards)
+   is pre-provisioned on each new device in a costly and non-scalable
+   manner.  Existing mechanisms are known as non-secured 'Trust on First
+   Use' (TOFU) [RFC7435], 'resurrecting duckling'
    [Stajano99theresurrecting] or 'pre-staging'.

    Another approach is to try and minimize user actions during

@@ -358,6 +364,13 @@ Internet-Draft                    BRSKI                    February 2018
       "Registrar".  The term JRC is used in common with other bootstrap
       mechanisms.

+   (Public) Key Infrastructure:  The collection of systems and processes
+      that sustain the activities of a public key system.  In an ANIMA
+      Autonomic system, this includes a Domain Certification Authority
+      (CA), (Join) Registrar which acts as an [RFC5280] Registrar, as
+      well as appropriate certificate revocation list (CRL) distribution
+      points and/or OCSP ([RFC6960]) servers.
+
    Join Proxy:  A domain entity that helps the Pledge join the domain.
       A Proxy facilitates communication for devices that find themselves
       in an environment where they are not provided connectivity until

+1.5.  Requirements for Autonomic Network Infrastructure (ANI) devices

+   The BRSKI protocol can be used in a number of environments.  Some of
+   the flexibility in this document is the result of users out of the
+   ANI scope.  This section defines the base requirements for ANI
+   devices.

+   For devices that intend to become part of an Autonomic Network
+   Infrastructure (ANI) ([I-D.ietf-anima-reference-model]) that includes
+   an Autonomic Control Plane
+   ([I-D.ietf-anima-autonomic-control-plane]), the following actions are
+   required and MUST be performed by the Pledge:

+   o  BRSKI: Request Voucher

+   o  EST: CA Certificates Request

+   o  EST: CSR Attributes

+   o  EST: Client Certificate Request

+   o  BRSKI: Enrollment status Telemetry

+   The ANI Registrar (JRC) MUST support all the BRSKI and above listed
+   EST operations.

+   All ANI devices SHOULD support the BRSKI proxy function, using
+   circuit proxies.  Other proxy methods are optional, and may be
+   enabled only if the JRC indicates support for them in it's
+   announcement.  (See Section 4.4)

    > II) This leaves the option that EST to install trust anchor is mandatory, but
    > enrolment with a certificate is optional (except for ANI case).

    > Aka: would be good to write a sentence/paragraph exactly outlining what is
    > permitted to happen after a voucher and if any, what parts of EST are deemed to
    > be necessary by BRSKI (outside of ANI devices. the requirements for ANI devices
    > are listed above).

I think that this should be left to other users.

I am going to push the -11 with these changes, and the ones from last week.
I acknowledge that I still have a bunch of edits from the rest of your message.


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlqMw08ACgkQgItw+93Q
3WWguQgAtuVWEXSSocZAG4Xvap6xuh+5AyzyVvwXYskDFdW7YNC9sFIXdrf1J/XH
64xafNxTE8X0TptPeSbnyPiHxdgreBqMcIWxGIc9n+CJTkJ6vKcEIcpvcqCI2RR/
PiK4LsX6hUe9ag8S89oJxkwchXUQv5QmzbVWQ8aNPP8D+/8Mb/FFLdyx63fsejH/
NstmfIr2G/LBPWL8jckOKTSVbCwFDALQ4sf6mzyzDB0bylvbcWLcb1dfrTB7mqrE
sGONrWFI/OYZE99Y5X2xzRUPYo2qZK9wmExyJ3h3kj4tG+x3NslI3PLNlmjg6WWl
aFOKe5R1KHebCdqlKdLr7ILAXnTQqQ==
=Nut0
-----END PGP SIGNATURE-----
--=-=-=--

From anima-bounces@ietf.org  Wed Feb 21 03:38:59 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.8 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id D1FE358C565;
	Wed, 21 Feb 2018 03:38:59 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 31C9974E69B;
	Wed, 21 Feb 2018 03:38:57 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 3B747127023;
	Tue, 20 Feb 2018 18:38:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1519180735; bh=8A1LUIDUCYhQ84f88L5/glY4gAewyuVVbKwbmF+Q9PA=;
	h=Date:From:To:References:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=HNvgCHxVMkZ0xnn/6Shw1eIKEXDjpgO6TrKCRcJzjtGzkmDbJNHh0GQmmO1WfKeGr
	 pgdRpDnMMNnnUYbwOEooOB1P6fX5QKAK9Ufbjzka0C8udq3BSCCh7bgdTtweZFhOeK
	 Gu/uhxNjUYJuRYZlc+Z3BoAMZaub90CBn6MQzysA=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 94BE91241F3;
 Tue, 20 Feb 2018 18:38:53 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id Kp3m01eSH5p2; Tue, 20 Feb 2018 18:38:50 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 8F64D1204DA;
 Tue, 20 Feb 2018 18:38:50 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id 510D758C565;
 Wed, 21 Feb 2018 03:38:45 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id 309EEB0DB08; Wed, 21 Feb 2018 03:38:45 +0100 (CET)
Date: Wed, 21 Feb 2018 03:38:45 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: Michael Richardson <mcr+ietf@sandelman.ca>
Message-ID: <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23103.1519174480@obiwan.sandelman.ca>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <23103.1519174480@obiwan.sandelman.ca>
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/xQv4zGdHBybjnP51agdy_dCM4iI>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 6949
Lines: 180

Thanks, Michael
Can't see a commit on github since 6 dyays ago, maybe in different branch ?
Comments for now therefore inline against your email.

On Tue, Feb 20, 2018 at 07:54:40PM -0500, Michael Richardson wrote:
> 
> Toerless Eckert <tte@cs.fau.de> wrote:
>     > Overall:
> 
>     > a) Requirements about EST:
> 
>     > - The introduction says: "Integration with a complete EST enrollment is
>     > optional but trivial"
>     > - 5.8.3 says "The Pledge MUST request a new client certificate".
>     > - 1.4 says "bootstrapped devices have a common trust anchor and a certificate
>     > has optionally been issued from a local PKI
> 
>     > a) The text needs to be made consistent across all places where requirements
>     > are defined. I have in general no strong opinion how "optional" the text should
>     > say EST operations are, BUT consider he following points:
> 
>     > b) We need a complete list of BRSKI requirements for ANI devices, where EST
>     > operation requirements are made stronger. I suggest a separate subsection at an
>     > appropriate place so that "ANI requirements" shows up in the table of contents:
> 
>     > Section X.Y.Z Requirements for ANI devices:
> 
>     > For BRSKI on ANI Devices (ANI = BRSKI + ACP), EST operations is mandator.
>     > The ANI pledge MUST perform
>     > - "CA Certificates Request",
>     > - "CSR Attributes"
>     > - "Client Certificate Request"
>     > - "Enrollment status Telemetry"
>     > The ANI registrar MUST support BRSKI and these EST operations.
>     > All ANI devices SHOULD support the BRSKI proxy function.
> 
> I've done the following:
[...]> 

>  1.1.  Other Bootstrapping Approaches
> 
>     To literally "pull yourself up by the bootstraps" is an impossible
> @@ -233,9 +237,10 @@ Internet-Draft                    BRSKI                    February 2018
>     without external help is also an impossibility.  Today it is commonly
>     accepted that the initial connections between nodes are insecure,
>     until key distribution is complete, or that domain-specific keying
> -   material is pre-provisioned on each new device in a costly and non-
> -   scalable manner.  Existing mechanisms are known as non-secured 'Trust
> -   on First Use' (TOFU) [RFC7435], 'resurrecting duckling'
> +   material (often pre-shared keys, including mechanisms like SIM cards)
> +   is pre-provisioned on each new device in a costly and non-scalable
> +   manner.  Existing mechanisms are known as non-secured 'Trust on First
> +   Use' (TOFU) [RFC7435], 'resurrecting duckling'
>     [Stajano99theresurrecting] or 'pre-staging'.

Nice.

>     Another approach is to try and minimize user actions during
> 
> @@ -358,6 +364,13 @@ Internet-Draft                    BRSKI                    February 2018
>        "Registrar".  The term JRC is used in common with other bootstrap
>        mechanisms.
> 
> +   (Public) Key Infrastructure:  The collection of systems and processes
> +      that sustain the activities of a public key system.  In an ANIMA
> +      Autonomic system, this includes a Domain Certification Authority
> +      (CA), (Join) Registrar which acts as an [RFC5280] Registrar, as
> +      well as appropriate certificate revocation list (CRL) distribution
> +      points and/or OCSP ([RFC6960]) servers.

I had interpreted Max'es response on the mail discussion to indicate that
MASA would also be considered to be part of the PKI. I am fine either way.
Just checking. If as you propose above it's not part of the PKI, a simple
sentence explaining why not would be great.

> +
>     Join Proxy:  A domain entity that helps the Pledge join the domain.
>        A Proxy facilitates communication for devices that find themselves
>        in an environment where they are not provided connectivity until
> 
> +1.5.  Requirements for Autonomic Network Infrastructure (ANI) devices
> 
> +   The BRSKI protocol can be used in a number of environments.  Some of
> +   the flexibility in this document is the result of users out of the
> +   ANI scope.  This section defines the base requirements for ANI
> +   devices.
> 
> +   For devices that intend to become part of an Autonomic Network
> +   Infrastructure (ANI) ([I-D.ietf-anima-reference-model]) that includes
> +   an Autonomic Control Plane
> +   ([I-D.ietf-anima-autonomic-control-plane]), the following actions are
> +   required and MUST be performed by the Pledge:
> 
> +   o  BRSKI: Request Voucher
> 
> +   o  EST: CA Certificates Request
> 
> +   o  EST: CSR Attributes
> 
> +   o  EST: Client Certificate Request
> 
> +   o  BRSKI: Enrollment status Telemetry
> 
> +   The ANI Registrar (JRC) MUST support all the BRSKI and above listed
> +   EST operations.


Can't remember conclusion on redundant terminology re. JRC vs. the other terms
used. Personal preference would be to eliminate JRC as a term, but i'll wait
for the final doc. re. minimum necessary terminology.

> +   All ANI devices SHOULD support the BRSKI proxy function, using
> +   circuit proxies.  Other proxy methods are optional

Overall 1.5 nice.1

> +   , and may be
> +   enabled only if the JRC indicates support for them in it's
> +   announcement.  (See Section 4.4)

IMHO: sentence eend after "optional". Followed by "all proxy functionally
needs to ... be enabled...

Aka: circuit proxy is a no-op too if the proxy does not discover a registrar
supporting it. Not specific to advanced options.


>     > II) This leaves the option that EST to install trust anchor is mandatory, but
>     > enrolment with a certificate is optional (except for ANI case).
> 
>     > Aka: would be good to write a sentence/paragraph exactly outlining what is
>     > permitted to happen after a voucher and if any, what parts of EST are deemed to
>     > be necessary by BRSKI (outside of ANI devices. the requirements for ANI devices
>     > are listed above).
> 
> I think that this should be left to other users.

Rephrase ? Don't understand what this means (especially users). "other authors" ? "other docs" ?

Maybe just: 

BRSKI does not mandate EST client certificate enrolment except for ANI devices.
Considerations for complete solutions using Pledges that only perform Request Voucher
and CA Certificates request, but no EST client certificate enrolment are
outside the scope of this document / subject to future work.


> I am going to push the -11 with these changes, and the ones from last week.

Thanks!

Cheers
    Toerless

> I acknowledge that I still have a bunch of edits from the rest of your message.
> 
> 
> --
> Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
>  -= IPv6 IoT consulting =-
> 
> 
> 



> _______________________________________________
> Anima mailing list
> Anima@ietf.org
> https://www.ietf.org/mailman/listinfo/anima


-- 
---
tte@cs.fau.de

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From pritikin@cisco.com  Wed Feb 21 03:45:20 2018
Return-Path: <pritikin@cisco.com>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-12.6 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,DKIM_VALID_AU=-0.1,RCVD_IN_DNSWL_HI=-5,
	RCVD_IN_MSPIKE_H3=-0.01,RCVD_IN_MSPIKE_WL=-0.01,SPF_HELO_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01,USER_IN_DEF_DKIM_WL=-7.5 autolearn=disabled
	version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 204CE58C565
	for <eckert@i4.informatik.uni-erlangen.de>; Wed, 21 Feb 2018 03:45:20 +0100 (CET)
Received: from rcdn-iport-7.cisco.com (rcdn-iport-7.cisco.com [173.37.86.78])
	(using TLSv1.2 with cipher DHE-RSA-SEED-SHA (128/128 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 7748E74E3BD
	for <tte@cs.fau.de>; Wed, 21 Feb 2018 03:45:16 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=@cisco.com; l=10682; q=dns/txt;
  s=iport; t=1519181116; x=1520390716;
  h=from:to:cc:subject:date:message-id:references:
   in-reply-to:content-id:content-transfer-encoding:
   mime-version;
  bh=EYYJTGMdn94W7H+GWCaIZp0cqN1onMb8Jps2S1EhXJ8=;
  b=TCQrZHZqUFzAqWz4rJB7ocWOSNzHa5DQkV+YhksnDpgqaS0jbGT+wFSB
   vo/D6vibe7VsZHsUA7r3otqoVRfRrO4PnqPnYyhxwsHixVEn0tNt5HzDB
   ul/5xwNoE2OsvIUmiPZP32IDcKA/QQm5DEP60SR4+l9FqSGBli1hnVlcv
   4=;
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AeBQA03Ixa/4wNJK1dGQEBAQEBAQEBA?=
 =?us-ascii?q?QEBAQcBAQEBAYMeMWZwKAqDXpgsgVsngReWXS4BgVMKGAuBXoMzAhqCUlgUAQI?=
 =?us-ascii?q?BAQEBAQECayiFIwEBAQMBAQEhEToLBQsCAQgOCgICJgICAiULFRACBA4FG4oAC?=
 =?us-ascii?q?BCrIYIniH6CEwEBAQEBAQEBAQEBAQEBAQEBAQEBARgFgQ+Df4Ingz4pDIJ5gzA?=
 =?us-ascii?q?BAYE1CAEBEQIBHoMXMYI0BaQ1CQKWCpRCl3QCERkBgTsBNiJgcXAVOioBghiEd?=
 =?us-ascii?q?niLYoEZAQEB?=
X-IronPort-AV: E=Sophos;i="5.46,542,1511827200"; 
   d="scan'208";a="356718982"
Received: from alln-core-7.cisco.com ([173.36.13.140])
  by rcdn-iport-7.cisco.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 21 Feb 2018 02:45:13 +0000
Received: from XCH-ALN-011.cisco.com (xch-aln-011.cisco.com [173.36.7.21])
	by alln-core-7.cisco.com (8.14.5/8.14.5) with ESMTP id w1L2jDHM029527
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=FAIL);
	Wed, 21 Feb 2018 02:45:13 GMT
Received: from xch-aln-013.cisco.com (173.36.7.23) by XCH-ALN-011.cisco.com
 (173.36.7.21) with Microsoft SMTP Server (TLS) id 15.0.1320.4; Tue, 20 Feb
 2018 20:45:12 -0600
Received: from xch-aln-013.cisco.com ([173.36.7.23]) by XCH-ALN-013.cisco.com
 ([173.36.7.23]) with mapi id 15.00.1320.000; Tue, 20 Feb 2018 20:45:12 -0600
From: "Max Pritikin (pritikin)" <pritikin@cisco.com>
To: Toerless Eckert <tte@cs.fau.de>
CC: Michael Richardson <mcr+ietf@sandelman.ca>,
        "draft-ietf-anima-bootstrapping-keyinfra@ietf.org"
	<draft-ietf-anima-bootstrapping-keyinfra@ietf.org>,
        "anima@ietf.org"
	<anima@ietf.org>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
Thread-Topic: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
Thread-Index: AQHTqq6RwUq7VDqbtECHDsh0DZ59mKOuiWeAgAABzgA=
Date: Wed, 21 Feb 2018 02:45:12 +0000
Message-ID: <AB3D61FC-9698-44A3-8E82-A203B5414086@cisco.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23103.1519174480@obiwan.sandelman.ca>
 <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
In-Reply-To: <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.99.106.4]
Content-Type: text/plain; charset="utf-8"
Content-ID: <098A6B2D947A164887625D3210C84DF9@emea.cisco.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 10545
Lines: 137

DQoNCj4gT24gRmViIDIwLCAyMDE4LCBhdCA3OjM4IFBNLCBUb2VybGVzcyBFY2tlcnQgPHR0ZUBj
cy5mYXUuZGU+IHdyb3RlOg0KPiANCj4gVGhhbmtzLCBNaWNoYWVsDQo+IENhbid0IHNlZSBhIGNv
bW1pdCBvbiBnaXRodWIgc2luY2UgNiBkeWF5cyBhZ28sIG1heWJlIGluIGRpZmZlcmVudCBicmFu
Y2ggPw0KPiBDb21tZW50cyBmb3Igbm93IHRoZXJlZm9yZSBpbmxpbmUgYWdhaW5zdCB5b3VyIGVt
YWlsLg0KPiANCj4gT24gVHVlLCBGZWIgMjAsIDIwMTggYXQgMDc6NTQ6NDBQTSAtMDUwMCwgTWlj
aGFlbCBSaWNoYXJkc29uIHdyb3RlOg0KPj4gDQo+PiBUb2VybGVzcyBFY2tlcnQgPHR0ZUBjcy5m
YXUuZGU+IHdyb3RlOg0KPj4+IE92ZXJhbGw6DQo+PiANCj4+PiBhKSBSZXF1aXJlbWVudHMgYWJv
dXQgRVNUOg0KPj4gDQo+Pj4gLSBUaGUgaW50cm9kdWN0aW9uIHNheXM6ICJJbnRlZ3JhdGlvbiB3
aXRoIGEgY29tcGxldGUgRVNUIGVucm9sbG1lbnQgaXMNCj4+PiBvcHRpb25hbCBidXQgdHJpdmlh
bCINCj4+PiAtIDUuOC4zIHNheXMgIlRoZSBQbGVkZ2UgTVVTVCByZXF1ZXN0IGEgbmV3IGNsaWVu
dCBjZXJ0aWZpY2F0ZSIuDQo+Pj4gLSAxLjQgc2F5cyAiYm9vdHN0cmFwcGVkIGRldmljZXMgaGF2
ZSBhIGNvbW1vbiB0cnVzdCBhbmNob3IgYW5kIGEgY2VydGlmaWNhdGUNCj4+PiBoYXMgb3B0aW9u
YWxseSBiZWVuIGlzc3VlZCBmcm9tIGEgbG9jYWwgUEtJDQo+PiANCj4+PiBhKSBUaGUgdGV4dCBu
ZWVkcyB0byBiZSBtYWRlIGNvbnNpc3RlbnQgYWNyb3NzIGFsbCBwbGFjZXMgd2hlcmUgcmVxdWly
ZW1lbnRzDQo+Pj4gYXJlIGRlZmluZWQuIEkgaGF2ZSBpbiBnZW5lcmFsIG5vIHN0cm9uZyBvcGlu
aW9uIGhvdyAib3B0aW9uYWwiIHRoZSB0ZXh0IHNob3VsZA0KPj4+IHNheSBFU1Qgb3BlcmF0aW9u
cyBhcmUsIEJVVCBjb25zaWRlciBoZSBmb2xsb3dpbmcgcG9pbnRzOg0KPj4gDQo+Pj4gYikgV2Ug
bmVlZCBhIGNvbXBsZXRlIGxpc3Qgb2YgQlJTS0kgcmVxdWlyZW1lbnRzIGZvciBBTkkgZGV2aWNl
cywgd2hlcmUgRVNUDQo+Pj4gb3BlcmF0aW9uIHJlcXVpcmVtZW50cyBhcmUgbWFkZSBzdHJvbmdl
ci4gSSBzdWdnZXN0IGEgc2VwYXJhdGUgc3Vic2VjdGlvbiBhdCBhbg0KPj4+IGFwcHJvcHJpYXRl
IHBsYWNlIHNvIHRoYXQgIkFOSSByZXF1aXJlbWVudHMiIHNob3dzIHVwIGluIHRoZSB0YWJsZSBv
ZiBjb250ZW50czoNCj4+IA0KPj4+IFNlY3Rpb24gWC5ZLlogUmVxdWlyZW1lbnRzIGZvciBBTkkg
ZGV2aWNlczoNCj4+IA0KPj4+IEZvciBCUlNLSSBvbiBBTkkgRGV2aWNlcyAoQU5JID0gQlJTS0kg
KyBBQ1ApLCBFU1Qgb3BlcmF0aW9ucyBpcyBtYW5kYXRvci4NCj4+PiBUaGUgQU5JIHBsZWRnZSBN
VVNUIHBlcmZvcm0NCj4+PiAtICJDQSBDZXJ0aWZpY2F0ZXMgUmVxdWVzdCIsDQo+Pj4gLSAiQ1NS
IEF0dHJpYnV0ZXMiDQo+Pj4gLSAiQ2xpZW50IENlcnRpZmljYXRlIFJlcXVlc3QiDQo+Pj4gLSAi
RW5yb2xsbWVudCBzdGF0dXMgVGVsZW1ldHJ5Ig0KPj4+IFRoZSBBTkkgcmVnaXN0cmFyIE1VU1Qg
c3VwcG9ydCBCUlNLSSBhbmQgdGhlc2UgRVNUIG9wZXJhdGlvbnMuDQo+Pj4gQWxsIEFOSSBkZXZp
Y2VzIFNIT1VMRCBzdXBwb3J0IHRoZSBCUlNLSSBwcm94eSBmdW5jdGlvbi4NCj4+IA0KPj4gSSd2
ZSBkb25lIHRoZSBmb2xsb3dpbmc6DQo+IFsuLi5dPiANCj4gDQo+PiAxLjEuICBPdGhlciBCb290
c3RyYXBwaW5nIEFwcHJvYWNoZXMNCj4+IA0KPj4gICAgVG8gbGl0ZXJhbGx5ICJwdWxsIHlvdXJz
ZWxmIHVwIGJ5IHRoZSBib290c3RyYXBzIiBpcyBhbiBpbXBvc3NpYmxlDQo+PiBAQCAtMjMzLDkg
KzIzNywxMCBAQCBJbnRlcm5ldC1EcmFmdCAgICAgICAgICAgICAgICAgICAgQlJTS0kgICAgICAg
ICAgICAgICAgICAgIEZlYnJ1YXJ5IDIwMTgNCj4+ICAgIHdpdGhvdXQgZXh0ZXJuYWwgaGVscCBp
cyBhbHNvIGFuIGltcG9zc2liaWxpdHkuICBUb2RheSBpdCBpcyBjb21tb25seQ0KPj4gICAgYWNj
ZXB0ZWQgdGhhdCB0aGUgaW5pdGlhbCBjb25uZWN0aW9ucyBiZXR3ZWVuIG5vZGVzIGFyZSBpbnNl
Y3VyZSwNCj4+ICAgIHVudGlsIGtleSBkaXN0cmlidXRpb24gaXMgY29tcGxldGUsIG9yIHRoYXQg
ZG9tYWluLXNwZWNpZmljIGtleWluZw0KPj4gLSAgIG1hdGVyaWFsIGlzIHByZS1wcm92aXNpb25l
ZCBvbiBlYWNoIG5ldyBkZXZpY2UgaW4gYSBjb3N0bHkgYW5kIG5vbi0NCj4+IC0gICBzY2FsYWJs
ZSBtYW5uZXIuICBFeGlzdGluZyBtZWNoYW5pc21zIGFyZSBrbm93biBhcyBub24tc2VjdXJlZCAn
VHJ1c3QNCj4+IC0gICBvbiBGaXJzdCBVc2UnIChUT0ZVKSBbUkZDNzQzNV0sICdyZXN1cnJlY3Rp
bmcgZHVja2xpbmcnDQo+PiArICAgbWF0ZXJpYWwgKG9mdGVuIHByZS1zaGFyZWQga2V5cywgaW5j
bHVkaW5nIG1lY2hhbmlzbXMgbGlrZSBTSU0gY2FyZHMpDQo+PiArICAgaXMgcHJlLXByb3Zpc2lv
bmVkIG9uIGVhY2ggbmV3IGRldmljZSBpbiBhIGNvc3RseSBhbmQgbm9uLXNjYWxhYmxlDQo+PiAr
ICAgbWFubmVyLiAgRXhpc3RpbmcgbWVjaGFuaXNtcyBhcmUga25vd24gYXMgbm9uLXNlY3VyZWQg
J1RydXN0IG9uIEZpcnN0DQo+PiArICAgVXNlJyAoVE9GVSkgW1JGQzc0MzVdLCAncmVzdXJyZWN0
aW5nIGR1Y2tsaW5nJw0KPj4gICAgW1N0YWphbm85OXRoZXJlc3VycmVjdGluZ10gb3IgJ3ByZS1z
dGFnaW5nJy4NCj4gDQo+IE5pY2UuDQo+IA0KPj4gICAgQW5vdGhlciBhcHByb2FjaCBpcyB0byB0
cnkgYW5kIG1pbmltaXplIHVzZXIgYWN0aW9ucyBkdXJpbmcNCj4+IA0KPj4gQEAgLTM1OCw2ICsz
NjQsMTMgQEAgSW50ZXJuZXQtRHJhZnQgICAgICAgICAgICAgICAgICAgIEJSU0tJICAgICAgICAg
ICAgICAgICAgICBGZWJydWFyeSAyMDE4DQo+PiAgICAgICAiUmVnaXN0cmFyIi4gIFRoZSB0ZXJt
IEpSQyBpcyB1c2VkIGluIGNvbW1vbiB3aXRoIG90aGVyIGJvb3RzdHJhcA0KPj4gICAgICAgbWVj
aGFuaXNtcy4NCj4+IA0KPj4gKyAgIChQdWJsaWMpIEtleSBJbmZyYXN0cnVjdHVyZTogIFRoZSBj
b2xsZWN0aW9uIG9mIHN5c3RlbXMgYW5kIHByb2Nlc3Nlcw0KPj4gKyAgICAgIHRoYXQgc3VzdGFp
biB0aGUgYWN0aXZpdGllcyBvZiBhIHB1YmxpYyBrZXkgc3lzdGVtLiAgSW4gYW4gQU5JTUENCj4+
ICsgICAgICBBdXRvbm9taWMgc3lzdGVtLCB0aGlzIGluY2x1ZGVzIGEgRG9tYWluIENlcnRpZmlj
YXRpb24gQXV0aG9yaXR5DQo+PiArICAgICAgKENBKSwgKEpvaW4pIFJlZ2lzdHJhciB3aGljaCBh
Y3RzIGFzIGFuIFtSRkM1MjgwXSBSZWdpc3RyYXIsIGFzDQo+PiArICAgICAgd2VsbCBhcyBhcHBy
b3ByaWF0ZSBjZXJ0aWZpY2F0ZSByZXZvY2F0aW9uIGxpc3QgKENSTCkgZGlzdHJpYnV0aW9uDQo+
PiArICAgICAgcG9pbnRzIGFuZC9vciBPQ1NQIChbUkZDNjk2MF0pIHNlcnZlcnMuDQo+IA0KPiBJ
IGhhZCBpbnRlcnByZXRlZCBNYXgnZXMgcmVzcG9uc2Ugb24gdGhlIG1haWwgZGlzY3Vzc2lvbiB0
byBpbmRpY2F0ZSB0aGF0DQo+IE1BU0Egd291bGQgYWxzbyBiZSBjb25zaWRlcmVkIHRvIGJlIHBh
cnQgb2YgdGhlIFBLSS4gSSBhbSBmaW5lIGVpdGhlciB3YXkuDQo+IEp1c3QgY2hlY2tpbmcuIElm
IGFzIHlvdSBwcm9wb3NlIGFib3ZlIGl0J3Mgbm90IHBhcnQgb2YgdGhlIFBLSSwgYSBzaW1wbGUN
Cj4gc2VudGVuY2UgZXhwbGFpbmluZyB3aHkgbm90IHdvdWxkIGJlIGdyZWF0Lg0KDQpUaGUgTUFT
QSBpcyBhIGNlcnRpZmllciBvZiB2b3VjaGVycy4gQSB2b3VjaGVyIGlzbuKAmXQgcmVhbGx5IGEg
UEtJIGNvbnN0cnVjdCB0b2RheS4gSXRzIG1vcmUgb2YgYSBkaXN0cmlidXRpb24gb2YgdHJ1c3Qt
YW5jaG9yIG9yIOKAnHBpbm5lZCBjZXJ04oCdIGNvbnN0cnVjdCB1c2VkIHRvIGJvb3RzdHJhcCBh
IFBLSSBiZWNhdXNlIHRoZSBQS0nigJlzIGRvbuKAmXQgaGF2ZSBzdWNoIGEgY29uY2VwdC4gDQoN
CkkgdGhpbmsgaXQgY291bGQgYmUgYXJndWVkIGVpdGhlciB3YXkgYnV0IGl0cyBwcm9iYWJseSBt
b3N0IGFjY3VyYXRlIGF0IHRoaXMgdGltZSB0byB0YWxrIGFib3V0IHRoZSBNQVNBIGFzIGJlaW5n
IGRpc3RpbmN0IGZyb20gdGhlIFBLSSBpZiBvbmx5IGJlY2F1c2UgdGhpcyBpc27igJl0IHRoZSBQ
S0lYIHdvcmtpbmcgZ3JvdXAgYW5kIHRoZXJlZm9yZSBpdCBpc27igJl0IGluIG91ciBjaGFydGVy
IHRvIGFkZCBhbnl0aGluZyB0byB0aGUgcHVibGljIGtleSBpbmZyYXN0cnVjdHVyZS4gDQoNCldo
aWNoIGhpZ2hsaWdodHMgdGhlIGFic3VyZGl0eSBvZiB0cnlpbmcgdG8gZHJhdyB0aGlzIGRpc3Rp
bmN0aW9uLiA6KSBJ4oCZbSBnb29kIHdpdGggTWljaGFlbOKAmXMgZXhjZWxsZW50IHRleHQuIA0K
DQotIG1heA0KDQo+IA0KPj4gKw0KPj4gICAgSm9pbiBQcm94eTogIEEgZG9tYWluIGVudGl0eSB0
aGF0IGhlbHBzIHRoZSBQbGVkZ2Ugam9pbiB0aGUgZG9tYWluLg0KPj4gICAgICAgQSBQcm94eSBm
YWNpbGl0YXRlcyBjb21tdW5pY2F0aW9uIGZvciBkZXZpY2VzIHRoYXQgZmluZCB0aGVtc2VsdmVz
DQo+PiAgICAgICBpbiBhbiBlbnZpcm9ubWVudCB3aGVyZSB0aGV5IGFyZSBub3QgcHJvdmlkZWQg
Y29ubmVjdGl2aXR5IHVudGlsDQo+PiANCj4+ICsxLjUuICBSZXF1aXJlbWVudHMgZm9yIEF1dG9u
b21pYyBOZXR3b3JrIEluZnJhc3RydWN0dXJlIChBTkkpIGRldmljZXMNCj4+IA0KPj4gKyAgIFRo
ZSBCUlNLSSBwcm90b2NvbCBjYW4gYmUgdXNlZCBpbiBhIG51bWJlciBvZiBlbnZpcm9ubWVudHMu
ICBTb21lIG9mDQo+PiArICAgdGhlIGZsZXhpYmlsaXR5IGluIHRoaXMgZG9jdW1lbnQgaXMgdGhl
IHJlc3VsdCBvZiB1c2VycyBvdXQgb2YgdGhlDQo+PiArICAgQU5JIHNjb3BlLiAgVGhpcyBzZWN0
aW9uIGRlZmluZXMgdGhlIGJhc2UgcmVxdWlyZW1lbnRzIGZvciBBTkkNCj4+ICsgICBkZXZpY2Vz
Lg0KPj4gDQo+PiArICAgRm9yIGRldmljZXMgdGhhdCBpbnRlbmQgdG8gYmVjb21lIHBhcnQgb2Yg
YW4gQXV0b25vbWljIE5ldHdvcmsNCj4+ICsgICBJbmZyYXN0cnVjdHVyZSAoQU5JKSAoW0ktRC5p
ZXRmLWFuaW1hLXJlZmVyZW5jZS1tb2RlbF0pIHRoYXQgaW5jbHVkZXMNCj4+ICsgICBhbiBBdXRv
bm9taWMgQ29udHJvbCBQbGFuZQ0KPj4gKyAgIChbSS1ELmlldGYtYW5pbWEtYXV0b25vbWljLWNv
bnRyb2wtcGxhbmVdKSwgdGhlIGZvbGxvd2luZyBhY3Rpb25zIGFyZQ0KPj4gKyAgIHJlcXVpcmVk
IGFuZCBNVVNUIGJlIHBlcmZvcm1lZCBieSB0aGUgUGxlZGdlOg0KPj4gDQo+PiArICAgbyAgQlJT
S0k6IFJlcXVlc3QgVm91Y2hlcg0KPj4gDQo+PiArICAgbyAgRVNUOiBDQSBDZXJ0aWZpY2F0ZXMg
UmVxdWVzdA0KPj4gDQo+PiArICAgbyAgRVNUOiBDU1IgQXR0cmlidXRlcw0KPj4gDQo+PiArICAg
byAgRVNUOiBDbGllbnQgQ2VydGlmaWNhdGUgUmVxdWVzdA0KPj4gDQo+PiArICAgbyAgQlJTS0k6
IEVucm9sbG1lbnQgc3RhdHVzIFRlbGVtZXRyeQ0KPj4gDQo+PiArICAgVGhlIEFOSSBSZWdpc3Ry
YXIgKEpSQykgTVVTVCBzdXBwb3J0IGFsbCB0aGUgQlJTS0kgYW5kIGFib3ZlIGxpc3RlZA0KPj4g
KyAgIEVTVCBvcGVyYXRpb25zLg0KPiANCj4gDQo+IENhbid0IHJlbWVtYmVyIGNvbmNsdXNpb24g
b24gcmVkdW5kYW50IHRlcm1pbm9sb2d5IHJlLiBKUkMgdnMuIHRoZSBvdGhlciB0ZXJtcw0KPiB1
c2VkLiBQZXJzb25hbCBwcmVmZXJlbmNlIHdvdWxkIGJlIHRvIGVsaW1pbmF0ZSBKUkMgYXMgYSB0
ZXJtLCBidXQgaSdsbCB3YWl0DQo+IGZvciB0aGUgZmluYWwgZG9jLiByZS4gbWluaW11bSBuZWNl
c3NhcnkgdGVybWlub2xvZ3kuDQo+IA0KPj4gKyAgIEFsbCBBTkkgZGV2aWNlcyBTSE9VTEQgc3Vw
cG9ydCB0aGUgQlJTS0kgcHJveHkgZnVuY3Rpb24sIHVzaW5nDQo+PiArICAgY2lyY3VpdCBwcm94
aWVzLiAgT3RoZXIgcHJveHkgbWV0aG9kcyBhcmUgb3B0aW9uYWwNCj4gDQo+IE92ZXJhbGwgMS41
IG5pY2UuMQ0KPiANCj4+ICsgICAsIGFuZCBtYXkgYmUNCj4+ICsgICBlbmFibGVkIG9ubHkgaWYg
dGhlIEpSQyBpbmRpY2F0ZXMgc3VwcG9ydCBmb3IgdGhlbSBpbiBpdCdzDQo+PiArICAgYW5ub3Vu
Y2VtZW50LiAgKFNlZSBTZWN0aW9uIDQuNCkNCj4gDQo+IElNSE86IHNlbnRlbmNlIGVlbmQgYWZ0
ZXIgIm9wdGlvbmFsIi4gRm9sbG93ZWQgYnkgImFsbCBwcm94eSBmdW5jdGlvbmFsbHkNCj4gbmVl
ZHMgdG8gLi4uIGJlIGVuYWJsZWQuLi4NCj4gDQo+IEFrYTogY2lyY3VpdCBwcm94eSBpcyBhIG5v
LW9wIHRvbyBpZiB0aGUgcHJveHkgZG9lcyBub3QgZGlzY292ZXIgYSByZWdpc3RyYXINCj4gc3Vw
cG9ydGluZyBpdC4gTm90IHNwZWNpZmljIHRvIGFkdmFuY2VkIG9wdGlvbnMuDQo+IA0KPiANCj4+
PiBJSSkgVGhpcyBsZWF2ZXMgdGhlIG9wdGlvbiB0aGF0IEVTVCB0byBpbnN0YWxsIHRydXN0IGFu
Y2hvciBpcyBtYW5kYXRvcnksIGJ1dA0KPj4+IGVucm9sbWVudCB3aXRoIGEgY2VydGlmaWNhdGUg
aXMgb3B0aW9uYWwgKGV4Y2VwdCBmb3IgQU5JIGNhc2UpLg0KPj4gDQo+Pj4gQWthOiB3b3VsZCBi
ZSBnb29kIHRvIHdyaXRlIGEgc2VudGVuY2UvcGFyYWdyYXBoIGV4YWN0bHkgb3V0bGluaW5nIHdo
YXQgaXMNCj4+PiBwZXJtaXR0ZWQgdG8gaGFwcGVuIGFmdGVyIGEgdm91Y2hlciBhbmQgaWYgYW55
LCB3aGF0IHBhcnRzIG9mIEVTVCBhcmUgZGVlbWVkIHRvDQo+Pj4gYmUgbmVjZXNzYXJ5IGJ5IEJS
U0tJIChvdXRzaWRlIG9mIEFOSSBkZXZpY2VzLiB0aGUgcmVxdWlyZW1lbnRzIGZvciBBTkkgZGV2
aWNlcw0KPj4+IGFyZSBsaXN0ZWQgYWJvdmUpLg0KPj4gDQo+PiBJIHRoaW5rIHRoYXQgdGhpcyBz
aG91bGQgYmUgbGVmdCB0byBvdGhlciB1c2Vycy4NCj4gDQo+IFJlcGhyYXNlID8gRG9uJ3QgdW5k
ZXJzdGFuZCB3aGF0IHRoaXMgbWVhbnMgKGVzcGVjaWFsbHkgdXNlcnMpLiAib3RoZXIgYXV0aG9y
cyIgPyAib3RoZXIgZG9jcyIgPw0KPiANCj4gTWF5YmUganVzdDogDQo+IA0KPiBCUlNLSSBkb2Vz
IG5vdCBtYW5kYXRlIEVTVCBjbGllbnQgY2VydGlmaWNhdGUgZW5yb2xtZW50IGV4Y2VwdCBmb3Ig
QU5JIGRldmljZXMuDQo+IENvbnNpZGVyYXRpb25zIGZvciBjb21wbGV0ZSBzb2x1dGlvbnMgdXNp
bmcgUGxlZGdlcyB0aGF0IG9ubHkgcGVyZm9ybSBSZXF1ZXN0IFZvdWNoZXINCj4gYW5kIENBIENl
cnRpZmljYXRlcyByZXF1ZXN0LCBidXQgbm8gRVNUIGNsaWVudCBjZXJ0aWZpY2F0ZSBlbnJvbG1l
bnQgYXJlDQo+IG91dHNpZGUgdGhlIHNjb3BlIG9mIHRoaXMgZG9jdW1lbnQgLyBzdWJqZWN0IHRv
IGZ1dHVyZSB3b3JrLg0KPiANCj4gDQo+PiBJIGFtIGdvaW5nIHRvIHB1c2ggdGhlIC0xMSB3aXRo
IHRoZXNlIGNoYW5nZXMsIGFuZCB0aGUgb25lcyBmcm9tIGxhc3Qgd2Vlay4NCj4gDQo+IFRoYW5r
cyENCj4gDQo+IENoZWVycw0KPiAgICBUb2VybGVzcw0KPiANCj4+IEkgYWNrbm93bGVkZ2UgdGhh
dCBJIHN0aWxsIGhhdmUgYSBidW5jaCBvZiBlZGl0cyBmcm9tIHRoZSByZXN0IG9mIHlvdXIgbWVz
c2FnZS4NCj4+IA0KPj4gDQo+PiAtLQ0KPj4gTWljaGFlbCBSaWNoYXJkc29uIDxtY3IrSUVURkBz
YW5kZWxtYW4uY2E+LCBTYW5kZWxtYW4gU29mdHdhcmUgV29ya3MNCj4+IC09IElQdjYgSW9UIGNv
bnN1bHRpbmcgPS0NCj4+IA0KPj4gDQo+PiANCj4gDQo+IA0KPiANCj4+IF9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQo+PiBBbmltYSBtYWlsaW5nIGxpc3QN
Cj4+IEFuaW1hQGlldGYub3JnDQo+PiBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2FuaW1hDQo+IA0KPiANCj4gLS0gDQo+IC0tLQ0KPiB0dGVAY3MuZmF1LmRlDQoNCg==

From anima-bounces@ietf.org  Wed Feb 21 03:58:28 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.1 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_MED=-2.3,
	SPF_FAIL=0.919 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 9803C58C569;
	Wed, 21 Feb 2018 03:58:28 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 22F6C74E6C4;
	Wed, 21 Feb 2018 03:58:26 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id B4357129C56;
	Tue, 20 Feb 2018 18:58:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1519181904; bh=flfWvqpSOvqXNbeF4K1kd0WCsBVoFeXZ135kY0XEMU8=;
	h=Date:From:To:References:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=ikeENKBVLy9DgHzHdCWfNny6jLIk5i2SHO400gU8oxhEXHENFstzNwB72mHZUIy0f
	 dI2cVPs1C9Pf3opn2NhWMVfng2kZqI/8KOQKcNBvnR6BL5Xlnp1L3S2ZxwpqGObVaF
	 +wJTs66NPj1QteZETLB5gd8WZkdeYzkQ4i8TyfSg=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id C3635124D68;
 Tue, 20 Feb 2018 18:58:22 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id fjBOLq-MkBgE; Tue, 20 Feb 2018 18:58:20 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 4E20F1204DA;
 Tue, 20 Feb 2018 18:58:20 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [131.188.34.77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id 4550058C565;
 Wed, 21 Feb 2018 03:58:16 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id 23B6AB0DB08; Wed, 21 Feb 2018 03:58:16 +0100 (CET)
Date: Wed, 21 Feb 2018 03:58:16 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: "Max Pritikin (pritikin)" <pritikin@cisco.com>
Message-ID: <20180221025815.GE23498@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23103.1519174480@obiwan.sandelman.ca>
 <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
 <AB3D61FC-9698-44A3-8E82-A203B5414086@cisco.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <AB3D61FC-9698-44A3-8E82-A203B5414086@cisco.com>
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/OpGVJkhqVQ_iM8GpNuE-lqGM-t8>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: "draft-ietf-anima-bootstrapping-keyinfra@ietf.org"
 <draft-ietf-anima-bootstrapping-keyinfra@ietf.org>,
 Michael Richardson <mcr+ietf@sandelman.ca>, "anima@ietf.org" <anima@ietf.org>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 5053
Lines: 134

On Wed, Feb 21, 2018 at 02:45:12AM +0000, Max Pritikin (pritikin) wrote:
> 
> The MASA is a certifier of vouchers. A voucher isn???t really a PKI construct today. Its more of a distribution of trust-anchor or ???pinned cert??? construct used to bootstrap a PKI because the PKI???s don???t have such a concept. 

Thank. I always hate good explanations go to waste. Sentence like the following would be lovely for readers whose first attempt at survival in a sea of security is to figure out what the terminology means:


(at end of PKI def in termonology).
Note: The definition of PKI preceeds the MASA and Voucher concepts and any evolution of the definition of the term PKI is outside the scope of this document. Therefore they are not  considered to be part of a PKI.

Cheers
   Toerless

> I think it could be argued either way but its probably most accurate at this time to talk about the MASA as being distinct from the PKI if only because this isn???t the PKIX working group and therefore it isn???t in our charter to add anything to the public key infrastructure. 
> 
> Which highlights the absurdity of trying to draw this distinction. :) I???m good with Michael???s excellent text. 
> 
> - max
> 
> > 
> >> +
> >>    Join Proxy:  A domain entity that helps the Pledge join the domain.
> >>       A Proxy facilitates communication for devices that find themselves
> >>       in an environment where they are not provided connectivity until
> >> 
> >> +1.5.  Requirements for Autonomic Network Infrastructure (ANI) devices
> >> 
> >> +   The BRSKI protocol can be used in a number of environments.  Some of
> >> +   the flexibility in this document is the result of users out of the
> >> +   ANI scope.  This section defines the base requirements for ANI
> >> +   devices.
> >> 
> >> +   For devices that intend to become part of an Autonomic Network
> >> +   Infrastructure (ANI) ([I-D.ietf-anima-reference-model]) that includes
> >> +   an Autonomic Control Plane
> >> +   ([I-D.ietf-anima-autonomic-control-plane]), the following actions are
> >> +   required and MUST be performed by the Pledge:
> >> 
> >> +   o  BRSKI: Request Voucher
> >> 
> >> +   o  EST: CA Certificates Request
> >> 
> >> +   o  EST: CSR Attributes
> >> 
> >> +   o  EST: Client Certificate Request
> >> 
> >> +   o  BRSKI: Enrollment status Telemetry
> >> 
> >> +   The ANI Registrar (JRC) MUST support all the BRSKI and above listed
> >> +   EST operations.
> > 
> > 
> > Can't remember conclusion on redundant terminology re. JRC vs. the other terms
> > used. Personal preference would be to eliminate JRC as a term, but i'll wait
> > for the final doc. re. minimum necessary terminology.
> > 
> >> +   All ANI devices SHOULD support the BRSKI proxy function, using
> >> +   circuit proxies.  Other proxy methods are optional
> > 
> > Overall 1.5 nice.1
> > 
> >> +   , and may be
> >> +   enabled only if the JRC indicates support for them in it's
> >> +   announcement.  (See Section 4.4)
> > 
> > IMHO: sentence eend after "optional". Followed by "all proxy functionally
> > needs to ... be enabled...
> > 
> > Aka: circuit proxy is a no-op too if the proxy does not discover a registrar
> > supporting it. Not specific to advanced options.
> > 
> > 
> >>> II) This leaves the option that EST to install trust anchor is mandatory, but
> >>> enrolment with a certificate is optional (except for ANI case).
> >> 
> >>> Aka: would be good to write a sentence/paragraph exactly outlining what is
> >>> permitted to happen after a voucher and if any, what parts of EST are deemed to
> >>> be necessary by BRSKI (outside of ANI devices. the requirements for ANI devices
> >>> are listed above).
> >> 
> >> I think that this should be left to other users.
> > 
> > Rephrase ? Don't understand what this means (especially users). "other authors" ? "other docs" ?
> > 
> > Maybe just: 
> > 
> > BRSKI does not mandate EST client certificate enrolment except for ANI devices.
> > Considerations for complete solutions using Pledges that only perform Request Voucher
> > and CA Certificates request, but no EST client certificate enrolment are
> > outside the scope of this document / subject to future work.
> > 
> > 
> >> I am going to push the -11 with these changes, and the ones from last week.
> > 
> > Thanks!
> > 
> > Cheers
> >    Toerless
> > 
> >> I acknowledge that I still have a bunch of edits from the rest of your message.
> >> 
> >> 
> >> --
> >> Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
> >> -= IPv6 IoT consulting =-
> >> 
> >> 
> >> 
> > 
> > 
> > 
> >> _______________________________________________
> >> Anima mailing list
> >> Anima@ietf.org
> >> https://www.ietf.org/mailman/listinfo/anima
> > 
> > 
> > -- 
> > ---
> > tte@cs.fau.de
> 
> _______________________________________________
> Anima mailing list
> Anima@ietf.org
> https://www.ietf.org/mailman/listinfo/anima

-- 
---
tte@cs.fau.de

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From mcr+ietf@sandelman.ca  Wed Feb 21 03:55:16 2018
Return-Path: <mcr+ietf@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id B9F4658C565
	for <eckert@i4.informatik.uni-erlangen.de>; Wed, 21 Feb 2018 03:55:16 +0100 (CET)
Received: from tuna.sandelman.ca (tuna.sandelman.ca [IPv6:2607:f0b0:f:3:216:3eff:fe7c:d1f3])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 2645874E6C0
	for <tte@cs.fau.de>; Wed, 21 Feb 2018 03:55:12 +0100 (CET)
Received: from sandelman.ca (obiwan.sandelman.ca [IPv6:2607:f0b0:f:2::247])
	by tuna.sandelman.ca (Postfix) with ESMTP id 1A4A220091;
	Tue, 20 Feb 2018 22:02:30 -0500 (EST)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
	by sandelman.ca (Postfix) with ESMTP id 8886F80CCB;
	Tue, 20 Feb 2018 21:55:09 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Toerless Eckert <tte@cs.fau.de>
cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: [Anima] Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-Reply-To: <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de> <23103.1519174480@obiwan.sandelman.ca> <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;<'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha256; protocol="application/pgp-signature"
Date: Tue, 20 Feb 2018 21:55:09 -0500
Message-ID: <20939.1519181709@obiwan.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 989
Lines: 34

--=-=-=
Content-Type: text/plain


Toerless Eckert <tte@cs.fau.de> wrote:
    > Thanks, Michael
    > Can't see a commit on github since 6 dyays ago, maybe in different branch ?
    > Comments for now therefore inline against your email.

Yeah, it's on the  toerless-terminology-comments branch.
About to be in -11.

--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlqM340ACgkQgItw+93Q
3WUqogf+OWnbJblxYd8xvGulN0wv5gyY9BsA1bvuClNTlWgrlXVfZcNjvuFbTbG6
SWGYvM0H2fsQPZ8ZPoQHU4hBw205k6dL7RWuTRbNftS5zOMxGOeAJuHbkAA6wBIk
Rab3v0MgvA109+HmqC/1bRS8vcMWNh+wtd8E4plB+chZT5vmMQYahZPxQBZhNxa5
LAgrjSlOxDot2JBU35PJhy6Pdu1Zu4/ZZHM4Kx8M3j/pFwWic6a/uesWts46LdpW
HyyOvCJWRgFzSWb9Ov26Hj2w18JJIP709cJqL1ez/QNXSIjxpKGS1Ur9BAbqZ6ao
Jzl3B4JTbLVvCo144IesyjBpvumwbg==
=gcwq
-----END PGP SIGNATURE-----
--=-=-=--

From anima-bounces@ietf.org  Wed Feb 21 16:15:47 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.8 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.249,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 4D23A58C51A;
	Wed, 21 Feb 2018 16:15:47 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 006E074E1ED;
	Wed, 21 Feb 2018 16:15:40 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id A332812D810;
	Wed, 21 Feb 2018 07:15:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1519226138; bh=mJ6tB1XV/T26xuPhRrSPiHid4LlWgeoeJCEdSqTqUJ8=;
	h=Date:From:To:References:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=jc4XssgeWZSpti35YG3BcRkw+0LdIqIYpLf1oTDGmLDDJl8xcEcM6wrkl7Oq/jv5f
	 wQluCG1ZBGx1W5UzqBH0J3oR+2HhM58hP5eFLwjIRCKc4ojCjVoDZl1PReB90PRCQY
	 HqLy4tDDON+RlmSHvTleksxG+FuUXAmblfP2wnOM=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 7366912D7E5;
 Wed, 21 Feb 2018 07:15:36 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id GVA-RfVQKvt6; Wed, 21 Feb 2018 07:15:34 -0800 (PST)
Received: from faui40.informatik.uni-erlangen.de
 (faui40.informatik.uni-erlangen.de [131.188.34.40])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 92E7C1270AB;
 Wed, 21 Feb 2018 07:15:34 -0800 (PST)
Received: from faui40p.informatik.uni-erlangen.de
 (faui40p.informatik.uni-erlangen.de [131.188.34.77])
 by faui40.informatik.uni-erlangen.de (Postfix) with ESMTP id 9B4FE58C51A;
 Wed, 21 Feb 2018 16:15:29 +0100 (CET)
Received: by faui40p.informatik.uni-erlangen.de (Postfix, from userid 10463)
 id 7FA0AB0DB17; Wed, 21 Feb 2018 16:15:29 +0100 (CET)
Date: Wed, 21 Feb 2018 16:15:29 +0100
From: Toerless Eckert <tte@cs.fau.de>
To: Michael Richardson <mcr+ietf@sandelman.ca>
Message-ID: <20180221151529.GF23498@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23103.1519174480@obiwan.sandelman.ca>
 <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
 <22048.1519182010@obiwan.sandelman.ca>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <22048.1519182010@obiwan.sandelman.ca>
User-Agent: Mutt/1.5.21 (2010-09-15)
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/GpsSGXRFhLBJYsGW5LmJGpNYg20>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 2122
Lines: 56

On Tue, Feb 20, 2018 at 10:00:10PM -0500, Michael Richardson wrote:
> 
> Yes, that in the thread, where I referred to a thread back in January 2017,
> in which you were involved in coming up with the names.
> 
>     >> +   , and may be
>     >> +   enabled only if the JRC indicates support for them in it's
>     >> +   announcement.  (See Section 4.4)
> 
>     > IMHO: sentence eend after "optional". Followed by "all proxy functionally
>     > needs to ... be enabled...
> 
>     > Aka: circuit proxy is a no-op too if the proxy does not discover a registrar
>     > supporting it. Not specific to advanced options.
> 
> Circuit proxy is a MTI for the JRC, and requires *NO* special support in the JRC.
> If the Registrar doesn't support listening on port 443, then it's not a registrar :-)

Maybe i just have an english language problems:

"may (be only enabled) if" implies to me "could also (be enabled) even if not",
but that would not be correct: No version of a proxy can be enabled unless
a registrar has been discovered by the proxy AND that proxy is announcing support for the
proxy method. And that applies to all proxy methods.

correct language:  "can be only enabled if" ?
                    ^^^

If i misunderstand english: what is the difference between may/can in this sentence ?

circuit-proxy is only MTI for ANI registrars, these sentences are not
constrained to ANI. I would assume in some derived solutions like 
6tisch or the like, registrar may only have non-circuit proxies.. ?!

Sorry if this is too much nitpicking.

>     > Rephrase ? Don't understand what this means (especially users). "other
>     > authors" ? "other docs" ?
> 
> If someone is using BRSKI in a non-ANI situation, then that entity should
> explain what kinds of things can occur after voucher.  So I prefer to remain mute.

ah! "user" = "author of followup work".

Thanks!
    Toerles

> --
> Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
>  -= IPv6 IoT consulting =-
> 

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From anima-bounces@ietf.org  Sun Feb 25 23:45:56 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.8 required=5.0 tests=DKIM_ADSP_CUSTOM_MED=0.001,
	DKIM_SIGNED=0.1,DKIM_VALID=-0.1,FREEMAIL_FORGED_FROMDOMAIN=0.249,
	FREEMAIL_FROM=0.001,HEADER_FROM_DIFFERENT_DOMAINS=0.249,
	RCVD_IN_DNSWL_MED=-2.3,T_RP_MATCHES_RCVD=-0.01 autolearn=disabled
	version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 3324458C52D;
	Sun, 25 Feb 2018 23:45:56 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [4.31.198.44])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 2763374E252;
	Sun, 25 Feb 2018 23:45:52 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id A8B93124D68;
	Sun, 25 Feb 2018 14:45:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1519598750; bh=GvEH6mLXr9NLuI7wfjtKY0bs7Hs3/h9jZiUTsEXB2SM=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=nQbRSyM3Gfuqv5vOKL5rp6wa3zVPfLb72Mzh2LGc4G8n/QAnNF3iHAXLKKIEfJGsF
	 v18lKi+ESoqed8SjXGAoyEhgahC3L63DdEzWVwWQFS0SKna0PIKwMpJgaS8yV1mR6B
	 sDRSEID352UGgc0vbz3C+H3MokaacQUNEODVm73k=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 6C8A3124BAC
 for <anima@ietfa.amsl.com>; Sun, 25 Feb 2018 14:45:49 -0800 (PST)
Authentication-Results: ietfa.amsl.com (amavisd-new); dkim=pass (2048-bit key)
 header.d=gmail.com
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id kOvt5VpCuWtL for <anima@ietfa.amsl.com>;
 Sun, 25 Feb 2018 14:45:46 -0800 (PST)
Received: from mail-pg0-x230.google.com (mail-pg0-x230.google.com
 [IPv6:2607:f8b0:400e:c05::230])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 3A9C9124207
 for <anima@ietf.org>; Sun, 25 Feb 2018 14:45:46 -0800 (PST)
Received: by mail-pg0-x230.google.com with SMTP id q27so3876401pgn.8
 for <anima@ietf.org>; Sun, 25 Feb 2018 14:45:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; 
 h=sender:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=KMB87EFL93OvFY4grHuVMZqC2QZH7yoFwWDlXk9RJH8=;
 b=StnS21lxB4ZnP1RLxNYCWes1LkI9chRdKN4Wf74LtVUQkWHkt0K3Uh4bZVpNU2acvL
 N3Hf6USNEr8ElxY3fdbHoKn9Rw3w41K8xTrojP1XenkBwwqu51Rliu8kJ38ZsruA/4rL
 MRyLpryQPyePjlfuTzgymqx9G2QLro6l7xAFkethbnXxEm5lCh3ImYhfT4xiuuQuHO7z
 Y3wO6LaQUEH3AXf+2qmxeRpWGLKNFJmNSYG3iOu0lGY4Gsw50WUErbAK3PazLY9v+Ufa
 ah6V/+ceAse92gDU6eUz9OAPvEZpGL8VMxHExV+7VlUqlgNm8E2YvB4faOtXDtW/m1X8
 8HSA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=KMB87EFL93OvFY4grHuVMZqC2QZH7yoFwWDlXk9RJH8=;
 b=Sn63tHNknXO+vpry2YOjjBdAds15yPaNWY43ZGSQQDwPMaRTjf1mIasEAkoLnAmNBT
 xBaX3O13m9nnY+atbx5X/N+UHS+eb6WjWqxkt+UjnhrscqeKcXsE8Cf026kpsh5LyIUP
 sRL8/WGn8fX4VXInIKupik5NLAmCJTwlLKBO0xtkz7L1fI34KUDdO793Mh8nWGxxOH57
 C18BCSaBSks1vLiHzesmE7zvsQ9n6abgaBCDo6j5LSaIqVfSY4U85HJh1sOM0yoEbo/S
 q7RAlIXgHqRG9nxpQKoZcS1DKIkpEfgY0viR3qzQnZ9jDOnagqe/lxkmtqC/TkEmpOuO
 G5zw==
X-Gm-Message-State: APf1xPDb10b7GfYoErsCfc3ejjCh7gOjhAhl6zJC6DK6R25CgHQca1iy
 1POJVBYv8Jn4zuvBfnJ0XCM9CylU
X-Google-Smtp-Source: AH8x227GRxVK1v2xb+6m9HbK+38NM1xH+UKvxFdSsiMNx3XTJ6BONLVw0j2d6ORADz5RpMJqyB387A==
X-Received: by 10.99.188.2 with SMTP id q2mr6958705pge.101.1519598745639;
 Sun, 25 Feb 2018 14:45:45 -0800 (PST)
Received: from [192.168.183.200] ([114.23.138.211])
 by smtp.gmail.com with ESMTPSA id c21sm4663814pfi.91.2018.02.25.14.45.43
 for <anima@ietf.org>
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Sun, 25 Feb 2018 14:45:45 -0800 (PST)
To: anima@ietf.org
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23103.1519174480@obiwan.sandelman.ca>
 <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
 <22048.1519182010@obiwan.sandelman.ca>
 <20180221151529.GF23498@faui40p.informatik.uni-erlangen.de>
From: Brian E Carpenter <brian.e.carpenter@gmail.com>
Message-ID: <825bb3aa-337b-cc1b-bcc0-8c5706bc2757@gmail.com>
Date: Mon, 26 Feb 2018 11:45:40 +1300
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101
 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <20180221151529.GF23498@faui40p.informatik.uni-erlangen.de>
Content-Language: en-US
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/dAySD6S4Xk7m0Eae9Ci7Oqrxl3U>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 3276
Lines: 96

"may" is an ambiguous word in English, and is probably the main reason
we have RFC2119.

"It may rain today." == "Rain is possible today."

"You may shake my hand." ==
either
  (a) "I permit you to shake my hand."
or
  (b) "It is physically possible that you will shake my hand."

"You may not shake my hand." == "I forbid you to shake my hand."

"It may not rain today." == "Rain is possible today."

(In fact the last two are also ambiguous, strictly speaking, but
I think most people would interpret them as I suggest. This is
why "MAY NOT" is not allowed by RFC 2119.)

So lower case non-RFC2119 "may" is a tricky word in an RFC. Sometimes
it means "might" or "is possible", sometimes it means "is allowed".

I definitely recommend replacing lower-case "may" in a case like
the one below.

Perhaps:

>> , and MUST NOT be
>>   enabled unless the JRC indicates support for them 

Regards
   Brian

On 22/02/2018 04:15, Toerless Eckert wrote:
> On Tue, Feb 20, 2018 at 10:00:10PM -0500, Michael Richardson wrote:
>>
>> Yes, that in the thread, where I referred to a thread back in January 2017,
>> in which you were involved in coming up with the names.
>>
>>     >> +   , and may be
>>     >> +   enabled only if the JRC indicates support for them in it's
>>     >> +   announcement.  (See Section 4.4)
>>
>>     > IMHO: sentence eend after "optional". Followed by "all proxy functionally
>>     > needs to ... be enabled...
>>
>>     > Aka: circuit proxy is a no-op too if the proxy does not discover a registrar
>>     > supporting it. Not specific to advanced options.
>>
>> Circuit proxy is a MTI for the JRC, and requires *NO* special support in the JRC.
>> If the Registrar doesn't support listening on port 443, then it's not a registrar :-)
> 
> Maybe i just have an english language problems:
> 
> "may (be only enabled) if" implies to me "could also (be enabled) even if not",
> but that would not be correct: No version of a proxy can be enabled unless
> a registrar has been discovered by the proxy AND that proxy is announcing support for the
> proxy method. And that applies to all proxy methods.
> 
> correct language:  "can be only enabled if" ?
>                     ^^^
> 
> If i misunderstand english: what is the difference between may/can in this sentence ?
> 
> circuit-proxy is only MTI for ANI registrars, these sentences are not
> constrained to ANI. I would assume in some derived solutions like 
> 6tisch or the like, registrar may only have non-circuit proxies.. ?!
> 
> Sorry if this is too much nitpicking.
> 
>>     > Rephrase ? Don't understand what this means (especially users). "other
>>     > authors" ? "other docs" ?
>>
>> If someone is using BRSKI in a non-ANI situation, then that entity should
>> explain what kinds of things can occur after voucher.  So I prefer to remain mute.
> 
> ah! "user" = "author of followup work".
> 
> Thanks!
>     Toerles
> 
>> --
>> Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
>>  -= IPv6 IoT consulting =-
>>
> 
> _______________________________________________
> Anima mailing list
> Anima@ietf.org
> https://www.ietf.org/mailman/listinfo/anima
> 

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From anima-bounces@ietf.org  Mon Mar 26 22:13:43 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.1 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_MED=-2.3,
	SPF_FAIL=0.919 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 785E158C4B2;
	Mon, 26 Mar 2018 22:13:43 +0200 (CEST)
Received: from mail.ietf.org (mail.ietf.org [4.31.198.44])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id EDF2F74F13F;
	Mon, 26 Mar 2018 22:13:40 +0200 (CEST)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 6605812D950;
	Mon, 26 Mar 2018 13:13:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1522095219; bh=b69cwORsoYQsOEieIsUPVRDxkC62g0ZWsb8ygblM8x8=;
	h=From:To:In-Reply-To:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=njkR3rh8/XhkiuXAS296Ui1Y74lJPXX9ESn76nfEjvCSvASy5dSopdFDrWP+YD9BD
	 mygQBRZgik4My1SGT5hgTrBmg5jTXCuk5k2bWzZRQcHUvtKkNvaJw/6QF5pB2JUNOX
	 1TYG3yVmB2QcjImjHFtYs8dTBvaR8VmCfMXVwak8=
X-Mailbox-Line: From anima-bounces@ietf.org  Mon Mar 26 13:13:37 2018
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 04F3512D7F0;
	Mon, 26 Mar 2018 13:13:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1522095217; bh=b69cwORsoYQsOEieIsUPVRDxkC62g0ZWsb8ygblM8x8=;
	h=From:To:In-Reply-To:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=o5j3kcwNOknbNOeFtu4S/ZEMSQBFqlWItpqWErIpdtS/YPacbVNe4CdIFPuy+euHN
	 SoTqtTXadNjD8rcpSFWDn+6WzMExLGSFm6DYXNNjN7X97rFu49xHi4TyXK72a3q97N
	 yZuIHpzA8FJcmWE3RjF8GNkLdnxhOZJ6VuS72ATo=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 360C21276AF
 for <anima@ietfa.amsl.com>; Mon, 26 Mar 2018 13:13:35 -0700 (PDT)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id lVeeGHKyWJe3 for <anima@ietfa.amsl.com>;
 Mon, 26 Mar 2018 13:13:33 -0700 (PDT)
Received: from tuna.sandelman.ca (tuna.sandelman.ca
 [IPv6:2607:f0b0:f:3:216:3eff:fe7c:d1f3])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 74DB4126CC4
 for <anima@ietf.org>; Mon, 26 Mar 2018 13:13:33 -0700 (PDT)
Received: from sandelman.ca (obiwan.sandelman.ca [209.87.249.21])
 by tuna.sandelman.ca (Postfix) with ESMTP id 23E0520090;
 Mon, 26 Mar 2018 16:22:50 -0400 (EDT)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
 by sandelman.ca (Postfix) with ESMTP id 1922780B46;
 Mon, 26 Mar 2018 16:13:32 -0400 (EDT)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Brian E Carpenter <brian.e.carpenter@gmail.com>
In-Reply-To: <825bb3aa-337b-cc1b-bcc0-8c5706bc2757@gmail.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23103.1519174480@obiwan.sandelman.ca>
 <20180221023844.GD23498@faui40p.informatik.uni-erlangen.de>
 <22048.1519182010@obiwan.sandelman.ca>
 <20180221151529.GF23498@faui40p.informatik.uni-erlangen.de>
 <825bb3aa-337b-cc1b-bcc0-8c5706bc2757@gmail.com>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;
 <'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Date: Mon, 26 Mar 2018 16:13:32 -0400
Message-ID: <16780.1522095212@obiwan.sandelman.ca>
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/bMuz-wsgDQi51viEPrGZnxGxGLI>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: anima@ietf.org
Content-Type: multipart/mixed; boundary="===============4753793955296309849=="
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 1456
Lines: 58

--===============4753793955296309849==
Content-Type: multipart/signed; boundary="=-=-=";
 micalg=pgp-sha256; protocol="application/pgp-signature"

--=-=-=
Content-Type: text/plain


Brian E Carpenter <brian.e.carpenter@gmail.com> wrote:
    > I definitely recommend replacing lower-case "may" in a case like
    > the one below.

Agreed.

    > Perhaps:

    >>> , and MUST NOT be
    >>> enabled unless the JRC indicates support for them

Changed.


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlq5VGsACgkQgItw+93Q
3WWAZQgAmmdTHE80WhCFrWrb1xCIgogzxKw3M1mfknjRDInMRbok1w54Lzpl8PId
/3RxMA6L9OJUan6U5ylzWCtECU45wOEJ1Lln58BFGCsFkc7jxP8mLO8qVflRFAmx
Woog7t69BTULRJY4+BAnSwPMYond+y53JlKciJxyIxth7Ca/Kh9ff/7Aa4paNCQU
m+wdYBhCl0d4RNkz9DRZTs+S1cTPJuLxrIuVuQzfvl9QEGW0Fi+IwZgk9PjDp7Gt
zwzHlcR3BQhYZB8mPvTYFzp3NkMrPyZqG/VAGbdlX+QG298wCvqBA54nJ4pcGT0g
dFG//vJdvMsEb6NuWXBV/eQOVv0+Dw==
=WLrM
-----END PGP SIGNATURE-----
--=-=-=--


--===============4753793955296309849==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

--===============4753793955296309849==--

From mcr@sandelman.ca  Sat Mar  3 00:00:22 2018
Return-Path: <mcr@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 9E46858C4FA
	for <eckert@i4.informatik.uni-erlangen.de>; Sat,  3 Mar 2018 00:00:22 +0100 (CET)
Received: from relay.sandelman.ca (relay.cooperix.net [176.58.120.209])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 3738074E82C
	for <tte@cs.fau.de>; Sat,  3 Mar 2018 00:00:17 +0100 (CET)
Received: from dooku.sandelman.ca (unknown [IPv6:2607:f0b0:f:b:a11:96ff:fe01:81e0])
	by relay.sandelman.ca (Postfix) with ESMTPS id 42D1E1F95A;
	Fri,  2 Mar 2018 23:00:11 +0000 (UTC)
Received: by dooku.sandelman.ca (Postfix, from userid 179)
	id 868B82546; Fri,  2 Mar 2018 17:59:49 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Toerless Eckert <tte@cs.fau.de>
cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-reply-to: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
Comments: In-reply-to Toerless Eckert <tte@cs.fau.de>
   message dated "Wed, 14 Feb 2018 02:09:10 +0100."
X-Mailer: MH-E 8.6; nmh 1.6; GNU Emacs 24.5.1
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha1; protocol="application/pgp-signature"
Date: Fri, 02 Mar 2018 17:59:49 -0500
Message-ID: <23390.1520031589@dooku.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 11346
Lines: 292

--=-=-=
Content-Type: text/plain


Max, please search for QUESTION.

Toerless Eckert <tte@cs.fau.de> wrote:
> 1.) Introduction
>
> a) The intro of 1. is somehat confusing to the uninitiated.
>
> Suggest the followinf replacement text for two paragraps:
>
> BRSKI provides a solution for secure zero-touch (automated) bootstrap of
> virgin (untouched) devices that are called Pledges in this document. These Pledges
> need to discover (or be discovered by) an element of the network domain to which the
> Pledge belongs to perform the bootstrap.  This element (device) is called the
> (Domain Join) Registrar.  Before any other operation, Pledge and Registrar need to
>  establish mutual trust:
>
> Then the four existing bullet points, but number them.
>
> Then followed by th following paragraph to replace the existing paragraph after
> the four bullet poins.

All done, including:

> b) It would be nice to have a paragraph mentioning the proxy as a mean to
> provide easier connectivity for Pledges (no need for full network connectivity).

Also, we have tried to always say "PKIX" certificates, since the whole
"X.509" space is decades old... Credit to IETF for keeping it alive.

> 1.1)
>
> a) "other Bootstrapping Approaches": "other" -> "prior" or "existing" ?

I'll take Prior, but I'm not crazy about the change.

> b) "_or_ that domain-specific keying material". Is this not an _and_ ?

It's an or.
It's *insecure* *OR* there is a domain-specific key.

> c) "in a costly and non-scaleable manner". "non-scaleable" may be hard to
> argue. Whole economies where built on manual labor. Might rather use
> qualifiers such as "little or not at all automated", "error-prone" and/or
> referring to physical security (.e.g: trusted pre-staging location).

Generally, any process that requires linear amount of labour (or capacity) to
be added in order to grow linearly are consider non-scalable.
Of course you can make pigs fly with enough rockets, but it does not work for
arbitrarily sized pigs.

> d) "existing mechanisms" -> "existing automated mechanisms".

okay.

> e) Paragraph 2 and following about EST: The first two sentences sound
> contradictory/conflicting. "...minimize user action..." , "details a set of
> non-autonomic bootstrapping methods". Suggest text like:

>
> "EST does reduce user actions during bootstrap but does not provide
> solutions for how the following protocol steps can be made autonomic
> (not involving user actions).

okay, slightly adapted.

> -----------------------------------------------------------------------------
> 1.3)
>
> a) The order of paragraphs is confusing. Even if the mayority of readers
> (which i don't think) would primarily be interested in class 1 devices,
> it is irritating in style and context to start with the first two
> paragraphs.
>
> I would suggest to start with existing paragraph 3, change maybe the
> sentence to "This solution (BRSKI) can support large router platforms..."
>
> Then insert the first two paragraphs after current paragraph 5. All the
> text after paragraph 5 already discusses constrained situations so
> it would nicely follow on to the first two paragraphs.

okay.

> b) paragraph 5 is confusing: What is a handoff, why would somebody
> even think to apply BRSKI in a handoff, and why is there a normative,
> capital letter SHOULD. Here is how i would write it more explanatory
> (if i understand the implied use case correctly):
>
> BRSKI could be used by nomadic or mobile devices to aquire certificates
> used as credentials to access the network at the new location. This
> is usually called handoff. Nevertheless, BRSKI is not intended for low-latency
> handoff which is usually a requirement in mobility solutions (e.g.: seamless
> handover). For these solutions BRSKI could be used to aquire keying
> material and re-use that during handover without re-initiating BRSKI
> during handover later on.
>
> (which is also implying that re-using BRSKI in nomadic environments
>  is not off the table, but not saying so explicitly because we really
>  have not thought that trough a lot).

I have adapted your paragraph replacing the one we had.

> c) It would loosen up a very long section to create three subsection headings
>
> - supported environments
> - constrained envionments
> - network access control

Done.

> -----------------------------------------------------------------------------
>
> Section 2 1)
>
> a) ..Each component is logical and may be combined with other components as necessary..
>
>     Ok. I always want the pledge to live in the same device as the MASA.
>
>     Would suggest deleting that sentence. More harm than benefit.

Hmm.   The Circuit Proxy, Domain Registrar and Certificate Authority could be
done component.  I think that we need to say something about that.

> b) I suggest to move section 2.4 up to become section 2.1) directly after the
> picture in section 2., because otherwise there is no explanaction following
> the picture.
>
> c) "The a domain" (delete a)

I think that you mean it becomes section 2.2, after the first state machine?
(c) perhaps already done.

> -----------------------------------------------------------------------------
>
> Section 2.1
>
> a) The term "Request Join" is only used here, and its IMHO not very logical
> (disclaimer: toerless: en.wikipedia.org/wiki/ESL). It sounds to me like the
> pledge says "i want to join". And also sounds as if the pledge could be
> disappointed if rejected. I would rather call it "Domain membership inquiry".
> Or if you're hooked up on the term "joining", then maybe "Join Inquiry".

QUESTION?  what do you think?
Was "Request Voucher" one of the options you were thinking about?

> Whatever best makes it clear that rejection is a perfect and important
> outcome option.
>
> b) Please see my issue section 5.1 a). If you agree with that statement, then there
> should be no "rejected" arrow in Figure 2 coming out of the "Identify"
> block.

okay, I'll deal with this in that section.

> I would also suggest that the "Bad Vendor response" arrow does not come out
> of the "Imprint" block but out of the "Request Join" block. AFAIK, this is
> an error reply to the Request Voucher, so it happens before imprinting
> (imprinting happens only when there is a vocker reply. AFAIK).

[It says, "Bad MASA response" now, just for the reader who is following]

> I don't think "Bad Vendor reply" in Figure 2 is a good term. Most logical
> to me would
> be "Error or not member". In any case, the text in section 2 below should
> mention the exact words used on the labels, the text is missing ll the
> labels on the left: "Factory reset", "Enroll Failure", "Bad Vendor
> response",...

more discussion.

> c)
>
>  Point 1 nicely explains how this is done during TLS.
>
> Likewise, Point 2 should mention that this is the "Voucher Request", and
> Point 3 should mention that it is the "Voucher Reply" - so readers can match
> up section 2.1 with the rest of the document.
>
> remove the "e.g." from "protocol, e.g. Enrollment over". Otherwise some text
> outlining when something else than EST is to be used. (see next comment).

QUESTION: I couldn't figure out what text this applies to.

> d)
>
> I am missing in the initial chapters a succinct summary how EST enrollment is optional and
>  what can be achieved with/without it, there is only some side sentences later in the
> EST sections. I would suggest to insert such an explanation here.
>
> After point 4 insert (unnumbered) paragraph:
>
> | After step 4, the pledge has received  and authenticated an explicit TA (trust anchor)
> | (pinned-domain-cert in the Voucher response). In some use cases this may be sufficient
> | and the bootstrap can be terminated here. The pledge can now use this TA to securely
> | trust domain members, but it can not securely identify itself to them as a domain member.
> | Therefore BRSKI usually proceeds with the following steps that support this via EST
> | enrollment (see also 5.5.1 for the limitations of the trust feasible through the imprint).
>
> Also maybe insert some dotted line between imprint and enroll in Figure 2 to
> highlight this distinction. Maybe with "mandatory" / "optional" (EST enroll part)
> on the right hand side

QUESTION: Max?

> -----------------------------------------------------------------------------
> Section 2.2
>
> a)
>
>  The core sentence is hard to understand because it does not spell out the
> implication of the alternatives:
>
>  At the
>  lowest security levels the MASA server can indiscriminately issue
>  vouchers.  At the highest security levels issuance of vouchers can be
>  integrated with complex sales channel integrations that are beyond
>  the scope of this document.
>
> Would suggest amending like this:
>
>  At the lowest security levels the MASA server can indiscriminately issue
>  vouchers AND LOG CLAIMS OF OWNERSHIP BY DOMAINS.  At the highest security
>  levels issuance of vouchers can be integrated with complex sales channel
>  integrations that are beyond the scope of this document BUT THAT WOULD
>  INTENT TO VERIFY ACTUAL (LEGAL) OWNERSHIP OF THE PLEDGE BY THE DOMAIN.

I split it into more sentences, but took the intent.

> b)
>
> "Vouchers provide a signed but non-encrypted communication channel
>    between the Pledge, the MASA, and the Registrar."
>
> Why is this  mentioned ? If there is a conclusion of this statement that
> is relevant to BRSKI it should be spelled out, otherwise its a detail
> belonging into voucher. I do not see how the following sentence is that
> relevant conclusion. But maybe i am too confused by the sentence structure.

I think that it explains why the voucher exists.

> Do you mean something like this:
>
> | Vouchers are signed but not encrypted. This allows registars to maintain
> | better control over pledges attached to the domains network by examining
> | and filtering Vouchers received from a MASA before sending them to the pledge.
>
> If thats the idea, i suggest to use language like i suggested because it's
> more explicit and simpler (not having to think what the relevance of
> "communication channel" is etc..).

QUESTION: I'm not sure that's the essence of the point.

> Also may warrant a note that this control does not necessarily apply to the
> case of a Cloud Registrar (see section 2.6).

The could registrar is not a BRSKI interaction.

Stopping here today.
here is a diff against -11  https://goo.gl/CpZHqd


--
]               Never tell me the odds!                 | ipv6 mesh networks [
]   Michael Richardson, Sandelman Software Works        | network architect  [
]     mcr@sandelman.ca  http://www.sandelman.ca/        |   ruby on rails    [


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJamddlAAoJEJVM4Vb9/EKQQ6IIAKBNQtaca37J4HZcKYEHuZLP
O+0fAoDboV8KB3zjMC9+DgKifqAteiSn98mzV5r9/TUoYX64A+OLQ3d90jtGfhPp
DnZaty/yVDR5nqkGFES8RnBZ8tsThU3ZGIx9q01j7ZEbM6ulFC3gUhdqB+sEntaP
KS7zHIVOH38hR1ZDbIwNlbtieIcUNzE8p00f6uOPzLO8z3zb5vQ1ClrmcQaVzHJV
HGXWcXCFoK489qviWq9ykawWPO9zxPOBWr90FVGbyj0xdcKBzuls/YyKCdmVT+Tj
wUzP81VKveVn7G/CGcM82scP5EJRj2J89tTGvXeqDMi9GMwjdFRCFX4h1lNdT7E=
=LbRl
-----END PGP SIGNATURE-----
--=-=-=--

From lear@cisco.com  Sun Mar  4 12:04:31 2018
Return-Path: <lear@cisco.com>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-9.9 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,DKIM_VALID_AU=-0.1,RCVD_IN_DNSWL_MED=-2.3,
	USER_IN_DEF_DKIM_WL=-7.5 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id ABD1458C4B8
	for <eckert@i4.informatik.uni-erlangen.de>; Sun,  4 Mar 2018 12:04:31 +0100 (CET)
Received: from aer-iport-2.cisco.com (aer-iport-2.cisco.com [173.38.203.52])
	(using TLSv1.2 with cipher DHE-RSA-SEED-SHA (128/128 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 32D8274DAC9
	for <tte@cs.fau.de>; Sun,  4 Mar 2018 12:04:28 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
  d=cisco.com; i=@cisco.com; l=5674; q=dns/txt; s=iport;
  t=1520161469; x=1521371069;
  h=subject:to:cc:references:from:message-id:date:
   mime-version:in-reply-to;
  bh=s4/wADLVAzxfsGyrNFQO0dl4VbI4XJSi3oU5taB6x7g=;
  b=Grdkq90TQQTivWTmQw141TYSEE68Zta4aQaz3wTcn8JlJHGm1cNaB50R
   8KsBAF2aP0j5VpSiPgwAB9NA+HdLcJTHMbHI4SlWr0FtmHQJh62faLITp
   x8xEpNutIg2FcaKIsZKfsMF4yKb9EWMU4fsUin4bz3zLBiO59YTW3Hrky
   c=;
X-Files: signature.asc : 488
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0B8AQD20Zta/xbLJq1RChkBAQEBAQEBA?=
 =?us-ascii?q?QEBAQEHAQEBAQGENnAog1SLGI8FgRaUNBSCAQcDH4URAoMCNhYBAgEBAQEBAQJ?=
 =?us-ascii?q?rJ4UkAQQBI1YFCwtCAgJXBgEMCAEBhQ8IqEGCJ4Ryg2yCHA+FLYE0hDcpgXaBD?=
 =?us-ascii?q?oMuAgOBQxSDIoJiBIg3hn2LLgmEA4FvYookB4FnhDWCeIVkkVWBLiUKJyaBLDM?=
 =?us-ascii?q?aCBsVgn0JhEA/N4xdAQEB?=
X-IronPort-AV: E=Sophos;i="5.47,422,1515456000"; 
   d="asc'?scan'208";a="2416995"
Received: from aer-iport-nat.cisco.com (HELO aer-core-2.cisco.com) ([173.38.203.22])
  by aer-iport-2.cisco.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 04 Mar 2018 11:04:28 +0000
Received: from [10.61.242.48] ([10.61.242.48])
	by aer-core-2.cisco.com (8.14.5/8.14.5) with ESMTP id w24B4RC6031472;
	Sun, 4 Mar 2018 11:04:27 GMT
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
To: Michael Richardson <mcr+ietf@sandelman.ca>,
        Toerless Eckert <tte@cs.fau.de>
Cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23390.1520031589@dooku.sandelman.ca>
From: Eliot Lear <lear@cisco.com>
Message-ID: <30a07059-ad23-7d65-fd82-c82570aa04cc@cisco.com>
Date: Sun, 4 Mar 2018 12:04:26 +0100
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.13; rv:52.0)
 Gecko/20100101 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <23390.1520031589@dooku.sandelman.ca>
Content-Type: multipart/signed; micalg=pgp-sha256;
 protocol="application/pgp-signature";
 boundary="epDGx5sfv9dxFaPc1KFJbDdHkvK0gM80O"
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 5512
Lines: 162

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--epDGx5sfv9dxFaPc1KFJbDdHkvK0gM80O
Content-Type: multipart/mixed; boundary="CmqcnlDiPWHUFB52bFfpuPhEJUn5NLTm8";
 protected-headers="v1"
From: Eliot Lear <lear@cisco.com>
To: Michael Richardson <mcr+ietf@sandelman.ca>,
 Toerless Eckert <tte@cs.fau.de>
Cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Message-ID: <30a07059-ad23-7d65-fd82-c82570aa04cc@cisco.com>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23390.1520031589@dooku.sandelman.ca>
In-Reply-To: <23390.1520031589@dooku.sandelman.ca>

--CmqcnlDiPWHUFB52bFfpuPhEJUn5NLTm8
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Content-Language: en-US

Hi,

I'm not Max but I hope you won't mind me commenting in three places:


On 02.03.18 23:59, Michael Richardson wrote:

> Section 2.1
>> a) The term "Request Join" is only used here, and its IMHO not very lo=
gical
>> (disclaimer: toerless: en.wikipedia.org/wiki/ESL). It sounds to me lik=
e the
>> pledge says "i want to join". And also sounds as if the pledge could b=
e
>> disappointed if rejected. I would rather call it "Domain membership in=
quiry".
>> Or if you're hooked up on the term "joining", then maybe "Join Inquiry=
".
> QUESTION?  what do you think?
> Was "Request Voucher" one of the options you were thinking about?

I would very much prefer that we not use "Domain membership inquiry".=C2=A0=

If a change is necessary, I would prefer "Join Inquiry", to avoid
introducing ambiguities about domains.
>
>> Whatever best makes it clear that rejection is a perfect and important=

>> outcome option.
>>
>> b) Please see my issue section 5.1 a). If you agree with that statemen=
t, then there
>> should be no "rejected" arrow in Figure 2 coming out of the "Identify"=

>> block.
> okay, I'll deal with this in that section.
>
>> I would also suggest that the "Bad Vendor response" arrow does not com=
e out
>> of the "Imprint" block but out of the "Request Join" block. AFAIK, thi=
s is
>> an error reply to the Request Voucher, so it happens before imprinting=

>> (imprinting happens only when there is a vocker reply. AFAIK).
> [It says, "Bad MASA response" now, just for the reader who is following=
]
>
>> I don't think "Bad Vendor reply" in Figure 2 is a good term. Most logi=
cal
>> to me would
>> be "Error or not member". In any case, the text in section 2 below sho=
uld
>> mention the exact words used on the labels, the text is missing ll the=

>> labels on the left: "Factory reset", "Enroll Failure", "Bad Vendor
>> response",...
> more discussion.
>
>> c)
>>
>>  Point 1 nicely explains how this is done during TLS.
>>
>> Likewise, Point 2 should mention that this is the "Voucher Request", a=
nd
>> Point 3 should mention that it is the "Voucher Reply" - so readers can=
 match
>> up section 2.1 with the rest of the document.
>>
>> remove the "e.g." from "protocol, e.g. Enrollment over". Otherwise som=
e text
>> outlining when something else than EST is to be used. (see next commen=
t).
> QUESTION: I couldn't figure out what text this applies to.

I can't be sure.=C2=A0 I think Toerless may be referring to both the Diag=
ram
and the text in Section 2.1, as compared to, say, Figure 3 in Section
2.4.=C2=A0 I think the main change, IMHO is Figure 3, just to change
<---voucher--- to <---voucher reply--.

???

>
>> d)
>>
>> I am missing in the initial chapters a succinct summary how EST enroll=
ment is optional and
>>  what can be achieved with/without it, there is only some side sentenc=
es later in the
>> EST sections. I would suggest to insert such an explanation here.
>>
>> After point 4 insert (unnumbered) paragraph:
>>
>> | After step 4, the pledge has received  and authenticated an explicit=
 TA (trust anchor)
>> | (pinned-domain-cert in the Voucher response). In some use cases this=
 may be sufficient
>> | and the bootstrap can be terminated here. The pledge can now use thi=
s TA to securely
>> | trust domain members, but it can not securely identify itself to the=
m as a domain member.
>> | Therefore BRSKI usually proceeds with the following steps that suppo=
rt this via EST
>> | enrollment (see also 5.5.1 for the limitations of the trust feasible=
 through the imprint).
>>
>> Also maybe insert some dotted line between imprint and enroll in Figur=
e 2 to
>> highlight this distinction. Maybe with "mandatory" / "optional" (EST e=
nroll part)
>> on the right hand side
> QUESTION: Max?

If it is just a dotted line, ok.=C2=A0 But then use text at the beginning=
 of,
or just before, Step 5 to indicate that the step is optional.

Regards,

Eliot


--CmqcnlDiPWHUFB52bFfpuPhEJUn5NLTm8--

--epDGx5sfv9dxFaPc1KFJbDdHkvK0gM80O
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEmNC9kEYdsJKnsmEdh7ZrRtnSejMFAlqb0roACgkQh7ZrRtnS
ejNm8wgApQFqNBJYj409CucfxpZHE5kmhqZRqxY1mUZj1iagBakaP5wgWDebwypA
JofcvYJyq3LosslGKAALqcWO5WMrQtpVqzqCdZ4/85fAaHpz20+uMWh5JQtoE8jZ
1Ax9F/A70TZ8K4fPNUOFPim9nM4nXUJ2AJ1sIIMKjEMgN4RSRW8IOQbOemz8k/gm
CXGUYee/gqBG16PUYumA+NDFFZexOwpn/nLF1Y38cpjoT0hjwolKaBIVMgFT981u
tgAY9BtYSpVTuIpD4XsZG/EFDrDkjn7DFe7PW+Ts+IpmvcirIc9+ovoNPAwpZUjj
aVeWENNSAzgQS8+5I33GbcpYwBZuLw==
=5T3Z
-----END PGP SIGNATURE-----

--epDGx5sfv9dxFaPc1KFJbDdHkvK0gM80O--

From anima-bounces@ietf.org  Sun Mar  4 19:56:06 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.5 required=5.0 tests=DKIM_ADSP_CUSTOM_MED=0.001,
	DKIM_SIGNED=0.1,DKIM_VALID=-0.1,FREEMAIL_FORGED_FROMDOMAIN=0.25,
	FREEMAIL_FROM=0.001,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id E0A1258C562;
	Sun,  4 Mar 2018 19:56:06 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 3BAF474E206;
	Sun,  4 Mar 2018 19:56:04 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 83CB71275FD;
	Sun,  4 Mar 2018 10:56:02 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520189762; bh=hzuhq2zDifffrTjV//JPKd3aDStUKgpIfcgeN8hF/LE=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=Q/8V1wZoifFFTgiq3X+vLW5YgxdRP6j0i1nTg14z5FLWvghClOez5iCC8rvpHex/8
	 vkJjgVGwDfR7d0Gj7HLYtvQq4zgY2YXDmz48/DcDy1Sy/4mWOCVMO4M2zvs+h+r181
	 2tWcvN/nFFYq1C58uoOCTyXrhPau1k9M+7jjOi8M=
X-Mailbox-Line: From anima-bounces@ietf.org  Sun Mar  4 10:55:59 2018
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id D32FC126CBF;
	Sun,  4 Mar 2018 10:55:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520189758; bh=hzuhq2zDifffrTjV//JPKd3aDStUKgpIfcgeN8hF/LE=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=W2SsxXYw1nT35TByG3Uk7af86vT5Xy3gaMiK43fW77zo6nJeAUYkuWR1DU5F3BuiF
	 /LwlPOVTiNUxzXHinfRO8chppG8OcGrqIIxQpBU+UGHfQ26Myr0pHfdUEIgzSsAzmt
	 vpg8wYtSAJ6tNRf5JJ740gVzxHZoBTW4Nj73JCgg=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 275991242F7
 for <anima@ietfa.amsl.com>; Sun,  4 Mar 2018 10:55:56 -0800 (PST)
Authentication-Results: ietfa.amsl.com (amavisd-new); dkim=pass (2048-bit key)
 header.d=gmail.com
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id XqvAotTzTMXt for <anima@ietfa.amsl.com>;
 Sun,  4 Mar 2018 10:55:54 -0800 (PST)
Received: from mail-pg0-x22c.google.com (mail-pg0-x22c.google.com
 [IPv6:2607:f8b0:400e:c05::22c])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 172581205D3
 for <anima@ietf.org>; Sun,  4 Mar 2018 10:55:54 -0800 (PST)
Received: by mail-pg0-x22c.google.com with SMTP id m19so5955574pgn.1
 for <anima@ietf.org>; Sun, 04 Mar 2018 10:55:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; 
 h=sender:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=De4926sg84HQJKIVIruuzmVlSqmK7vDQOl/JkIGctrg=;
 b=qlEgj680vA5MMeESPrExy9VdtreJx4dzPLJvyJ252TETpSt1DBKVSZ4/Qibhg08gBO
 mbywlSD8XMLYPiR3NInZFJ5PPoeygjG2ovTwkAGOaFNpzriBZVdXVGLvsdskTripOxB0
 ShEo4rKSvgwOn/GgC7CbJtkVvE5fd1Bkx4QQLBMDECWAoN90blul+mYxakp1MmEDsr7M
 QTGx+PkNNpVxIi7wL7LP8+anF4eQznhgm4xzQ3wnCCyjjL4tHWQ8whQWVUS6WsEt4rDB
 ikiX1enL1hlJC/CwNIBLfx++v1VhltOoq9Z+lYE8rw/8O/+K3qV9xB0UP7jd4KUAnfP/
 GE6A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=De4926sg84HQJKIVIruuzmVlSqmK7vDQOl/JkIGctrg=;
 b=CfrYgoAxwiW9XiXn6Z7a1QKtRz+TczLC9UnkSd6VdMAopYTAJXpsxv0ewe1qAXEKuK
 OK0ByQM5TN/RVHe9T6NADRb+EJ0kVE+bV8URtbyFxtf/yp4GkaZOeIZpkRkK+i0+y8by
 4Oheh1aWV0qXJa0vZ3sMpHba8coDjhrnU9037260/83yjaRokhuD5gY0uzEEdydQJjj7
 ACBbSjuja63hzBRpUL2mslWAGN3zekvU3cW7Gmf5MJtv3sxBRZWMUXUcNH+Eax4iP/DT
 Sl8NnIaItZ3l2jK8Wrv3oZGj1qhhIXL/sA8uH0VigZcAZwwnA79+SfzG9CJX8rVkNkUc
 /g8g==
X-Gm-Message-State: APf1xPDaGoI5VcDRIAXwKiE+H3q/WQtY/u4UmTkrD0aK55Vtux7fDGYq
 1+hKS07gclUAEC8Qwr2DNOsoxgL1mnI=
X-Google-Smtp-Source: AG47ELuB//7vNztj149jtnOhpMmGb+OC7cJBswzh106W3cWncAaXRwBqfPDnHCGYJ9Rw2qEKwq1t0w==
X-Received: by 10.98.172.18 with SMTP id v18mr12792505pfe.175.1520189753307;
 Sun, 04 Mar 2018 10:55:53 -0800 (PST)
Received: from [192.168.43.75] ([118.148.164.145])
 by smtp.gmail.com with ESMTPSA id x4sm16413795pfb.46.2018.03.04.10.55.51
 for <anima@ietf.org>
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Sun, 04 Mar 2018 10:55:52 -0800 (PST)
To: anima@ietf.org
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <23390.1520031589@dooku.sandelman.ca>
 <30a07059-ad23-7d65-fd82-c82570aa04cc@cisco.com>
From: Brian E Carpenter <brian.e.carpenter@gmail.com>
Message-ID: <9143a50e-6a3e-abb2-be5f-c244f4db4d5a@gmail.com>
Date: Mon, 5 Mar 2018 07:55:48 +1300
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101
 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <30a07059-ad23-7d65-fd82-c82570aa04cc@cisco.com>
Content-Language: en-US
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/0-0FTN3zsUc-jGqb_Ejej2fa30g>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 5925
Lines: 77

T24gMDUvMDMvMjAxOCAwMDowNCwgRWxpb3QgTGVhciB3cm90ZToKPiBIaSwKPiAKPiBJJ20gbm90
IE1heCBidXQgSSBob3BlIHlvdSB3b24ndCBtaW5kIG1lIGNvbW1lbnRpbmcgaW4gdGhyZWUgcGxh
Y2VzOgo+IAo+IAo+IE9uIDAyLjAzLjE4IDIzOjU5LCBNaWNoYWVsIFJpY2hhcmRzb24gd3JvdGU6
Cj4gCj4+IFNlY3Rpb24gMi4xCj4+PiBhKSBUaGUgdGVybSAiUmVxdWVzdCBKb2luIiBpcyBvbmx5
IHVzZWQgaGVyZSwgYW5kIGl0cyBJTUhPIG5vdCB2ZXJ5IGxvZ2ljYWwKPj4+IChkaXNjbGFpbWVy
OiB0b2VybGVzczogZW4ud2lraXBlZGlhLm9yZy93aWtpL0VTTCkuIEl0IHNvdW5kcyB0byBtZSBs
aWtlIHRoZQo+Pj4gcGxlZGdlIHNheXMgImkgd2FudCB0byBqb2luIi4gQW5kIGFsc28gc291bmRz
IGFzIGlmIHRoZSBwbGVkZ2UgY291bGQgYmUKPj4+IGRpc2FwcG9pbnRlZCBpZiByZWplY3RlZC4g
SSB3b3VsZCByYXRoZXIgY2FsbCBpdCAiRG9tYWluIG1lbWJlcnNoaXAgaW5xdWlyeSIuCj4+PiBP
ciBpZiB5b3UncmUgaG9va2VkIHVwIG9uIHRoZSB0ZXJtICJqb2luaW5nIiwgdGhlbiBtYXliZSAi
Sm9pbiBJbnF1aXJ5Ii4KPj4gUVVFU1RJT04/ICB3aGF0IGRvIHlvdSB0aGluaz8KPj4gV2FzICJS
ZXF1ZXN0IFZvdWNoZXIiIG9uZSBvZiB0aGUgb3B0aW9ucyB5b3Ugd2VyZSB0aGlua2luZyBhYm91
dD8KPiAKPiBJIHdvdWxkIHZlcnkgbXVjaCBwcmVmZXIgdGhhdCB3ZSBub3QgdXNlICJEb21haW4g
bWVtYmVyc2hpcCBpbnF1aXJ5Ii7CoAo+IElmIGEgY2hhbmdlIGlzIG5lY2Vzc2FyeSwgSSB3b3Vs
ZCBwcmVmZXIgIkpvaW4gSW5xdWlyeSIsIHRvIGF2b2lkCj4gaW50cm9kdWNpbmcgYW1iaWd1aXRp
ZXMgYWJvdXQgZG9tYWlucy4KClllcy4gV2UgaGF2ZSBleHBsaWNpdGx5IGxlZnQgdGhlICh0cmlj
a3kpIGlzc3VlIG9mIEFOIGRvbWFpbiBib3VuZGFyaWVzCmFuZCBtZW1iZXJzaGlwIGZvciBsYXRl
ci4gKFJlY2hhcnRlciBhbGVydCEpCgogICBCcmlhbgoKPj4KPj4+IFdoYXRldmVyIGJlc3QgbWFr
ZXMgaXQgY2xlYXIgdGhhdCByZWplY3Rpb24gaXMgYSBwZXJmZWN0IGFuZCBpbXBvcnRhbnQKPj4+
IG91dGNvbWUgb3B0aW9uLgo+Pj4KPj4+IGIpIFBsZWFzZSBzZWUgbXkgaXNzdWUgc2VjdGlvbiA1
LjEgYSkuIElmIHlvdSBhZ3JlZSB3aXRoIHRoYXQgc3RhdGVtZW50LCB0aGVuIHRoZXJlCj4+PiBz
aG91bGQgYmUgbm8gInJlamVjdGVkIiBhcnJvdyBpbiBGaWd1cmUgMiBjb21pbmcgb3V0IG9mIHRo
ZSAiSWRlbnRpZnkiCj4+PiBibG9jay4KPj4gb2theSwgSSdsbCBkZWFsIHdpdGggdGhpcyBpbiB0
aGF0IHNlY3Rpb24uCj4+Cj4+PiBJIHdvdWxkIGFsc28gc3VnZ2VzdCB0aGF0IHRoZSAiQmFkIFZl
bmRvciByZXNwb25zZSIgYXJyb3cgZG9lcyBub3QgY29tZSBvdXQKPj4+IG9mIHRoZSAiSW1wcmlu
dCIgYmxvY2sgYnV0IG91dCBvZiB0aGUgIlJlcXVlc3QgSm9pbiIgYmxvY2suIEFGQUlLLCB0aGlz
IGlzCj4+PiBhbiBlcnJvciByZXBseSB0byB0aGUgUmVxdWVzdCBWb3VjaGVyLCBzbyBpdCBoYXBw
ZW5zIGJlZm9yZSBpbXByaW50aW5nCj4+PiAoaW1wcmludGluZyBoYXBwZW5zIG9ubHkgd2hlbiB0
aGVyZSBpcyBhIHZvY2tlciByZXBseS4gQUZBSUspLgo+PiBbSXQgc2F5cywgIkJhZCBNQVNBIHJl
c3BvbnNlIiBub3csIGp1c3QgZm9yIHRoZSByZWFkZXIgd2hvIGlzIGZvbGxvd2luZ10KPj4KPj4+
IEkgZG9uJ3QgdGhpbmsgIkJhZCBWZW5kb3IgcmVwbHkiIGluIEZpZ3VyZSAyIGlzIGEgZ29vZCB0
ZXJtLiBNb3N0IGxvZ2ljYWwKPj4+IHRvIG1lIHdvdWxkCj4+PiBiZSAiRXJyb3Igb3Igbm90IG1l
bWJlciIuIEluIGFueSBjYXNlLCB0aGUgdGV4dCBpbiBzZWN0aW9uIDIgYmVsb3cgc2hvdWxkCj4+
PiBtZW50aW9uIHRoZSBleGFjdCB3b3JkcyB1c2VkIG9uIHRoZSBsYWJlbHMsIHRoZSB0ZXh0IGlz
IG1pc3NpbmcgbGwgdGhlCj4+PiBsYWJlbHMgb24gdGhlIGxlZnQ6ICJGYWN0b3J5IHJlc2V0Iiwg
IkVucm9sbCBGYWlsdXJlIiwgIkJhZCBWZW5kb3IKPj4+IHJlc3BvbnNlIiwuLi4KPj4gbW9yZSBk
aXNjdXNzaW9uLgo+Pgo+Pj4gYykKPj4+Cj4+PiAgUG9pbnQgMSBuaWNlbHkgZXhwbGFpbnMgaG93
IHRoaXMgaXMgZG9uZSBkdXJpbmcgVExTLgo+Pj4KPj4+IExpa2V3aXNlLCBQb2ludCAyIHNob3Vs
ZCBtZW50aW9uIHRoYXQgdGhpcyBpcyB0aGUgIlZvdWNoZXIgUmVxdWVzdCIsIGFuZAo+Pj4gUG9p
bnQgMyBzaG91bGQgbWVudGlvbiB0aGF0IGl0IGlzIHRoZSAiVm91Y2hlciBSZXBseSIgLSBzbyBy
ZWFkZXJzIGNhbiBtYXRjaAo+Pj4gdXAgc2VjdGlvbiAyLjEgd2l0aCB0aGUgcmVzdCBvZiB0aGUg
ZG9jdW1lbnQuCj4+Pgo+Pj4gcmVtb3ZlIHRoZSAiZS5nLiIgZnJvbSAicHJvdG9jb2wsIGUuZy4g
RW5yb2xsbWVudCBvdmVyIi4gT3RoZXJ3aXNlIHNvbWUgdGV4dAo+Pj4gb3V0bGluaW5nIHdoZW4g
c29tZXRoaW5nIGVsc2UgdGhhbiBFU1QgaXMgdG8gYmUgdXNlZC4gKHNlZSBuZXh0IGNvbW1lbnQp
Lgo+PiBRVUVTVElPTjogSSBjb3VsZG4ndCBmaWd1cmUgb3V0IHdoYXQgdGV4dCB0aGlzIGFwcGxp
ZXMgdG8uCj4gCj4gSSBjYW4ndCBiZSBzdXJlLsKgIEkgdGhpbmsgVG9lcmxlc3MgbWF5IGJlIHJl
ZmVycmluZyB0byBib3RoIHRoZSBEaWFncmFtCj4gYW5kIHRoZSB0ZXh0IGluIFNlY3Rpb24gMi4x
LCBhcyBjb21wYXJlZCB0bywgc2F5LCBGaWd1cmUgMyBpbiBTZWN0aW9uCj4gMi40LsKgIEkgdGhp
bmsgdGhlIG1haW4gY2hhbmdlLCBJTUhPIGlzIEZpZ3VyZSAzLCBqdXN0IHRvIGNoYW5nZQo+IDwt
LS12b3VjaGVyLS0tIHRvIDwtLS12b3VjaGVyIHJlcGx5LS0uCj4gCj4gPz8/Cj4gCj4+Cj4+PiBk
KQo+Pj4KPj4+IEkgYW0gbWlzc2luZyBpbiB0aGUgaW5pdGlhbCBjaGFwdGVycyBhIHN1Y2NpbmN0
IHN1bW1hcnkgaG93IEVTVCBlbnJvbGxtZW50IGlzIG9wdGlvbmFsIGFuZAo+Pj4gIHdoYXQgY2Fu
IGJlIGFjaGlldmVkIHdpdGgvd2l0aG91dCBpdCwgdGhlcmUgaXMgb25seSBzb21lIHNpZGUgc2Vu
dGVuY2VzIGxhdGVyIGluIHRoZQo+Pj4gRVNUIHNlY3Rpb25zLiBJIHdvdWxkIHN1Z2dlc3QgdG8g
aW5zZXJ0IHN1Y2ggYW4gZXhwbGFuYXRpb24gaGVyZS4KPj4+Cj4+PiBBZnRlciBwb2ludCA0IGlu
c2VydCAodW5udW1iZXJlZCkgcGFyYWdyYXBoOgo+Pj4KPj4+IHwgQWZ0ZXIgc3RlcCA0LCB0aGUg
cGxlZGdlIGhhcyByZWNlaXZlZCAgYW5kIGF1dGhlbnRpY2F0ZWQgYW4gZXhwbGljaXQgVEEgKHRy
dXN0IGFuY2hvcikKPj4+IHwgKHBpbm5lZC1kb21haW4tY2VydCBpbiB0aGUgVm91Y2hlciByZXNw
b25zZSkuIEluIHNvbWUgdXNlIGNhc2VzIHRoaXMgbWF5IGJlIHN1ZmZpY2llbnQKPj4+IHwgYW5k
IHRoZSBib290c3RyYXAgY2FuIGJlIHRlcm1pbmF0ZWQgaGVyZS4gVGhlIHBsZWRnZSBjYW4gbm93
IHVzZSB0aGlzIFRBIHRvIHNlY3VyZWx5Cj4+PiB8IHRydXN0IGRvbWFpbiBtZW1iZXJzLCBidXQg
aXQgY2FuIG5vdCBzZWN1cmVseSBpZGVudGlmeSBpdHNlbGYgdG8gdGhlbSBhcyBhIGRvbWFpbiBt
ZW1iZXIuCj4+PiB8IFRoZXJlZm9yZSBCUlNLSSB1c3VhbGx5IHByb2NlZWRzIHdpdGggdGhlIGZv
bGxvd2luZyBzdGVwcyB0aGF0IHN1cHBvcnQgdGhpcyB2aWEgRVNUCj4+PiB8IGVucm9sbG1lbnQg
KHNlZSBhbHNvIDUuNS4xIGZvciB0aGUgbGltaXRhdGlvbnMgb2YgdGhlIHRydXN0IGZlYXNpYmxl
IHRocm91Z2ggdGhlIGltcHJpbnQpLgo+Pj4KPj4+IEFsc28gbWF5YmUgaW5zZXJ0IHNvbWUgZG90
dGVkIGxpbmUgYmV0d2VlbiBpbXByaW50IGFuZCBlbnJvbGwgaW4gRmlndXJlIDIgdG8KPj4+IGhp
Z2hsaWdodCB0aGlzIGRpc3RpbmN0aW9uLiBNYXliZSB3aXRoICJtYW5kYXRvcnkiIC8gIm9wdGlv
bmFsIiAoRVNUIGVucm9sbCBwYXJ0KQo+Pj4gb24gdGhlIHJpZ2h0IGhhbmQgc2lkZQo+PiBRVUVT
VElPTjogTWF4Pwo+IAo+IElmIGl0IGlzIGp1c3QgYSBkb3R0ZWQgbGluZSwgb2suwqAgQnV0IHRo
ZW4gdXNlIHRleHQgYXQgdGhlIGJlZ2lubmluZyBvZiwKPiBvciBqdXN0IGJlZm9yZSwgU3RlcCA1
IHRvIGluZGljYXRlIHRoYXQgdGhlIHN0ZXAgaXMgb3B0aW9uYWwuCj4gCj4gUmVnYXJkcywKPiAK
PiBFbGlvdAo+IAo+IAo+IAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCj4gQW5pbWEgbWFpbGluZyBsaXN0Cj4gQW5pbWFAaWV0Zi5vcmcKPiBodHRwczov
L3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FuaW1hCj4gCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpBbmltYSBtYWlsaW5nIGxpc3QKQW5pbWFA
aWV0Zi5vcmcKaHR0cHM6Ly93d3cuaWV0Zi5vcmcvbWFpbG1hbi9saXN0aW5mby9hbmltYQo=

From mcr@sandelman.ca  Sun Mar  4 06:38:19 2018
Return-Path: <mcr@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id E41D858C4B8
	for <eckert@i4.informatik.uni-erlangen.de>; Sun,  4 Mar 2018 06:38:19 +0100 (CET)
Received: from relay.sandelman.ca (relay.cooperix.net [176.58.120.209])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id D3CC474E230
	for <tte@cs.fau.de>; Sun,  4 Mar 2018 06:38:16 +0100 (CET)
Received: from dooku.sandelman.ca (unknown [IPv6:2607:f0b0:f:b:a11:96ff:fe01:81e0])
	by relay.sandelman.ca (Postfix) with ESMTPS id 37EEE1F95D;
	Sun,  4 Mar 2018 05:38:15 +0000 (UTC)
Received: by dooku.sandelman.ca (Postfix, from userid 179)
	id D88382546; Sun,  4 Mar 2018 00:37:52 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Toerless Eckert <tte@cs.fau.de>
cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-reply-to: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
Comments: In-reply-to Toerless Eckert <tte@cs.fau.de>
   message dated "Wed, 14 Feb 2018 02:09:10 +0100."
X-Mailer: MH-E 8.6; nmh 1.6; GNU Emacs 24.5.1
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha1; protocol="application/pgp-signature"
Date: Sun, 04 Mar 2018 00:37:52 -0500
Message-ID: <19243.1520141872@dooku.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 10529
Lines: 275

--=-=-=
Content-Type: text/plain


I would ideally like to begin the WGLC once I've posted the revised document
and then take any of your issues that I wasn't able to resolve as last call
comments (open issues on tools or github).

Toerless Eckert <tte@cs.fau.de> wrote:
    > d)

    > I am missing in the initial chapters a succinct summary how EST
    > enrollment is optional and what can be achieved with/without it, there
    > is only some side sentences later in the EST sections. I would suggest
    > to insert such an explanation here.

    > After point 4 insert (unnumbered) paragraph:

I have added a paragraph at the end of section 4:

          After step 4, the pledge has received  and authenticated an
          explicit TA (trust anchor) (pinned-domain-cert in the Voucher
          response).  A secure transport exists between pledge and registrar,
          and it may be used for things other than enrollment into a PKI.

    > Also maybe insert some dotted line between imprint and enroll in Figure
    > 2 to highlight this distinction. Maybe with "mandatory" / "optional"
    > (EST enroll part) on the right hand side

But, in the ACP case, which we are documenting, it's not optional, so
I prefer to show the ACP case in all diagrams.

    > Section 2.3)

    > a)

    > The first paragraph is too terse and not very explanatory arguing why

okay, I'ave used your text.

    > - (Optional) authorizing pledge (by registrar) to receive certificate
    > from local CA.

Are you referring to the signed CSR?

That's signed by the private key, and does not directly involve the public
certificate part.  The "Signing of voucher-request" actually also is about
the private key too....
So I'm taking your comments, but maybe here we need to open an issue?

see: https://goo.gl/viMcAG
and: https://goo.gl/SNzWtJ

    > Please keep the "There is no requirement for a common root PKI
    > hierarchy.  Each device vendor can generate their own root
    > certificate."

Done.

    > -----------------------------------------------------------------------------
    > Section 2.3 2)

    > a) Please put the description of identification of the pledge into a
    > subsection 2.3.1 "Identification of the Pledge"

done.

    > b) I am confused about the first MUST (serialNumber) and following
    > SHOULD (HardwareModuleName).

    > The conversion rules make it clear that you want the device to be
    > uniquely identified via the serialNumber, but if that is not in the
    > certificate, then you would use the HardwareModuleName. Therefore the
    > conversion rules contradict the MUST for serialNumber.  Or else you
    > wouldn't define a fallback if it does not exist.

We really want it in the serialNumber.
We acknowledge the PKI tools suck, particularly the ones without source code,
and it's likely that some variety of creation tools will be unable to comply
or the Registrar / Certificate Authority will be unable to do the right thing.
The 30 year history of trying make PKIX thing work properly has provided
experience that says that as much as we want to write MUSTs, if we don't have
workaround documented, then things will fail.  It's sad.

    > c) The MUST/SHOULD bullet points are IMHO a duplication of the
    > conversion rules, so maybe just drop them.

I think an issue is warranteed here.

    > d) I would start the section with a sentence clearly describing what is
    > done here:

    > In the context of BRSKI, pledges are uniquely identified by a
    > "serial-number". This serial-number is used both in the "serial-number"
    > field of Voucher or Voucher requests (see section 3.) and in local
    > policies on Registrar or MASA (see section 5.).

    > The serial-number is derived from the IDevID as follows:

    > ... then add the three bullet-points.

okay, I think that I got this.

    > e) I do not see "serialNumber" attribute mentioned in rfc4514 nor
    > rfc4108. You mention "previously defined". Could you provide a
    > reference where "serialNumber" was defined ?

https://github.com/anima-wg/anima-bootstrap/issues/44

so, it's rfc4514 "string representation" format, of the RFC5280 SerialNumber
https://tools.ietf.org/html/rfc5280#section-4.1.2.2

RFC4108 has hwSerialNum, but that's point two.

I'm not sure how to clarify this well.

    > f) Please provide example of each of the three fields and how they
    > convert into serial-number. This is especially important because for
    > the average reader who has never seen a certificate (and with no actual
    > reference to e.g.: serialNumber format thats easily readable), it may
    > be hard to understand if or how something called "serialNumber" can
    > unique identify a device - aka: that it includes also the device-type
    > (unless a company only produces one type of device and somehow even the
    > name of the company can be implied).

I created issue 45.
https://github.com/anima-wg/anima-bootstrap/issues/45

    > -----------------------------------------------------------------------------
    > Section 2.3 2)

    > a) Please put the description of MASA URI into a subsection 2.3.2 "MASA
    > URI"

done.

    > b) If the following statements are correct, i would suggest to
    > integrate them into the section text to make it clearer and more
    > explicit. If not then i did not understand how it is meant to work and
    > the explanations could be approved accordingly to make it clearer:

    > - The type and format of the MASA URI indicates the protocol supported
    > by the MASA.
    > - If a MASA supports multiple protocols, multiple
    > instances of the new MASA URI can be put into the certificate.

I don't think so.
If there was a protocol that wasn't BRSKI-MASA, then it would have a new
extension defined.
QUESTION/DISCUSS.

    > - This
    > document defines the BRSKI-MASA protocol. It is indicated through a URI
    > of the form

    >    MASA URI is "https:// authority "./well-known/est".

    >   see section 5 for more explanations. (this would replace the current
    > sentence mentioning section 5).


    > c) We discussed the risk of introducing new certificate fields and
    > potential compatibility issues with existing code parsing such a
    > certificate. Which is why we went for the obfuscated email encoding of
    > the ACP information in the LDevID. It would therefore be good to have
    > an explaining sentence why the new MASA URI extension is a better
    > solution than encoding into existing attributes and safe to deploy into
    > devices.

Well, I'm not convinced we needed to do that in the ACP.
On the other hand, the open source IPsec (IKE) implementations I'm familiar with
have relatively simple DER implementations, and are easily extended.
I am aware of IPsec implementations which are total disasters in this way,
and they would no more be able to parse the obfuscated email than an extension.

    > I am not sure about the full extent of the answer, but probably IDevIDs
    > are meant to and actually used in a far smaller and newer set of
    > software than that processing arbitrary LDevIDs. Therefore the risk is
    > smaller and the clean encoding outweights the risk of compatibility
    > issues with badly written old software.

The manufacturer creates the certificates, the pledge never has to examine
it.  The registrar has to examine it, and the registrar has to be new code.
Where we get into trouble, I think, is with the PKI interfaces.

    > -----------------------------------------------------------------------------
    > Section 2.4.1) 1)

    >   "it does has network" -> "it does have network"

    > But better: "it does only require subnet (link) local connectivity to
    > the circuit proxy but no routeable IPv6/IPv6 address (exception: see
    > section 2.6)".

Already changed, but added your text.

    > -----------------------------------------------------------------------------
    > Section 2.4.2) 1)

    >   "The proxy mechanism" -> "The circuit proxy mechanism"

    >   " optional stateless mechanism" -> "optional stateless proxy
    > mechanism"

    >   add: The registrar (likely?) also needs manual configuration of
    > per-MASA credentials to contact them (see section 5.3).

okay.

    >   Q: Any case where unauthenticated BRSKI-MASA connections make sense ?

QUESTION: This seems like a non-sequitor to me.


    > -----------------------------------------------------------------------------

    > Section 2.4.3) 1)

It's 2.4.4, I think. About the Manufacturer Service.

    >   Suggest to clarify roles: separate functions: the MANDATORY ...MASA
    > including audit log, and an ADDITIONAL OPTIONAL Ownership Tracker
    > providing sales channel integration.

I don't think it's optional.

    >   Aka: reuse same terminology so readers are not confused. Maybe go
    > through text to check only "ownership tracker" and "sales channel
    > integration" are used for that part.

    > -----------------------------------------------------------------------------
    > Section 2.4.3) 1)

    > a) Expand CMC.  "authenticate any pledge" -> "authenticate (the IDevID
    > of) any pledge"

    > b) The document is still very vague on terminology to distinguish
    > between the initial bootstrap and the (optional) EST server
    > role. Please come up with a clear terminology and clearly summarize the
    > functionality required to be supported by the roles.

I think that this no longer reflectes the text?

That's today's edits are at the same rfcdiff URL, since the file is
loaded by reference:
        https://goo.gl/CpZHqd

--
]               Never tell me the odds!                 | ipv6 mesh networks [
]   Michael Richardson, Sandelman Software Works        | network architect  [
]     mcr@sandelman.ca  http://www.sandelman.ca/        |   ruby on rails    [


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJam4YwAAoJEJVM4Vb9/EKQB2oIAKILa1kUvkvJM5dMjQwpyvGI
13tRxUlk3T78QdN55qgI/w+nvXdStT3W6LF4S7XEyIA7z+Vjw5e+xegvEGtE3x6I
yH84JvGnsCTc8BSKCRZV6XjtJcA6vn1BnpU6X6ubVWV2hmkt/C3yBbAmd6OgdBKW
6lVqqOHBlCOZF9E6rrE0zbdZSiOF23RYIkSsLi1r3e4pzXlX7M2K7y8U28UNjqRc
7WJ8c3zC+aScYZ7AT9KPBcTbGxj9Jeiz0EPcvUywJuficya0FOpiSBZk0JJ0aJwX
4THfw7MBhE3RSPMWKDb0/fC+OeLvx5MjqEcrUJ/QD7Xg8Y21bvsnpZP8U840f7s=
=cROH
-----END PGP SIGNATURE-----
--=-=-=--

From mcr@sandelman.ca  Mon Mar  5 21:22:05 2018
Return-Path: <mcr@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 93E1458C57A
	for <eckert@i4.informatik.uni-erlangen.de>; Mon,  5 Mar 2018 21:22:05 +0100 (CET)
Received: from relay.sandelman.ca (relay.cooperix.net [176.58.120.209])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 7F18B74E059
	for <tte@cs.fau.de>; Mon,  5 Mar 2018 21:21:57 +0100 (CET)
Received: from dooku.sandelman.ca (CPE788df7e17ec1-CM788df7e17ec0.cpe.net.cable.rogers.com [99.249.63.150])
	by relay.sandelman.ca (Postfix) with ESMTPS id 18D5D1F95D;
	Mon,  5 Mar 2018 20:21:56 +0000 (UTC)
Received: by dooku.sandelman.ca (Postfix, from userid 179)
	id 581F73386; Mon,  5 Mar 2018 15:21:32 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Toerless Eckert <tte@cs.fau.de>
cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-reply-to: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
Comments: In-reply-to Toerless Eckert <tte@cs.fau.de>
   message dated "Wed, 14 Feb 2018 02:09:10 +0100."
X-Mailer: MH-E 8.6; nmh 1.6; GNU Emacs 24.5.1
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha1; protocol="application/pgp-signature"
Date: Mon, 05 Mar 2018 15:21:32 -0500
Message-ID: <1051.1520281292@dooku.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 15569
Lines: 391

--=-=-=
Content-Type: text/plain


Sunday I was skiing (it didn't rain!) and this morning I was distracted by
another urgent matter, so I'll get another two hours to work on this now, and
then I'll post a new version of the draft before the deadline.

It is unlikely that I'll get through all your suggested edits, and I still
need to come back to William Atwood's comments and some followups to my
previous comments.  Sorry for so many emails: next time be more negligent :-)

Toerless Eckert <tte@cs.fau.de> wrote:
    > Section 2.4.3) 1)

    > a) Expand CMC.  "authenticate any pledge" -> "authenticate (the IDevID
    > of) any pledge"

expanded and linked to RFC5272.

    > b) The document is still very vague on terminology to distinguish
    > between the initial bootstrap and the (optional) EST server
    > role. Please come up with a clear terminology and clearly summarize the
    > functionality required to be supported by the roles.

What is the "(optional) EST server role"?
Nothing is optional in this document when operating for the ACP.
The EST server role is an EST server according 7030.

    > Here is my suggested text. If any explanation to cover this information
    > is felt to be too long for 2.4.3, please find another place but make
    > 2.4.3 refer to that place.

    > | A "Domain Join Registar and CMC" (abbreviated Domain Registrar in
    > most of the document) | serves two roles: BRSKI Bootstrap Service and
    > BRSKI enhanced EST Enrollment Service.

I don't think that there are two roles.

There is no requirement that the Join Registrar is also the EST for the
purposes of ongoing certificate renewal.  I don't know if you are speaking
about certificate lifetime management (renewal, etc.) when you say
"EST Enrollment service".  I'll assume that you mean that for the moment.

In a big network I would want the roles (bootstrap and initial certificate,
vs certificate renewal) split up.

So I don't think your text is correct; but if it is, then I don't want to
insert a bunch of text that is depth first into explaining everything when
the goal of section 2 is to go breadth first.
I opened an issue: https://github.com/anima-wg/anima-bootstrap/issues/46

    > | While not recommended, BRSKI Bootstrap Server and BRSKI enhanced
    > EST-Server can |be provided by separate servers. In this case, the
    > BRSKI Bootstrap Server must | support redirection of the Pledge after a
    > successfull requestauditlog to the | URI of a BRSKI enhanced
    > EST-Server.

no, that's not what I'm saying at all.
I would never want to redirect or reconnect after processing the voucher and
before issuing the first certificate to the pledge.  The entire "Secure
Transport" depends upon it occuring over a single TLS connection.

    > Section 2.4.4)

    > a) It would be IMHO good to move the (mayority of the) initial
    > paragraph of 5.4 into this section to explain what the scope of the
    > MASA functionality is by listing the interface services requestvoucher
    > and requestauditlog here - similar to how i proposed to summarize the
    > interfaces of the Domain Registrar above for section 2.4.3.

I have changed the text to say:

2.4.4.  Architectural component: Manufacturer Service

   The Manufacturer Service provides two logically seperate functions:
   the Manufacturer Authorized Signing Authority (MASA) described in
   Section 5.4 and Section 5.5, and an ownership tracking/auditing
   function described in Section 5.6 and Section 5.7.

    > 5.4 is not a good place to do that because it's only about
    > requestvoucher, and then after another non-maza intermezzo 5.6
    > requestauditlog is again about the MASA. So no single place summarizing
    > the MASA functionality at this level.

Section 5 is a time sequence explanation about the process.
We want from role based descriptions to time based descriptions based upon
feedback from implementers.
Section 5.6 is about pledge->JRC.

QUESTION: Max, I thought that the Voucher Status Telemetry was also to be
          relayed to the MASA?
          (I didn't implement that far yet)

    > -----------------------------------------------------------------------------

    > Section 2.4.x)

    > a) Please add subsection "Architectural Component: Key Infrastructure
    > (PKI)"

    > Suggested text (as in: this is the type of information i would like to
    > see explained here, whatever language you use):

    > | The Key Infrastructure (PKI) administers certificates for the domain
    > of concerns, | providing the trust anchor(s) for it and allowing
    > enrollment of Pledges | with domain certificates.

    > | The Domain Registrar ('s BRSKI Bootstrap service role) uses a Trust
    > Anchor (TE) | from the PKI in the BRSKI Voucher pinned-domain-cert to
    > authenticate itself to the | Pledge with the help of MASA.

I have put this text in place, but this paragraph is not quite correct.
I don't know how to fix it yet.

My text:

+2.4.5.  Architectural component: Public Key Infrastructure (PKI)
+
+   The Key Infrastructure (PKI) administers certificates for the domain
+   of concerns, providing the trust anchor(s) for it and allowing
+   enrollment of Pledges with domain certificates.
+
+   The Domain Registrar uses a Trust Anchor (TE) from the PKI in the
+   BRSKI Voucher pinned-domain-cert to authenticate itself to the Pledge
+   with the help of MASA.  (XXX fix me)
+
+   The Domain Registrar acts as an [RFC5272] Registration Authority,
+   requesting certificates for Pledges from the Key Infrastructure.
+
+   The above requirements and expectations against the Key
+   Infrastructure are unchanged from RFC7030.  This document does not
+   place any additional architectural requirements on the Public Key
+   Infrastructure.

    > b) Figure 1 labels the path to the PKI with "EST" and i remember Max to
    > repeatedly state that CAs could support EST. Nevertheless, i read in
    > RFC7030:

    > "The nature of communication between an EST server and a CA is not
    > described in this document".

So perhaps the labelling of the Domain Registrar/PKI interface shouldn't
say EST RFC 7030 afterall.

    > But then it defines the term "EST CA". So i am confused if there is an
    > actual spec stating the EST profile? of an EST CA.

You are asking for us to define what the northbound connection (well, in our
diagram, it's a southbound connection...) from the JRC to the PKI is.  What
we are trying to say is that it's not in scope, because it has no effect on
interoperation with the pledge or MASA.

The options include:
    1) CMC (RFC5272)
    2) CMP
    3) system("openssl xyz")  [it's all internal]
    4) a variety of RESTful interfaces,
        for instance https://www.digicert.com/rest-api/

I really don't think we should specify anything here because it will just be
ignored with vendors of JRCs doing whatever they need to do to get into the
customer.   On day one I expect to see (3) used a lot and others to follow.


    > -----------------------------------------------------------------------------

    > Section 2.5) 1)

    > a) If the following sentence is functionally correct, please add text
    > accordingly:

    >   Bootstrapping Pledges that have a Realtime Clock (RTC), SHOULD use it
    > to verify certificate validity.

    > b) And from my own experience, it should add:

    >   but they MUST be prepared to recognize local time failure and revert
    > to the above described mechanisms. For example when RTC battery failure
    > leads to a well-known default-time (e.g.: Jan 1 1970).

Done.


    > Section 2.5) 2)

    > a) Please move the bullet about the registrar behavior out of the
    > bullet list, maybe at the end of the section.  Even better: - rename
    > 2.5 to "Certificate Validity" - 2.5.1 "Lack of Realtime Clock in
    > Pledges - 2.5.2 "Infinite Lifetime of IDevID" (move text into 2.5.1)

okay.

    > b) Its hard to comprehend what the pargraph means to say. I think its
    > something like:

    >    According to RFC5280, IDevIDs are examples of certificates that
    > should have no well-defined expiration date. This is indicated through
    > the GeneralizedTime value of 99991231235959Z". Registrars SHOULD have a
    > configuration option to ignore IDevID lifetime values if they do not
    > conform to this recommendation.

Done.

    >    As expected, i always like an explicit example to bring it to the
    > point:

    >    For example, IDevID may have incorrect lifetime of N <= 3 years,
    > rendering replacement Pledges from storage useless after N years unless
    > registrars support this option.

Done.

    > -----------------------------------------------------------------------------
    > Section 2.6)

    > IMHO, without further text, it is unclear a) what a cloud registrar is,
    > b) why we care and c) how a solution using a cloud registrar would have
    > to be built to work.

I think that we explain why (b) well enough.
I prefer not to try to specify anything here for two reasons:

1) it's proprietary: No BRSKI is involved.
2) it's out of scope: No BRSKI is involved.
3) it's possible that it will be draft-ietf-netconf-zerotouch-20

So, I don't think your assumptions are right about who runs what.

{In my thinking about this, btw, the pledge calls home a la
netconf-zerotouch, and the vendor provided service acts as a Join Proxy to
the owners' JRC.  But, I'd want to write code and think about before
I dared document it.  Running code...}

    > If you feel this is overall too much, then maybe delete the whole
    > section 2.6 and put it into a followup document. Borderline to me. If
    > its "just" what i sugested above, its fine, if there is more to it to
    > make it work, maybe better in separate document.

No, we added this section because someone (maybe you) asked for it.

    > -----------------------------------------------------------------------------
    > Section 2.7 1)

    > a)

    >> Note that the Registrar can only select the configured MASA URL based
    >> on the trust anchor -- so vendors can only leverage this approach if
    >> they ensure a single MASA URL works for all Pledge's associated with
    >> each trust anchor.

    > I do not think this is true. A registrar could have configuration
    > policy mapping from IDevID serial-number patterns to MASA URI.

Yes, it could be more complex.
I'd rather delete that sentence than fix it.

    > Rewrite accordingly ? Let me know if you hate this approach, i had had
    > to brainstorm it for my planned yang model for ANI.

Only if this functionality is standardized :-)

    > b) I also think it might be necessary for Registrars to allow policies
    > that override MASA URIs learned from the IDevID because the longevity
    > of URIs can not always be guaranteed and the MASA may move (merger &
    > aquisitions etc.. ).

Agreed.

    > c) I am unclear from the document whether registrars may require
    > configuration to know what specific options for voucher-requests a MASA
    > supports.

> - If i understand it correctly, a registrar may use a voucher-request to
> request a voucher in the absence of the pledge (stage the voucher). This
> certainly is something not every MASA must support, so that would need to
> be configured.

The MASA must support nonce-less, unsigned voucher-requests.
You are right that we did not say that the MASA MUST do this.
I'm comfortable leaving that to some other applicability document.
  {e.g, "Use of BRSKI to bootstrap lightbulbs for underground military bunkers",
      MIL-SPEC 843.1958, by Strangelove, Sellers and George}

> - It is not clear to me if the Registrar can correctly fill out all
> Registrar voucher-requests in the presence of the pledge (aka: after
> receiving the Pledge voucher-request). See also discussion for Section
> 3. If this is not fully automatic, but may rquire Registrar configuration,
> this counfig should be mentionedhere.

Do you mean, in the absence of the pledge, or ...?

    > -----------------------------------------------------------------------------
    > Setion 3. 1)

    > So... I guess Registrars can request Vouchers for pledges before being
    > in contact with that pledge, right ?

    > If correct, the following would be less confusing to read for me:

Here is my revised text:

+   Voucher-requests are how vouchers are requested.  The semantics of
+   the vouchers are described below, in the YANG model.
+
+   A Pledge forms the "Pledge voucher-request" and submits it to the
+   Registrar.
+
+   The Registrar in turn forms the "Registrar voucher-request", and
+   submits it to the MASA server.
+
+   The "proximity-registrar-cert" leaf is used in the Pledge voucher-
+   requests.
+
+   The "prior-signed-voucher-request" leaf is be used in Registrar
+   voucher-requests to the Pledge voucher-request.  It contains the
+   encoded (signed form) of the Pledge voucher-request.
+
+   A Registar MAY also retrieve (nonceless) vouchers by sending voucher-
+   requests to the MASA.  No "prior-signed-voucher-request" leaf would
+   be included.  This can be used to retrieve vouchers for later offline
+   use.  The Registrar will need to know the serial number of the
+   pledge.  This document does not provide a mechanism for the Registrar
+   to learn that in an automated fashion.  Typically this will be done
+   via scanning of bar-code or QR-code on packaging, or via some sales
+   channel integration.


    > In any case, you need at least a forward reference for those leaf types
    > if you want to mention them without other explanations.

It's hard to reference into the YANG model text.

    > -----------------------------------------------------------------------------
    > Setion 3. 1)


    > a) Even with above concern Section 3. 1) fixed the section still does
    > not provide a good taxonomy of the different type of voucher-requests
    > and how to fully identify them because of the "may be used"...

I removed "may" to say "is".

    > b) There is no text here explaning how a registrar transforms a Pledge
    > Voucher request to a Registrar voucher request. If explained later,
    > insert a forward reference. Else. pls add text to explain.

I added some text above.

    > b) I have my doubts that the flow of the document is ideal with all the
    > yang formalisms thrown into section 3. If this is what other documents
    > do as well, fine. I for once would like it better if it was put into a
    > separate section towards the end of the document.

    > "nah, not going to happen" is an acceptable answer ;-)

"not going to happen"

    > -----------------------------------------------------------------------------
    > Setion 3.2 1)

    >  "provides voucher examples" -> "provides voucher-request examples"

okay.

Again, changes to here updated to: https://goo.gl/CpZHqd



--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJanabMAAoJEJVM4Vb9/EKQYGMIAIMLSjgyt4zR9+2piAehDYuk
kPGfQhVKLPa7T21eqIFuKYNheFJDeJ2VNhsjlci2vFoaANJnA0dALs6c23mGa4Hc
NwxiSRpQhwn+GbQVGP5SyNW5igXBvZa1qHRouCBXzeaVa2Vv65ALfP30oYEh6fsM
t61FnZE7JGaxWJGs4m6QKTYmtWDR8Ue7OmdZIU3FHcTgksyXwH1Lec4HfrO4rVpc
xEzraOXOg2Zy9d1qdn71n3K/lbojaAFTbU05A9cnN2a/rQN5rbn7pW06hgOL3lKr
yFTLCyHXhVqdsnQwFWCJjInduQdE6TvF+8beofxUEAIxVVAcM65jgAqgniyahmU=
=o1kS
-----END PGP SIGNATURE-----
--=-=-=--

From mcr@sandelman.ca  Mon Mar  5 23:45:15 2018
Return-Path: <mcr@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: ***
X-Spam-Status: No, score=3.6 required=5.0 tests=RCVD_IN_SBL_CSS=3.558
	autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 660E658C4B2
	for <eckert@i4.informatik.uni-erlangen.de>; Mon,  5 Mar 2018 23:45:15 +0100 (CET)
Received: from relay.sandelman.ca (relay.cooperix.net [IPv6:2a01:7e00::f03c:91ff:feae:de77])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 3C59F74E059
	for <tte@cs.fau.de>; Mon,  5 Mar 2018 23:45:11 +0100 (CET)
Received: from dooku.sandelman.ca (unknown [209.87.249.16])
	by relay.sandelman.ca (Postfix) with ESMTPS id 700B71F95D;
	Mon,  5 Mar 2018 22:45:10 +0000 (UTC)
Received: by dooku.sandelman.ca (Postfix, from userid 179)
	id B96583386; Mon,  5 Mar 2018 17:44:45 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Toerless Eckert <tte@cs.fau.de>
cc: draft-ietf-anima-bootstrapping-keyinfra@ietf.org, anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-reply-to: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
Comments: In-reply-to Toerless Eckert <tte@cs.fau.de>
   message dated "Wed, 14 Feb 2018 02:09:10 +0100."
X-Mailer: MH-E 8.6; nmh 1.6; GNU Emacs 24.5.1
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha1; protocol="application/pgp-signature"
Date: Mon, 05 Mar 2018 17:44:45 -0500
Message-ID: <10097.1520289885@dooku.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 12365
Lines: 321

--=-=-=
Content-Type: text/plain


    > -----------------------------------------------------------------------------
    > Section 4. 1)

    > a.1) Suggest to change title to "Proxying Details (Plege - Proxy -
    > Registrar)" because the section does not only discuss the proxy but
    > also the aspects/reqirements of proxying relevant to Client and
    > Registrar.



    > a.2) paragraph 1: "configured on the Proxy" append: "or automatically
    > discoverded (e.g.: via GRASP, see below)

In fact, we never want it configured in an autonomic network, it should
always be discovered.

    > b) Add: This section defines a statefu proxy which is therefore called
    > a "circuit" proxy.

okay.

    > c) Simplify whole paragraph with "(In a completely autonomic
    > network...)" - this discussion is not specific to AN. E.g.:

    > Registrars are assumed to have logically a locally integrated Proxy to
    > support directly (subnet) connected Pledges - because Registrars
    > themself does not define any functions for Pledges to discover
    > them. Such a logical local proxy does not need to provide actual TCP
    > proxying (just discovery) as long as the Registrar can operate with
    > subnet (link) local addresses on the interfaces where Pledges may
    > connect to.

done

    > d) "to discovery the" -> "to discover the"

already fixed I think.

    > e) Paragraph starting with: "If the Proxy joins an Autonomic Control
    > Plane" Suggest following replacement:

    >    In the ANI, the Autonomic Control Plane (ACP) secured instance of
    > GRASP (<ref>) MUST be used for discovery of ANI Registrar ACP addresses
    > and ports by ANI Proxies.  The TCP leg of the proxy connection between
    > ANI Proxy and ANI Registrar therefore also runs across the ACP.

    >    (separate because it would apply for any GRASP learning, not only
    > ACP):

    >    If GRASP is used by proxies for discovery of Registrars (ACP or
    > not), the proxy can also learn the proxy mechanism (Circuit Proxy
    > vs. IPIP encapsulation or other)

    >    (there is no negotiation in GRASP, therefore "agreed" as in current
    > text is not a good choice of word).

okay.

    > f) "SHOULD be the same as on the registrar in order for the proxy to
    > remain stateless".  Does such a proxy makes sense when it is not
    > stateless ? Aka: should this not be a MUST instead of a SHOULD ?

I can imagine ways to not use the same port, while still avoiding
O(number-of-pledges) storage of state.  But it involves messing with
packet headers in a way that I find distasteful.  That's why I write SHOULD.


    > -----------------------------------------------------------------------------
    > Section 4. 2)

    > "In order to permit the proxy functionality to be implemented on the
    > maximum variety of devices...  with available capabilities for the
    > proxy function similar to many class 2 IoT devices"

    > This IMHO is an incorrect assumption. I am not aware of any network
    > device in ANIMAs "well managed network" charter" that would today fall
    > into class 2. I was and am often extremely annoyed how underpowered
    > control plane of multi-terrabit switches are but those too don't get
    > down to that level. Even OpenWRT small home rotuers (outside scope of
    > ANIMA) don't go below 4 MByte these days.

Yes, but I'm not talking about using the whole control plane CPU:
     -> "available capabilities for the proxy function"

we gotta fit into whatever is left over, or product management will kick our
code out next time there is a code space crunch.

As far as I can tell, due to SDN outsourcing the control protocols
(like BGP and OSPF and even), and the rest being in forwarding-element
hardware, one COULD probably get away with an OpenWRT scale CPU as the
control plane CPU for a L2/L3-aware switch with hundreds and hundreds of
ports...

    > Here are statements i could support/recommend:

    > - Registrars must support the proxy method supportable by the type of
    > proxies it needs to support. If pledges could be IoT class 2, then IPIP
    > would be a better solution for them than a CP circuit proxy. Note that
    > in ANI adopted to class 2 IoT or similar "mesh network" solutions,
    > Plege become proxies proxy and therefore IoT class 2 pledges imply also
    > the need to support IoT class 2 proxies.

So, it matters not what the pledge is.
The Pledge in this document is always doing HTTPS over TCP over Link-Local
IPv6, and never needs to know what the relay protocol is.

So, I don't agree with your paragraph here.

    > -----------------------------------------------------------------------------
    > Section 4.1 1)

    > a) "[RFC4941] temporary addresses is encouraged...."  Please remove or
    > add text explaining why. Given how a pledge is happy to spill it's
    > IDevID to everyone claiming to be a proxy i am not sure what benefit
    > privacy addresses have, and they are additional implementation work for
    > pledges, whereas link-local (permanent) addresses are always
    > required. And changing addresses makes diagnostics harder.

    >    I also am not even sure if RFC4941 is even creating additional
    > link-local (temporary) addresses. I don't even think so. And all the
    > concerns RFC4941 discusses about correlating traffic is hardly
    > applicable to what the link-local address is used for.  link local GASP
    > discovery, BRSKI-TCP, maybe later some ACP tunnell..

We had a long discussion about this at design team meetings a year plus ago,
and I tend to AGREE WITH YOU.
Note that we temporary addresses do not require any long term storage
(vs privacy enhanced stable addresses)

Our discussion, you might recall centered on the question of whether the
connection should be initiated from the JRC->Pledge (as a result of some
signal) or the other way around.  The reasoning is that the <TLS1.2 connection
reveals the ClientCertificate first.

Note that TLS1.3 will keep contents of the certificates transmitted private
against passive eavesdroppers, while TLS 1.2 will not.

If you feel strongly about removing this recommendation, I'd like to make
this a WGLC issue (in the tools issue tracker), so that we can point to the
discussion when we are asked why we aren't mandating them.

I wrote a Privacy Concern section here:

   https://tools.ietf.org/html/draft-ietf-6tisch-dtsecurity-zerotouch-join-01#section-10

tell me if you'd like to copy and paste some of that into a Privacy
Considerations section in BRSKI.

    > -----------------------------------------------------------------------------
    > Section 4.1 2)

    >> Methods SHOULD be run in parallel to avoid head of queue problems
    >> wherein an attacker running a fake proxy or registrar can operate
    >> protocol actions intentionally slowly.

    > methods == circuit proy, IPIP, ... ?  would also be recommended to try
    > different proxies in parallel, right ?

No methods refers to M_GRASP vs optional things like mDNS or IPv4.

Changes too long to post.

    > -----------------------------------------------------------------------------
    > Section 4.1 1)

    > a) The requirement to do proxy discovery via GRASP was already written
    > in 4.1. Please remove. Please use term DULL GRASP instead of just
    > GRASP.

okay.

    > I would also suggest to revisit the name of the objective. The

bikeshed.

    > Here is suggested text:

    > 180000, [ ["SRV.brski-proxy", 4, 1, "https" ], [O_IPv6_LOCATOR,

But, we didn't register a service called "brski-proxy", so that would be wrong.
I don't think we are interested in registered that name.

I didn't understand your CDDL.

    > objective-value = method
    > method = "https" ; or future methods ; CoAP not considered yet, see below

Like why would I do that?

    > -----------------------------------------------------------------------------
    > Section 4.2) 1)

    > a) Append: Therefore the "coap" method in the previous section was only
    > used for the example but is not included in the CDDL definition of the
    > GRASP objective above.

That's why I didn't include it as an example.

    > -----------------------------------------------------------------------------
    > Section 4.3) 1)

    > a) I would suggest removing this section and putting the requirement
    > into 4.1 together with the rest of the requirments.

I agree that the section is redundant.

    > Section 4.3) 1)

I guess you mean 4.4.

    > a) Suggest to move the first paragraph with requirements to section 4.1

    > b) Requirements must include:

    > ANI Registrars MUST announce their Registrar service via the ACP
    > instance of GRASP. They MUST support ANI TLS circuit Proxy and
    > therefore BRSKI across HTTPS/TLS native across the ACP. ANI Registrars
    > MAY support the IPIP proxy method by implementing IPIP tunneling for
    > their HTTPS/TLS traffic across the ACP.  ANI Proxies MUST support GRASP
    > discovery of Registrars .

okay.

    > c) The following is fixed up text for the remainder of 4.3 to solve the
    > following issues: - change of GRASP objective-name
    > (SRV.brski-registrar) and methods ("https", "https-ipip" as well as

Point not well taken.

    > coap for examples sake).
    >- changed address of registrar to be an actual ACP address

Because fda3:79a6:f6ee:0000:0200:0000:6400:0001 (I missed a zero!)
is somehow not a ULA?

    > - GRASP example was cut off/incomplete

I think only the closing ]], which is confusing because the artwork
ends with ]]>.  I've moved it into all into new files:

https://github.com/anima-wg/anima-bootstrap/blob/toerless-terminology-comments/jrcgrasp-cddl.txt

https://github.com/anima-wg/anima-bootstrap/blob/toerless-terminology-comments/jrcgrasp-example.txt

https://github.com/anima-wg/anima-bootstrap/blob/toerless-terminology-comments/proxygrasp-cddl.txt

https://github.com/anima-wg/anima-bootstrap/blob/toerless-terminology-comments/proxygrasp-example.txt

You'll find that there is a "pencil" icon on each page that lets you edit the
example or CDDL right there and send it as a pull request.

Please if you could seperate:
a) fixes to the syntax of the CBOR diag notation, or CDDL

from:
b) proposals to change any of the bits on the wire (including changing
   the name of the objective).

I'm skipping to the next section.

    >   a) The above "transport-proto /= 41" is technically an update to
    > GRASP RFC which allows only UDP / TCP. There is some process around

really?
QUESTION to Brian.

    >   c) I am not sure how we solve the problem of multiple IPIP Proxies on
    > a single LAN fighting to own h'fe80::1234. It seems to me we would have

You are solving a problem that does not exist.
You are right that IPIP is inadequately described at this point.
If only I was accepting a few dozen github pull requests rather than
this hundred page long email...

I wonder if we could remember that this is a Proposed Standard?

    >       "The Join Proxy SHOULD do a GRASP M_NEG_SYN for each interface
    > which they wish to relay traffic, as this allows the Registrar to do
    > any static tunnel configuration that may be required"

    >       Please insert implementable GRASP objective specifications for
    > this step here...

It's an error.
M_NEG_SYNC was replaced with M_FLOOD.  I've removed that.

Version -12 submitted at this point.
        https://goo.gl/Xyd5N2

--
]               Never tell me the odds!                 | ipv6 mesh networks [
]   Michael Richardson, Sandelman Software Works        | network architect  [
]     mcr@sandelman.ca  http://www.sandelman.ca/        |   ruby on rails    [


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJanchdAAoJEJVM4Vb9/EKQNVEH/2DQwZRIiX4P1nKuO4m6cdQx
Qg7oWu4E0sZplh4QvjC0ak7usH/lIwXbz9+CTKdbgg/MWKNCjm7/o65cpScimZ/6
/QpofYtnlMyEQ4vh3vpgoKRnhPp2um/xMGp1P/j4esmVdmW1OKGkthN8/eX0ll8i
je5u3rgBZyRs4E5n453w9dprdH+BglSKXrzu8lwh5J8UGPTp7UYcXZdhZUyhgjuD
vB6PuPX1PbJTssidrBS+1YbtMjZ2/E2M+lNtaEwUs6cLtkqJvuNmC5hWNS5rPJmi
4fcGUJiB3MH5uMmYqbpEvdvCDjsnh5/dum14f9fJzz8WH7kXdrXHmM+T40cuCO8=
=5Vpy
-----END PGP SIGNATURE-----
--=-=-=--

From anima-bounces@ietf.org  Tue Mar  6 00:10:40 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-0.9 required=5.0 tests=DKIM_ADSP_CUSTOM_MED=0.001,
	DKIM_SIGNED=0.1,DKIM_VALID=-0.1,FREEMAIL_FORGED_FROMDOMAIN=0.249,
	FREEMAIL_FROM=0.001,HEADER_FROM_DIFFERENT_DOMAINS=0.25,RCVD_IN_DNSWL_MED=-2.3,
	SPF_FAIL=0.919 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 612F858C4B1;
	Tue,  6 Mar 2018 00:10:40 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 04FB874E766;
	Tue,  6 Mar 2018 00:10:38 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 9AD3112EA9F;
	Mon,  5 Mar 2018 15:10:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520291436; bh=egDfLElZl5FDcD/BI/DEYzx6a1poIeHL18L9g9Jp7Nw=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=xybPgVpjWH6MbTa+Xjo1GfDfjXo+PtnG0VC9xU1N6GvUL9a60BHUlHmXZNbMDzjeO
	 agPWFNBmPNZfnd1ijCcET1Q/V8AGEA3S0rJRPtu22o5JB1hQvf9QFej48E4V1twZcg
	 WTXWZa8w5KSgxmXJ3Cqy02Nl+nACHFL3ptQmiW5o=
X-Mailbox-Line: From anima-bounces@ietf.org  Mon Mar  5 15:10:34 2018
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 29FB312D873;
	Mon,  5 Mar 2018 15:10:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520291434; bh=egDfLElZl5FDcD/BI/DEYzx6a1poIeHL18L9g9Jp7Nw=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=Htc/aDY30gH7elBHCpbzuqMmb5czlwr+ZZqxcnGx8/UodNRrgTnUpAK3CbBdgpItv
	 DFVv/Uj6R8zoW7R3aAtFTBu120x8F/fOon8RrpDidmUAII3zDblo1S6seMw8N0wdlv
	 mqWnS5B53Y/mXBrf6BRosATf+CYwQesMTiSdNgxk=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 247DA126BFD
 for <anima@ietfa.amsl.com>; Mon,  5 Mar 2018 15:10:32 -0800 (PST)
Authentication-Results: ietfa.amsl.com (amavisd-new); dkim=pass (2048-bit key)
 header.d=gmail.com
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id aBf86yT1Cvj8 for <anima@ietfa.amsl.com>;
 Mon,  5 Mar 2018 15:10:30 -0800 (PST)
Received: from mail-pf0-x231.google.com (mail-pf0-x231.google.com
 [IPv6:2607:f8b0:400e:c00::231])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id C96B4120227
 for <anima@ietf.org>; Mon,  5 Mar 2018 15:10:30 -0800 (PST)
Received: by mail-pf0-x231.google.com with SMTP id q13so7928237pff.0
 for <anima@ietf.org>; Mon, 05 Mar 2018 15:10:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; 
 h=sender:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=6qFub+8YMgQH79g2PmayFwB3zJoM4puf/nIebumO4zU=;
 b=UUkj919sZANQZ2vFTXJpJQzbXEf9vdG/hwzIUS8QpIyDNJNshD7jcrs0ZtqDx054iQ
 +vHt+UYeNtjOSPmV8yYqqDtZMOXQc9QHnqdZQWR3lJQWCk0xPrrortJdvZw92fjb0Sdd
 l3Sh04sLxC+5+BK61zluPDfUQOnBaN6+JO7WaigAYYNix5GZt6TWyp41xIuSyeC+CG1Z
 6kL1osV2wTK696Yme2ZC12amWrpjRiLz6Gw13E93YulmMLvmVeuFvkxqvHBivfY7FKmZ
 s9lYBq5NFhk20kb+wM+cmSuuizDh8a/n71Td2OwUQR4wbR30+rd985aUKE0zO7r0Mngj
 xtfQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=6qFub+8YMgQH79g2PmayFwB3zJoM4puf/nIebumO4zU=;
 b=skh8uRt0Us9Fj4O0VfAbQisKCYrcuuqAfF+/QLKH7anD9FUh+oKo6py+/5hLk4j/8G
 DutxgGLYZkXHA0Zhv1mTFwBBQYyY27k9z0WsU5NNjrUdw5CCfA72qVKbmFJfStncoeBo
 M4kALxOE+lrYIc9NOeCHYlzuIW4Vin7ceA3hVpetX1fcvwSaD/m3pHMZ6TMsL197WDX1
 iNtbYBPN7tx25yG9WNi2wWRdExhm0K3g3QQdf1VAeuIJhap5BVMOtsVumajanXEcszCK
 fKwsgdoENWZrVYMIb7aUVYG0Wg1wkIRiAXIvv3Gw0j6nGJw3E/qF3RKLzzpcBW2PIFxQ
 ZGuw==
X-Gm-Message-State: APf1xPBfMXzR3dZZOYxkhUpgsU1a9Jt/QgusE+vGXzZjNsZHK+QIBTi0
 jmtcspY389hAq18TCXIwsW4+ocfc
X-Google-Smtp-Source: AG47ELuqe3Em2nO7eAdZrMtgWDmerse4ax0UbC37EIzH9wMqa7dsn6KQaloDGTjQ+2WL572Kz/UScw==
X-Received: by 10.99.110.131 with SMTP id j125mr13537621pgc.382.1520291430092; 
 Mon, 05 Mar 2018 15:10:30 -0800 (PST)
Received: from [130.216.38.95] (sc-cs-567-laptop.uoa.auckland.ac.nz.
 [130.216.38.95])
 by smtp.gmail.com with ESMTPSA id y186sm26295625pfb.92.2018.03.05.15.10.28
 for <anima@ietf.org>
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Mon, 05 Mar 2018 15:10:29 -0800 (PST)
To: anima@ietf.org
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <10097.1520289885@dooku.sandelman.ca>
From: Brian E Carpenter <brian.e.carpenter@gmail.com>
Message-ID: <fb3efc76-ed50-9e09-cf9b-c8c39492464e@gmail.com>
Date: Tue, 6 Mar 2018 12:10:28 +1300
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101
 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <10097.1520289885@dooku.sandelman.ca>
Content-Language: en-US
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/m7B_FeO0DQOSNUJOwO3ECJKCGoM>
Subject: [Anima] Proto 41 [Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09]
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 915
Lines: 32

> I'm skipping to the next section.
> 
>     >   a) The above "transport-proto /= 41" is technically an update to
>     > GRASP RFC which allows only UDP / TCP. There is some process around
> 
> really?
> QUESTION to Brian.

It's an extension, which seems to me is not strictly speaking
an update. So the WG has two choices, IMHO:

1. Leave it here described as an extension, don't touch the GRASP spec.
2. Add this to the CDDL in GRASP at AUTH48, with the AD's approval.

The addition would give:

transport-proto = IPPROTO_TCP / IPPROTO_UDP / IPPROTO_IPV6
IPPROTO_TCP = 6
IPPROTO_UDP = 17
IPPROTO_IPV6 = 41

(It is not an accident that the names chosen are those used
in the socket API. Sadly, they are not maintained by IANA.)

I don't really care which solution we choose.

    Brian

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From anima-bounces@ietf.org  Tue Mar  6 19:27:45 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.8 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.249,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 3EEBA58C59E;
	Tue,  6 Mar 2018 19:27:45 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 63B2474E5E7;
	Tue,  6 Mar 2018 19:27:42 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 0A07B12D778;
	Tue,  6 Mar 2018 10:27:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520360861; bh=vu8lDF+uYlxGSewCBHt9Z7a5vGmT3LKJvpSkfnCtG2Y=;
	h=From:To:In-Reply-To:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=DKpN5Sausr4XU1JWtYvYbhvGgLIpmvkM4edq2bt1Q9uZnPOKlGwQ1cuM22tj78QYT
	 a8P+JgdGaC7vQbizIrD7ASaZf22fX+jQpFI85zgZROJWxABBRMKn9raMsLzlJWaWJK
	 QT7bA98HLvisCvVgJEQnJQGj6/NsFJidcVRcLmqE=
X-Mailbox-Line: From anima-bounces@ietf.org  Tue Mar  6 10:27:38 2018
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 6C9AF12D86F;
	Tue,  6 Mar 2018 10:27:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520360858; bh=vu8lDF+uYlxGSewCBHt9Z7a5vGmT3LKJvpSkfnCtG2Y=;
	h=From:To:In-Reply-To:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=a8IQEZ25VoR1NtV8DIoOLKEjcCRZ+B0/7op1e6PIZbUaG6Rb6m9BSUfiaWKOeoCM5
	 gffgz5FEavsKwTS7YjS7RLXVs74DXOXE2+kbyQfWbnB1hqMp/02aDrRjkQWxmUC1qb
	 a9tA07u4KxP4FydRUjDABh9U4L0VReCW/oKJvfIE=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 458291250B8
 for <anima@ietfa.amsl.com>; Tue,  6 Mar 2018 10:27:36 -0800 (PST)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id BrU7eDTufVep for <anima@ietfa.amsl.com>;
 Tue,  6 Mar 2018 10:27:34 -0800 (PST)
Received: from tuna.sandelman.ca (tuna.sandelman.ca [209.87.249.19])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 20968124F57
 for <anima@ietf.org>; Tue,  6 Mar 2018 10:27:34 -0800 (PST)
Received: from sandelman.ca (obiwan.sandelman.ca [IPv6:2607:f0b0:f:2::247])
 by tuna.sandelman.ca (Postfix) with ESMTP id 1A95220090;
 Tue,  6 Mar 2018 13:35:41 -0500 (EST)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
 by sandelman.ca (Postfix) with ESMTP id 0866480C90;
 Tue,  6 Mar 2018 13:27:33 -0500 (EST)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Brian E Carpenter <brian.e.carpenter@gmail.com>
In-Reply-To: <fb3efc76-ed50-9e09-cf9b-c8c39492464e@gmail.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <10097.1520289885@dooku.sandelman.ca>
 <fb3efc76-ed50-9e09-cf9b-c8c39492464e@gmail.com>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;
 <'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Date: Tue, 06 Mar 2018 13:27:33 -0500
Message-ID: <31207.1520360853@obiwan.sandelman.ca>
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/DD8zyyeOuO8Vi9mpJjJY0YVrACM>
Subject: Re: [Anima] Proto 41 [Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09]
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: anima@ietf.org
Content-Type: multipart/mixed; boundary="===============7025801148936066562=="
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 2665
Lines: 83

--===============7025801148936066562==
Content-Type: multipart/signed; boundary="=-=-=";
 micalg=pgp-sha256; protocol="application/pgp-signature"

--=-=-=
Content-Type: text/plain


Brian E Carpenter <brian.e.carpenter@gmail.com> wrote:
    >> >   a) The above "transport-proto /= 41" is technically an update to
    >> > GRASP RFC which allows only UDP / TCP. There is some process around
    >>
    >> really?
    >> QUESTION to Brian.

    > It's an extension, which seems to me is not strictly speaking
    > an update. So the WG has two choices, IMHO:

    > 1. Leave it here described as an extension, don't touch the GRASP spec.
    > 2. Add this to the CDDL in GRASP at AUTH48, with the AD's approval.

    > The addition would give:

    > transport-proto = IPPROTO_TCP / IPPROTO_UDP / IPPROTO_IPV6
    > IPPROTO_TCP = 6
    > IPPROTO_UDP = 17
    > IPPROTO_IPV6 = 41

    > (It is not an accident that the names chosen are those used
    > in the socket API. Sadly, they are not maintained by IANA.)

I guess I thought that any value from
  https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xml
was valid.

>   Note 3: The IPPROTO values are taken from the existing IANA Protocol
>   Numbers registry in order to specify TCP or UDP.  If GRASP requires
>   future values that are not in that registry, a new registry for
>   values outside the range 0..255 will be needed.

"not in that registry", and IPV6=41, is in that registry.
While there a bunch which probably are nonsense to use (e.g, PRM)
a bunch are relatively clear: SCTP, RDP, DCCP...

I believe that the answer is to move all the IPIP specification to another
document.

--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlqe3ZQACgkQgItw+93Q
3WUamQgAjVZUtPV910Px6PrhQt+4jD+QeX6/tzYXzgvB4HOSKnb/rtH9ORrQD3Nc
TkoVYy0KVTLe12/dTePs1VNG3Ln6sMd+y1LKN3vTUPsmRcK8eWZKgrXBl3qwabdt
vojpm6lXeLCuIw2W883xeiACmod19UYh5qn5Kz/+Mcy/PVgvfOQJX3iSWhYZPHqF
JC7OA7uNPJ6g2HPiotmgSIwCQfxEAKFYk7hvLtJ3Y9KXtluCHkOu3vRaNwkXkNtR
WCnDSH9BFb2IB+b4XY92UG8kR0ci6m9jhSqKoam5Amu/UPFyrxxdZZlNdeu93c4i
fNPJWpaNWMGp1EjkGZ6B/rZaRUbCfA==
=5+JX
-----END PGP SIGNATURE-----
--=-=-=--


--===============7025801148936066562==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

--===============7025801148936066562==--

From anima-bounces@ietf.org  Tue Mar  6 19:46:49 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-4.5 required=5.0 tests=DKIM_ADSP_CUSTOM_MED=0.001,
	DKIM_SIGNED=0.1,DKIM_VALID=-0.1,FREEMAIL_FORGED_FROMDOMAIN=0.25,
	FREEMAIL_FROM=0.001,HEADER_FROM_DIFFERENT_DOMAINS=0.249,RCVD_IN_DNSWL_HI=-5,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id A5C3058C4B5;
	Tue,  6 Mar 2018 19:46:49 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [IPv6:2001:1900:3001:11::2c])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 591B774E74A;
	Tue,  6 Mar 2018 19:46:47 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 03EDB12D94C;
	Tue,  6 Mar 2018 10:46:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520362006; bh=RKokdGU/TVxy0lSqFt4AWNFryT4d8nwwgdjbreeUggM=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=k5TsdmZYJs+YNUkskEVY8V6X5F+GSaLsysEIEfIECyVOoSpLZTYvg0Sq1aRKKI2fj
	 WZpYbub5sjdY0x7HI6YTid69SyMpB7pR0cXdAkUF8aN3LkK1XZzBPXJ0aE0AtD6vl6
	 Syo74S+0WTq7+JKAT03OPISxrWBORFWXWuZMfKa4=
X-Mailbox-Line: From anima-bounces@ietf.org  Tue Mar  6 10:46:43 2018
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id E181312D886;
	Tue,  6 Mar 2018 10:46:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1520362003; bh=RKokdGU/TVxy0lSqFt4AWNFryT4d8nwwgdjbreeUggM=;
	h=To:References:From:Date:In-Reply-To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc;
	b=d2eMFNTgP2OFcYsqTStIdO8v3nyBB2m5P4oMjs46bZpCPVX8fS2ZFXkAplwfbopda
	 2k6jyd4EBSYzgwsqXyjycX4QwDZTTtDbJUa/RHTljxCXJ+6HaSVBnfb+01KoLjpX00
	 pVjiv8idcao89MOX3DGVv4F4bcdLhDHjUtvwNV3w=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 12E9C12D778
 for <anima@ietfa.amsl.com>; Tue,  6 Mar 2018 10:46:40 -0800 (PST)
Authentication-Results: ietfa.amsl.com (amavisd-new); dkim=pass (2048-bit key)
 header.d=gmail.com
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id U8TS102uUaw0 for <anima@ietfa.amsl.com>;
 Tue,  6 Mar 2018 10:46:38 -0800 (PST)
Received: from mail-pf0-x229.google.com (mail-pf0-x229.google.com
 [IPv6:2607:f8b0:400e:c00::229])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id 90DDC124234
 for <anima@ietf.org>; Tue,  6 Mar 2018 10:46:37 -0800 (PST)
Received: by mail-pf0-x229.google.com with SMTP id j20so9113626pfi.1
 for <anima@ietf.org>; Tue, 06 Mar 2018 10:46:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; 
 h=sender:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=BLKcxZs8UUfUJzuHJKwNlXY036wrYSa8CmGyoTqW4xI=;
 b=N6EmwxiuHm3Vt+rsgtc9XE9avRQoqF7lJQroxA8rwUdeR9K5ZBrUuO2OXfKzDgwLNV
 wkwXC7k3Q8tBq0OBHzaLGhBUZx5nlAzffB+jQrqE//bXHiGrxJoGMyziyTi+mLgCFTFm
 PnkVswv+jVjpvWacNM/QwmtO8TVnVt5tr49VqwlrULw3J0h0N9Piel8u2vQr8FRpndTR
 s0Kw+uuJM/Ag5O28SZzehuZkHXQwiQNrH/rqMNOlt9GzW0zvtUqkVBMZQhyFaLPET5/1
 tCNArOUWjwe8riJgSlFdOJFK351Ijp1E7mFQuATK7B4+JlMlYut4YymE74ww0o3h3iU4
 9APA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:subject:to:cc:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=BLKcxZs8UUfUJzuHJKwNlXY036wrYSa8CmGyoTqW4xI=;
 b=tjY9uxt9rhkgGcFUj4tZGJoAsNDT/ZsmIjbBaXpFMnEQP9RibS0ar/OqSHIKoknQwT
 6kLX9Fc2/XaNmnDa7zNGl45XXhVd/1gKmbJbAFAcdc6CGxG3DvIEaPWJA1Dbn875w8ua
 mncUXSgdiF0QroJltAflAzQe+Y5MYMjA2YmizD6V99kb7iVsSJFPIGYkbarYEvyr4/3w
 7klGwQquvz8UZLNRU2CDPV+RDZTE3AF68RDFk1v/YzjL8UOEo8MhvAwC9K136XXso498
 UtC4MMEkJFBUeVCj4mvpp3QoG7cQtW97vp1NT6md8ZZlVVCTWTRgPWv0CQ5CL54kpkN6
 FFkQ==
X-Gm-Message-State: APf1xPDbyALmIPBeblBziJiPDOGz6j/8A5Eu8u5twfW2tR/Cv3o7kf/c
 dyN5dWwlTmEAsrWn2NPFJGhfOHhP
X-Google-Smtp-Source: AG47ELtFORbrOtEJVRg21nesvYjPavXinvKAJG4IXUcYJO2gfG+U7u/ip2qlmIiuRKsJbEC5PyzXJQ==
X-Received: by 10.101.97.26 with SMTP id z26mr16033983pgu.44.1520361996643;
 Tue, 06 Mar 2018 10:46:36 -0800 (PST)
Received: from [192.168.178.30] ([118.148.126.225])
 by smtp.gmail.com with ESMTPSA id o28sm8268050pfa.62.2018.03.06.10.46.34
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 06 Mar 2018 10:46:36 -0800 (PST)
To: Michael Richardson <mcr+ietf@sandelman.ca>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <10097.1520289885@dooku.sandelman.ca>
 <fb3efc76-ed50-9e09-cf9b-c8c39492464e@gmail.com>
 <31207.1520360853@obiwan.sandelman.ca>
From: Brian E Carpenter <brian.e.carpenter@gmail.com>
Message-ID: <ed7c49ae-bc9f-6e0c-b603-cca448e0ca50@gmail.com>
Date: Wed, 7 Mar 2018 07:46:36 +1300
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101
 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <31207.1520360853@obiwan.sandelman.ca>
Content-Language: en-US
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/sZErWknmwt2KpzCoo-lKjFFFfPs>
Subject: Re: [Anima] Proto 41 [Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09]
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Cc: anima@ietf.org
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 2310
Lines: 61

On 07/03/2018 07:27, Michael Richardson wrote:
> 
> Brian E Carpenter <brian.e.carpenter@gmail.com> wrote:
>     >> >   a) The above "transport-proto /= 41" is technically an update to
>     >> > GRASP RFC which allows only UDP / TCP. There is some process around
>     >>
>     >> really?
>     >> QUESTION to Brian.
> 
>     > It's an extension, which seems to me is not strictly speaking
>     > an update. So the WG has two choices, IMHO:
> 
>     > 1. Leave it here described as an extension, don't touch the GRASP spec.
>     > 2. Add this to the CDDL in GRASP at AUTH48, with the AD's approval.
> 
>     > The addition would give:
> 
>     > transport-proto = IPPROTO_TCP / IPPROTO_UDP / IPPROTO_IPV6
>     > IPPROTO_TCP = 6
>     > IPPROTO_UDP = 17
>     > IPPROTO_IPV6 = 41
> 
>     > (It is not an accident that the names chosen are those used
>     > in the socket API. Sadly, they are not maintained by IANA.)
> 
> I guess I thought that any value from
>   https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xml
> was valid.

That was certainly my thinking, but we surely didn't want to write
out the CDDL for the whole registry.
 
>>   Note 3: The IPPROTO values are taken from the existing IANA Protocol
>>   Numbers registry in order to specify TCP or UDP.  If GRASP requires
>>   future values that are not in that registry, a new registry for
>>   values outside the range 0..255 will be needed.
> 
> "not in that registry", and IPV6=41, is in that registry.
> While there a bunch which probably are nonsense to use (e.g, PRM)
> a bunch are relatively clear: SCTP, RDP, DCCP...

Yes. To my mind, an application of GRASP can choose to add any valid
protocol number to its use of GRASP.  So I think we are OK without
changing the GRASP text.

The tricky bit is if we want to add a non-IP protocol such as HTTP,
which is where we would need a new registry for values >255.
> 
> I believe that the answer is to move all the IPIP specification to another
> document.

Well, you can use 41 in BRSKI with a reference to that "Note 3" in GRASP,
I think. "As mentioned in Note 3 of the definition of the Locator IPv6 address option
in [GRASP],..."

    Brian

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

From anima-bounces@ietf.org  Tue Mar 20 19:18:41 2018
Return-Path: <anima-bounces@ietf.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-2.1 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,HEADER_FROM_DIFFERENT_DOMAINS=0.249,RCVD_IN_DNSWL_MED=-2.3,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Delivered-To: eckert+ietf.anima@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 44DE858C565;
	Tue, 20 Mar 2018 19:18:41 +0100 (CET)
Received: from mail.ietf.org (mail.ietf.org [4.31.198.44])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 7001674E892;
	Tue, 20 Mar 2018 19:18:36 +0100 (CET)
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id 1B43612D7E4;
	Tue, 20 Mar 2018 11:18:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1521569915; bh=CTMF24RPN9zT0kgMoMx8hBBXpf8NEQ8VwpeVctgtmXM=;
	h=From:To:In-reply-to:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=a1C4KcB9B/M6kBa8/LNZ4aovRkchXhgNfjA7suBuZIy5OkQ0eoRxHaBUZb72NKIXT
	 ES0JnPksgO7t6Jrq0Zng4SY8QTdT0xKaIW1bbfXl9fvDMcPADJtWiasmQvpfVcf/+c
	 sDfFwNkn8oIl6t4J50AL/vYNVHUyGKKdlYZHwx9k=
X-Mailbox-Line: From anima-bounces@ietf.org  Tue Mar 20 11:18:33 2018
Received: from ietfa.amsl.com (localhost [IPv6:::1])
	by ietfa.amsl.com (Postfix) with ESMTP id C9A7412D872;
	Tue, 20 Mar 2018 11:18:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=ietf.org; s=ietf1;
	t=1521569912; bh=CTMF24RPN9zT0kgMoMx8hBBXpf8NEQ8VwpeVctgtmXM=;
	h=From:To:In-reply-to:References:Date:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe;
	b=bbzUbZhfiaeHU8YnfE2cq4unbkMVDJIxUUp+6KZH+tMGiNx1CXsLADxpkor6w7Fug
	 eKx80skBFlH4+z+os5c07GB14/Q4CGrQjrxkxhHzAQ7qiwZ/ZwnDWwRba0o/I1yfRX
	 w9Be1w8SobmhjuuwwqPb3I+0KHKhW/T1RuiTRxlI=
X-Original-To: anima@ietfa.amsl.com
Delivered-To: anima@ietfa.amsl.com
Received: from localhost (localhost [127.0.0.1])
 by ietfa.amsl.com (Postfix) with ESMTP id 63E49127978
 for <anima@ietfa.amsl.com>; Tue, 20 Mar 2018 11:18:30 -0700 (PDT)
Received: from mail.ietf.org ([4.31.198.44])
 by localhost (ietfa.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id D6h5opUgwxSk for <anima@ietfa.amsl.com>;
 Tue, 20 Mar 2018 11:18:28 -0700 (PDT)
Received: from relay.sandelman.ca (relay.cooperix.net [176.58.120.209])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by ietfa.amsl.com (Postfix) with ESMTPS id E1DE5127286
 for <anima@ietf.org>; Tue, 20 Mar 2018 11:18:27 -0700 (PDT)
Received: from dooku.sandelman.ca (unknown [217.138.37.114])
 by relay.sandelman.ca (Postfix) with ESMTPS id 4131D1F95D
 for <anima@ietf.org>; Tue, 20 Mar 2018 18:18:24 +0000 (UTC)
Received: by dooku.sandelman.ca (Postfix, from userid 179)
 id E47B3158A; Tue, 20 Mar 2018 18:17:47 +0000 (GMT)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: anima@ietf.org
In-reply-to: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
Comments: In-reply-to Toerless Eckert <tte@cs.fau.de>
 message dated "Wed, 14 Feb 2018 02:09:10 +0100."
X-Mailer: MH-E 8.6; nmh 1.6; GNU Emacs 24.5.1
X-Attribution: mcr
MIME-Version: 1.0
Date: Tue, 20 Mar 2018 18:17:47 +0000
Message-ID: <13940.1521569867@dooku.sandelman.ca>
Archived-At: <https://mailarchive.ietf.org/arch/msg/anima/LJH9gTCQGFiGAqG7x4lyEf64ZMs>
Subject: Re: [Anima] Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09 (part 4?)
X-BeenThere: anima@ietf.org
X-Mailman-Version: 2.1.22
Precedence: list
List-Id: Autonomic Networking Integrated Model and Approach <anima.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/options/anima>,
 <mailto:anima-request@ietf.org?subject=unsubscribe>
List-Archive: <https://mailarchive.ietf.org/arch/browse/anima/>
List-Post: <mailto:anima@ietf.org>
List-Help: <mailto:anima-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/anima>,
 <mailto:anima-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0457015540749566826=="
Errors-To: anima-bounces@ietf.org
Sender: "Anima" <anima-bounces@ietf.org>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 10466
Lines: 269

--===============0457015540749566826==
Content-Type: multipart/signed; boundary="=-=-=";
 micalg=pgp-sha1; protocol="application/pgp-signature"

--=-=-=
Content-Type: text/plain


MAX: please look for your name.

Toerless Eckert <tte@cs.fau.de> wrote:
    > Section 5)

    > a) Suggest changing the title to "Protocol Details (Pledge - Registrar
    > - MASA / CA)"
    > to distinguish from Section 4. Might consider also to move up section

renamed.

    > b) MASA URI is "https:// authority "./well-known/est".
    > ^
    > missing a " ?

already fixed.

    > c) BRSKI-EST connections SHOULD use persistent connections
    > The intention of this guidance is to ensure the provisional TLS
    > authentication occurs only once and is properly managed.

    > This is not clear to me, please rephrase.

    > - What does "properly managed" mean ?

I no longer recall.
I think it's content-free.  It means don't throw away the connection
each time or do dumb things with your SSL context.

    > - Why would provisional TLS authentication have to occur more than once
    > without persistent connection ?

        <t>
          While EST section 3.2 does not insist upon use of HTTP 1.1
          persistent connections, BRSKI-EST connections SHOULD use persistent
          connections.  The intention of this guidance is to ensure the
          provisional TLS state occurs only once, and that the subsequent
          resolution of the provision state is not subject to a MITM attack
          during a critical phase.
        </t>

    > The first connection only retrieves the voucher, but then lets say the
    > Pledge closes the connection and builds a new one for EST
    > enrollment. On that second one it would not need to do provisional
    > authentication. /cacerts after /requestvoucher ?

I agree that it's possible to come up with a number of places in which
one could restart the TLS connection, at which point a MITM would either
be detected, or would cause a failure, but I would rather not open this door.

The pledge would have to remember the server's certificate and make sure that
it always connects to a server with the same (identical) certificate.

If the JRC is implemented in a load-balanced scenario with a front-end
*TCP* (not SSL) proxy that distributes load, then it is possible that it
would be legitimate for the different servers to have different
certificates.  As long as the voucher comes out correct, that's fine.

But, if the pledge is directed to different servers, which a non-persistent
connection could cause to occur, then the pledge will have a hard time.

What if the single server executes a planned reboot, and when it restarts, a
new (fresher) certificate has been installed?    The persistent connection
could be tuned to keep server from rebooting until that transaction is over.

Finally, the non-persistent connections could be redirected by the Join Proxy
to different JRCs!

    > d)  Q: How would BRSKI work in the absence of persistent connections or
    > in the presence of failures ? I guess each request from the pledge is a
    > standalone transaction and the pledge would just repeat them until it
    > succeeds or until a return code would indicate that the Registrar does
    > not support this step and the pledge has to terminate.

The requests from the pledge are not standalone transactions.
They are a series of connections that build towards a result.
I don't think we need to support non-persistent connection.

    > Aka: The way i see it, the reason for persistent connections is really
    > just
    > avoiding unnecessary repeated (expensive) TLS connection setup...

yes.  So, couldn't you have edited your comments then?

    > e)  "If the Registrar responds with a redirection to other web origins"

    > A reason for this rule should be written into that paragraph.
    > ... This is to minimize attacks by fake registrars trying to
    > indefinitely redirect a pledge.

MAX: I think that there are other reason as well?
MAX: Also, the pledge can't go anywhere by URL, only to where the Proxy
     directs it, so really can any redirection be accepted?
     Of course, it can do Host:

I have opened ticket: https://github.com/anima-wg/anima-bootstrap/issues/50

    > f)  "It should proceed to other discovered Registrars if there are any"

    > Pledes don't discover Registrars, the discover Proxies.
    > the Proxy can see a couple redundant Registrars.

fixed with:

            <t>
              To avoid blocking on a single erroneous Registrar the Pledge
              MUST drop the connection after 5 seconds in which there has
              been no progress on the TCP connection.
              It should proceed to
                connect to any other Registrar's via any other discovered
                Proxies if there are any.  If there were no
                other Proxies discovered, the Pledge MAY continue to wait,
                as long as it is concurrently listening for new Proxy
                announcements.
            </t>


    > f.1) "If necessary the Pledge calls the EST defined /cacerts method to
    > obtain the domain owners' CA certificate."

    > Please add an explanation when/why this is necessary. This seems to
    > contradict the statement in 5.8.1 about not doing /cacerts,/fullcmc
    > during Bootstrap but only during enrollment: "Although these
    > limitations are acceptable during initial bootstrapping"
    > (aka: "no need for /cacerts during bootstrap").

Now https://github.com/anima-wg/anima-bootstrap/issues/51

    > g)  After "This moves the BRSKI-EST TLS connection out of the provisional state." add:

    > - Afterwards the Pledge trusts this and other Registrars using the same
    > trust anchor. It MAY permit more than one redirects, but it MAY still
    > time out the registrar for further REST operations and revert to
    > another one.

We need to talk more about ticket #50.

    > - Mandatory boostrap steps conclude with Voucher Status Telementry (see
    > XXX)

done.

    > - Move "Optionally, the BRSKI- EST TLS connection can now be used for EST enrollment."
    > out of the bullet list merge wi next sentence ("The extensions...").

done.

    > h)  "In the language of RFC6125 this provides for a SERIALNUM-ID category of identifier.."

    > RFC6125 does not use the term SERIALNUM-ID and BRSKI does not use this
    > term outside of this paragraph either, so it seems redundant. The whole
    > paragraph is also quite dense,
    > so maybe rewrite/simplify the language.

We thought a lot about how one does matching of identities in PKIX
SubjectAltNames', and RFC6125 provides the best guidance.
I split the paragraph up.

    > Would suggest to also move any details o the whitelist logic
    > desccription to 5.1,
    > 5.0 is just overview. And in 5.1 you mention TLS setup uses RFC7030
    > mechanisms while in 5.0 it refers to RFC6125, so i think it would
    > become easier to write & read if tht 5.0 whitelisting stuff was moved
    > into 5.1 paragraphs refering to EST TLS setup.

Actually, I agree that 5.0 is way too detailed *IN GENERAL*
          https://github.com/anima-wg/anima-bootstrap/issues/52

    > Suggested append if you agree with it (whatever wording you like):

    > a) "nonce:  The Pledge voucher-request MUST contain" ...
    > ..."Doing so ensures Section 2.5 functionality"

    > If one just follows the reference to section 2.5, it looks contradictory:
    > "_If_ the voucher contains a nonce then the Pledge MUST confirm "

    > Please clarify, this is confusing:
    > - If the nonce is a MUST because of section 2.5, then the MUST would
    > only have to
    > apply to RTCless Pledges. But its not clear to me why... (forgot our
    > discussions,
    > and readers where never part of them, so explanation would be nice).

5.2 is about requesting a voucher, not about checking.
We decided that all voucher requests MUST have nonces, to enable noncefull
freshness, but whether or not vouchers are required to have nonces is
a manufacturer's decision.

    > - fix to "MUST NOT be reused for _MULTIPLE_ bootstrapping attempts
    > IMHO also: (especially not across repeated first bootstrap attempts
    > after power cycling).

done.

    > Section 5.3 1)

    > a) "The Registrar initiates the connection and uses the MASA URL obtained
    > as described in Section 2.7 for RFC6125 authentication of the MASA server."

    > Q: Does this mean:
    > "The Registrar initiates the connection and uses the DNS name of the
    > MASA URL obtained
    > as described in Section 2.7 for (RFC6125) authentication of the MASA
    > server certificate."

MAX, do you think we need to more this precise?
I think that we really want people to read 6125, not just guess.

    > Aka: for the less PKIX/Websecurity initiated readers like me, writing out
    > what is actually implied could make the sentence easier to parse
    > (instead of having to read more of RFC6125.

But, I want you to read 6125 rather than guess.
Or use a library (libcurl or whatever) that does the right thing.

I'll stop here, since there are a number of issues open.

https://goo.gl/8sQfkb for rfcdiff between -12 and github content.

--
]               Never tell me the odds!                 | ipv6 mesh networks [
]   Michael Richardson, Sandelman Software Works        | network architect  [
]     mcr@sandelman.ca  http://www.sandelman.ca/        |   ruby on rails    [


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJasVBLAAoJEJVM4Vb9/EKQWoMH/1AYLim87ApzV719YZG4Ywxm
U3nQzui/r5M+vyOaVzo/6a7Hf60/rYrqf/GbQREWtUgSfpdwdu7eMSeL0fe/ZQv/
0ZicIGNCbGua6x42y7z5fcJutHVUIyyo0Ornlf4ta+VMnWJgDFlyH7vrp/EXBNCE
/G59oVa1+e5RuSSF1ltR/vjbofafnVWVac9h71UjQm8yANEI7p1jqGta82K1VRRj
r1o9CzL3jwe1H0K1k3ECSW2j39FIQ5cEdBRlAfw3eHqBOUoGB4+yfMBDvoEYJIaU
DrvD7N3swzEsdRzVCe9/nNPVwUf7ee8p4rB389YatCUSCls4RpmkcM4MlU+eaP4=
=6dTr
-----END PGP SIGNATURE-----
--=-=-=--


--===============0457015540749566826==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Anima mailing list
Anima@ietf.org
https://www.ietf.org/mailman/listinfo/anima

--===============0457015540749566826==--

From mcr+ietf@sandelman.ca  Mon Mar 26 21:11:17 2018
Return-Path: <mcr+ietf@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 830F158C570
	for <eckert@i4.informatik.uni-erlangen.de>; Mon, 26 Mar 2018 21:11:17 +0200 (CEST)
Received: from tuna.sandelman.ca (tuna.sandelman.ca [IPv6:2607:f0b0:f:3:216:3eff:fe7c:d1f3])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 7C12874F151
	for <tte@cs.fau.de>; Mon, 26 Mar 2018 21:11:12 +0200 (CEST)
Received: from sandelman.ca (obiwan.sandelman.ca [209.87.249.21])
	by tuna.sandelman.ca (Postfix) with ESMTP id 5D10320090;
	Mon, 26 Mar 2018 15:20:22 -0400 (EDT)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
	by sandelman.ca (Postfix) with ESMTP id 7A92980AF9;
	Mon, 26 Mar 2018 15:11:04 -0400 (EDT)
From: Michael Richardson <mcr+ietf@sandelman.ca>
cc: Toerless Eckert <tte@cs.fau.de>
to: anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-Reply-To: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;<'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha256; protocol="application/pgp-signature"
Date: Mon, 26 Mar 2018 15:11:04 -0400
Message-ID: <2380.1522091464@obiwan.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 15153
Lines: 404

--=-=-=
Content-Type: text/plain


Comments on section 5, 6 and 7.



    > ----------------------------------------------------------------------
    > Section 5.4

    > a) See comment for section 2.4.4  for where i think the first paragraph
    > description should be.

There isn't a 2.4.4, so I'm not really sure I understand what you want me to do.

    > (aka: make this paragrap a summary of what the MASA interface is,
    > mentioning both requestvoucher and requestauditlog and move to 2.4.4).

    > b) The paragraph is difficult to parse and has IMHO wrong pieces.
    > - What does "simplicity" mean ?

I think it's mostly content-free.
It makes the text simpler to not have explain all of EST here.


    > - "the Registrar is not required to make use of any other EST
    > functionality when communicating with the MASA service"... what does
    > that mean.. ? Not required = but could optionally do it ?

I guess, we probably gained nothing by saying it was EST rather than a
straight RESTful web service.

I've opened issue,
     https://github.com/anima-wg/anima-bootstrap/issues/53

I think that's what you are asking here.

    > If a shared code basis is used for MASA and other EST/BRSKI defined
    > service roles (Domain Registrar, CA,...), the MASA service MUST
    > properly reject any EST functionality requests it does not wish to
    > service; a requirement that holds for any REST interface.

For me there is/was no code sharing.

    > "when the Registrar is expected to be offline" ->
    > "when the Registrar is expected to be unable to connect to a MASA"

    > Offline can be confusing because it does not explain who is not able to
    > talk with whom, and i think in both cases two of the three are still
    > expected to talk with each other (or at least that part does not
    > matter).

    > I am still confused about the "Pledge is unable to connect to the
    > Registrar" case.  Is this a case where BRSKI-EST does not happen but
    > something else (e.g.: sneakernet) between Registrar and Plege ? Please
    > add a sentence explaining what this case means.


https://github.com/anima-wg/anima-bootstrap/issues/54

    > f) "since the registrar is not known to the MASA server in advance"

    > Given how the HTTPS connection requires authentication, there is some
    > knowledge about the registrar from that, so the above sentence is
    > confusing. Whats the
    > correct statement to be made here thats takes the existance of the HTTPS
    > authentication of the Registrar to the MASA into account ?

https://github.com/anima-wg/anima-bootstrap/issues/55


    > g) Registrar revocation consistency:

    > Maybe change the lead in in this section to something like: "If the Registrar
    > uses a CA known to the MASA to make certificate revocation information
    > available
    > to the MASA, MASA SHOULD check ... of the Registrar Certificate. MASA MAY
    > limit service to Registrar where this applies to provide owners
    > protection against impacted registrar (e.g.: stolen).

okay, clarified text a bunch of text, and went back to 2.6.1 and changed
some text to put a few additional constrained on time.   I also turned the
point form into sections because they needed more detail, and so that they
can be referenced.
See:   https://goo.gl/166KTe

    > In any case a short reasoning why to do this step would be helpfull.

    > h) Pledge proximity assertion:

    > Sentence summarizing one most important attack vector reducet by
    > this. Or pointer to reference where this is explained.

I agree, we should expand this section to explain why.
  https://github.com/anima-wg/anima-bootstrap/issues/56

    > -----------------------------------------------------------------------------
    > Section 5.5

    > a) "immediately complete authentication of the provisional"

    > This sounds contradictory to the potential need to perform /cacerts first as
    > described in section 5. Add something like (potentially after
    > performing /cacerts,
    > see section 5.) ?

We opened an issue before about this. I added this to it.
   https://github.com/anima-wg/anima-bootstrap/issues/51


    > -----------------------------------------------------------------------------
    > Section 5.5.1

    > a) "which is an additional justification
    > for the recommendation to proceed with EST key management operations.
    > Once a full CA Certificate Response is obtained it is more
    > authoritative for the domain than the limited 'pinned-domain-cert'
    > response."

    > This sounds contradicting to the statement in section 5., where it sounds as if
    > provisional state is completes only after the (optional /cacerts) and cacerts
    > is part of bootstrap, whereas here it sounds as if its part of
    > enrollment only.

okay, part of issue above.


    > -----------------------------------------------------------------------------
    > Section 5.6)

    > a) "The domain is expected to provide indications to the system
    > administrators concerning device lifecycle status.  To facilitate
    > this it needs telemetry information concerning the device's status."

    > Nice language.

    > Whats missing is the IMHO quite relevant recommendation to go beyond that
    > and provide diagnostics / suggestions that could go as much as

    > "actionable recommendations in support of expedient resolution of the
    > failure".


    > Aka:
    > (Failure) Reason: "voucher certificate not valid yet".
    > Suggestion:      "Replace empty RTC battery "

    > Can we add something like Suggestion to the structure ?
    > Not sure if "suggestion" is the best word, but it would be great if we
    > can put a stake in the ground adding this to the structure. I have seen
    > too many times
    > where it took eternities to find the magic offline manual mapping from
    > a range
    > of crazy error codes (reasons) to the suggestions what to do next.

    > b)  Recommendations for how to mitigate the potential security issues
    > of diagnostics
    > would be great:

    > - Reasons could be per-device encoded, requiring vendor for further insight:
    > Reason: "error 23498y354AZRFF"
    > Suggestion: "call manufacturer"
    > - Operations after errors can be slowed down to reduce/eliminate brute force attacks

    > c)  "message is being sent" -> "message may be sent" (above example of
    > non-attack issue).

So that was the reason for the reason-context.
It's very much specific to the device.
I'm not sure what text you are suggesting here.

    > -----------------------------------------------------------------------------
    > Section 5.7)

    > a) Paragraph 1: Did we not discuss the option that the Registrar might
    > want to examine the authorization log before even forwarding the
    > voucher to the Pledge ?

Yes, but the critical thing is that it occurs prior to accepting the
certificate request from the Pledge.

    > b) It is recommended put to put some
    > ^^^^^^^^^^

    > And not even clear what it would mean if the sentence was fixed.
    > Does it mean something like: Cacheable object name could be large
    > randomn number ?

Fixed the text.


    > -----------------------------------------------------------------------------
    > Section 5.7)

    > a) The current described examples of the Audit Log are all somewhat scary,
    > a bit like "The doctor told me something bad... should i ignore it".
    > Or worse: This audit log stuff is made up by Vendors to scare us into buying
    > only manufacturer refurbished gear with a clean history bill.

    > Can we mention some simple positive examples o better sell the value of
    > the audit log,

I'm not really sure what to do with this comment.
If we are doing marketing here, perhaps you can tell me what the audience is
(Manufacturer? ISP? Enterprise? Consumer?) and what their risk profile is?

    > The biggest concern i think we will see from privacy advocats is that
    > vouchers/audit-logs are a big-brother initiative from vendors. This too might
    > be something to document counter arguments for:

No, vouchers with supply chain integration are big-brother initiatives from
vendors...   Audit logs are the way in which we avoid having to do that for
every product.

I don't know what you want me to do here.

    > -----------------------------------------------------------------------------
    > Section 5.8)

    > a) "The Pledge is also RECOMMENDED to implement the following EST
    > automation extensions"
    > add: An ANI Pledge MUST implement them.

okay.

    > b) Last paragraph: It looks as if this is in answer of my question about
    > enrolling multiple certificates. Thanks!

    > - Please put at the end of 5.8 (eg: new subsection before CoAP -
    > "enrolling multiple
    > certificates). No need to derail the core track what BRSKI does with
    > consideratations of what it can not do.

done.

    > -----------------------------------------------------------------------------
    > Section 5.8.2)

    > a) The wording of the first paragraph makes it somewhat hard to understand what point
    > it is trying to make:

    > | In some deployments its plausible that the Pledge generates a certificate
    > | request containing only identity information known to the Pledge (essentially
    > | the X.509 IDevID  information) specific identity information

    > "in other deployments the pledge magically generates a certificate request
    > including information not known to the pledge"  ???

You put the "not" in there.  We didn't.

    > -----------------------------------------------------------------------------
    > Section 5.8.4)

    > a) "The EST protocol assumes an end user" -> "RFC7030 assumes an end
    > user"

okay.

    > b) There seems to be text missing after second paragraph (before
    > discussing success/failure):

I don't understand what is it that you find missing.

    > c) " This allows for clients that wish to minimize their crypto operations
    > to simply POST this response without renegotiating the TLS session -
    > at the cost of the server not being able to accurately verify that
    > enrollment was truly successful."

    > Bullocks. First you scare off readers with "diagnostics bad" (5.6), and
    > now Pleges SHOULD just do good diagnostics (try new LDevID to see it works) ?

    > Please make the SHOULD re-negotiate a MUST and delete this last paragraph.
    > If a plege can not afford a single validation of a BRSKI certificate, its not
    > worth receiving one.

Could you please start again about this issue.
5.6 does not say diagnostics bad.
5.6 says not to tell attacking registrars too many details.

At 5.6, if there is a failure, the voucher has not been accepted, and we do
not have trust.

At 5.8, Pledge already trusts Registrar, but the certificate request has
failed, and we already have trust.  Knowing all the details is acceptable.

    > -----------------------------------------------------------------------------
    > Section 6)

    > a) Suggest Change title to eg: "Additional security options"

Why?  A common complain about BRSKI and vouchers is that it's too secure.

I have added:
      <t>
        This section is considered non-normative: use suggested methods
        MUST be detailed in specific profiles of BRSKI.  This is the
        subject for future work.
      </t>

    > - Some text (eg. first paragraph mentioning NEA) talks also about
    > additional/higher
    > security, so lower is not necessarily always true.

Which methods are higher security?
I can't find which ones you might refer to.

    > -----------------------------------------------------------------------------
    > Section 6.2)

    > a)  fix to "not involved in security considerations in this chapter"

    > Remember text in earlier sections where you claimed that yu do expect
    > fewer attacks after completion of TLS/provisional and how having trusted
    > Plege/Registar-Pledge path achieves this.

I can't parse this.

    > -----------------------------------------------------------------------------
    > Section 6.3)

    > a) MASA server -> MASA service (i may have said that in before, but you
    > can ignore

already done.

    > b) "Trust on first Use" for physical ports: suggest to modify to:
    > "trust on first use" for methods with a strong dependency on physcial
    > posession,
    > such as taking ownership via configuration on a serial console.

fixed.

    > -----------------------------------------------------------------------------

    > Section 7)

    > a) This document is extending the .well-known "est" definition. We need to
    > determine how to correctly handle this and have started to inquire.

This document extends RFC7030.
It probably needs to be marked as Updates RFC7030.
7030 does not establish an IANA registry for .well-known/est, so there are
no IANA intructions, but the most restrictive kind of RFC Standards Action,
which this document does... so I think we are just fine.

    > I suggest to add the following text to the IANA section for this:

    > | This document extends the definitions of "est" (so far defined via RFC7030) in
    > | the "https://www.iana.org/assignments/well-known-uris/well-known-uris.xhtml" registry
    > | as follows:
    > |
    > |   - add /.well-known/est/requestvoucher (see section 5.4)
    > |   - add /.well-known/est/requestauditlog (see section 5.7)


So, really, it should now have two entries in that list?

    > b) It would be good to create subsections for each registray mentioned so
    > that one can see from the table of content what registries are impacted.

Don't we already have that?
We are only creating one registry.

    > c) Probably need a summary of updates this document makes to RFC7030, the
    > easiest way would IMHO be to create a short section "Updates to RFC7030",
    > saying that all REST services introduced in this document are extensions ot
    > RFC7030 ESTE because they use the EST well-known prefix, and then point to
    > section 2.4 which with the text i proposed provides IMHO a good summary
    > of those services as used by each role (Pledge, Registrar, MASA).

I think that you do that above.

    > d) Add section to request brksi-proxy and brski-registrar to
    > IANA service name registry.

I'm still not sure I understand the why of dns-sd discovery in an ANI
environment.




--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlq5RcgACgkQgItw+93Q
3WXEwQf/W3dZm/FcT/2kdJw3nhbKNMFIicfhw9fSyeNQSwY3hJnhfUjbkTxsKf0V
D1oQkYQMPfMbthiyAMcsHK/OFm2122Ru36s4bDmBmMJiVRJbTUJipFp0WGsNeDRf
DJAdY12UJTLowQOam45ILUwZcq5Mi2NtNIwXsrEsOzPABxVrbrgagl4oSz05CYHU
tQfLJknVQ5nNh80amEWGNihoq4meHyJQMFiCTGCPvjvGdUtcLBE9/GAXwsAQEum1
GV9NFz1+FoSuIAitlem6wUswdphGUNH7eHtm8nFOukA+b/gn15+jazsEJ1NH06nL
KxZcfrLQvx0NjKhgfRfBsmPcj8ujJA==
=grJz
-----END PGP SIGNATURE-----
--=-=-=--

From brian.e.carpenter@gmail.com  Mon Mar 26 21:30:49 2018
Return-Path: <brian.e.carpenter@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.4 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,DKIM_VALID_AU=-0.1,FREEMAIL_FROM=0.001,RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 545CA58C4B2
	for <eckert@i4.informatik.uni-erlangen.de>; Mon, 26 Mar 2018 21:30:49 +0200 (CEST)
Received: from mail-pg0-x22d.google.com (mail-pg0-x22d.google.com [IPv6:2607:f8b0:400e:c05::22d])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 1597274F0D7
	for <tte@cs.fau.de>; Mon, 26 Mar 2018 21:30:47 +0200 (CEST)
Received: by mail-pg0-x22d.google.com with SMTP id y63so4523889pgy.12
        for <tte@cs.fau.de>; Mon, 26 Mar 2018 12:30:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=sender:subject:to:cc:references:from:message-id:date:user-agent
         :mime-version:in-reply-to:content-language:content-transfer-encoding;
        bh=qXhOlb8PydW/GxWvGbQGmvgrzlXZ5vrpSGPmdzEr45c=;
        b=KjzDJgXVhRYCy2cwUM3CGj++2IrV/179M1OhXnDG2QASrzvFebO1BqNlpbKpWy0i1P
         8PNpPVvuNjhEwbU2DPl3Pk8tDk3PSjlp3EskQ4adQw3d903/A/eVg9ZLqb4xeEPV3ICr
         npTK6z5RFdwoQjgi2u79ZS3w4+JSAgGvBrQBgpQvJ5jw0bmwdDC8Nf5aH8d/aDICcjdF
         YejedpzihmkHN9JDStcLAg4uSSC2DPM7Z2PA18v1ndGoXXinIE++89anF6S75ScISRtp
         ybvTpjp51Ex37CJrfWf3mftjY6oLoG3JzC857PjrfzDw3TcKbVjTBHr8HvTRariiCY2l
         NrNA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:sender:subject:to:cc:references:from:message-id
         :date:user-agent:mime-version:in-reply-to:content-language
         :content-transfer-encoding;
        bh=qXhOlb8PydW/GxWvGbQGmvgrzlXZ5vrpSGPmdzEr45c=;
        b=ZfybBwSJ67L7ismVG4c7w5DmdcY3N+LABh7AW2rVqVtwCAMWOcaR8vfp19tMZEFTXQ
         VMtA2bTUfhRvhiumIg0RjdarVRqA81EmMwo7UaTiDNK3pC9r2bm+dezCpJn6sIAUBGf7
         umzd2s/vabssvgWf2q774Hb2RSNmgHLs6MM1xdQE/+0rYGHzUTXxPXGcvcFbMaSybFKB
         9AmzC24wSLNOfgn/vexrHwBrGVJLhgcdnicyfwCMgaY7z6tezVsx2pece3ufY3t7tVNY
         mcnIXPiukU1zh8c0Kbwatl9ztWHf3iaUe6R48tsA3O70CovRScnoLJe8+qiLRY960r1V
         UyBA==
X-Gm-Message-State: AElRT7Et5SzpztPf0VhiYkQGSbPeHYW3/yecQeCRNRafI6Z4Sqnj1Bf7
	ZALKOoysWl21u649/4Vhf+3jvQ==
X-Google-Smtp-Source: AG47ELskJkCXUM6xNBhX6ylFmn675ilNxKn2NWf/jQwhHc8L1WPf7BhkId5uw2fFMZp2hyNTlaLfHQ==
X-Received: by 10.99.115.68 with SMTP id d4mr29709673pgn.145.1522092645183;
        Mon, 26 Mar 2018 12:30:45 -0700 (PDT)
Received: from [192.168.178.26] ([118.148.76.62])
        by smtp.gmail.com with ESMTPSA id i86sm4773265pfi.28.2018.03.26.12.30.42
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 26 Mar 2018 12:30:44 -0700 (PDT)
Sender: Brian Carpenter <becarpenter46@gmail.com>
Subject: dns-sd [was Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09]
To: Michael Richardson <mcr+ietf@sandelman.ca>, anima@ietf.org
Cc: Toerless Eckert <tte@cs.fau.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <2380.1522091464@obiwan.sandelman.ca>
From: Brian E Carpenter <brian.e.carpenter@gmail.com>
Message-ID: <7212c1c6-e906-8018-6939-68552daa1b40@gmail.com>
Date: Tue, 27 Mar 2018 08:30:42 +1300
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101
 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <2380.1522091464@obiwan.sandelman.ca>
Content-Type: text/plain; charset=utf-8
Content-Language: en-US
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 611
Lines: 19

On one point only:

On 27/03/2018 08:11, Michael Richardson wrote:
...
> 
>     > d) Add section to request brksi-proxy and brski-registrar to
>     > IANA service name registry.
> 
> I'm still not sure I understand the why of dns-sd discovery in an ANI
> environment.

That's a discussion on its own and I think it should be kept separate.
So I would leave these registrations aside for now; nobody else
is going to ask for brksi-* service names, so there's no urgency.

Once this phase is done, I hope we can discuss draft-eckert-anima-grasp-dnssd
properly in the WG, and the deeper implications.

     Brian

From mcr+ietf@sandelman.ca  Mon Mar 26 23:47:52 2018
Return-Path: <mcr+ietf@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-0.0 required=5.0 tests=RCVD_IN_DNSWL_NONE=-0.0001,
	T_RP_MATCHES_RCVD=-0.01 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 2ED6758C573
	for <eckert@i4.informatik.uni-erlangen.de>; Mon, 26 Mar 2018 23:47:52 +0200 (CEST)
Received: from tuna.sandelman.ca (tuna.sandelman.ca [IPv6:2607:f0b0:f:3:216:3eff:fe7c:d1f3])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 4CCE274F164
	for <tte@cs.fau.de>; Mon, 26 Mar 2018 23:47:49 +0200 (CEST)
Received: from sandelman.ca (obiwan.sandelman.ca [IPv6:2607:f0b0:f:2::247])
	by tuna.sandelman.ca (Postfix) with ESMTP id 9A1FE20090;
	Mon, 26 Mar 2018 17:57:05 -0400 (EDT)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
	by sandelman.ca (Postfix) with ESMTP id 4720480AF9;
	Mon, 26 Mar 2018 17:47:47 -0400 (EDT)
From: Michael Richardson <mcr+ietf@sandelman.ca>
To: Brian E Carpenter <brian.e.carpenter@gmail.com>
cc: anima@ietf.org, Toerless Eckert <tte@cs.fau.de>
Subject: Re: dns-sd [was Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09]
In-Reply-To: <7212c1c6-e906-8018-6939-68552daa1b40@gmail.com>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de> <2380.1522091464@obiwan.sandelman.ca> <7212c1c6-e906-8018-6939-68552daa1b40@gmail.com>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;<'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha256; protocol="application/pgp-signature"
Date: Mon, 26 Mar 2018 17:47:47 -0400
Message-ID: <8731.1522100867@obiwan.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 1514
Lines: 49

--=-=-=
Content-Type: text/plain


Brian E Carpenter <brian.e.carpenter@gmail.com> wrote:
    > On 27/03/2018 08:11, Michael Richardson wrote:
    > ...
    >>
    >> > d) Add section to request brksi-proxy and brski-registrar to
    >> > IANA service name registry.
    >>
    >> I'm still not sure I understand the why of dns-sd discovery in an ANI
    >> environment.

    > That's a discussion on its own and I think it should be kept separate.

Good, I think so as well.

    > So I would leave these registrations aside for now; nobody else
    > is going to ask for brksi-* service names, so there's no urgency.

    > Once this phase is done, I hope we can discuss
    > draft-eckert-anima-grasp-dnssd
    > properly in the WG, and the deeper implications.

I'm not sure what to do about the current statements in the appendix then.

--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlq5aoIACgkQgItw+93Q
3WVg7Af+J7N5m1qFw93TcYYA2BQ8KsMB7e2UUtqxZbtskCzlO3NA8fZrYQfD0oGx
NUVJKpQg95eEDEOsaQeFtvPuJipFOmC+OSXq7hSN1s9B2J7XxkBLVoofL6WsWzuH
DauWLonwG9rxzJScXNjWEia5yA9d70VshnJSNXShbmYMfNLIGup3S88COwGnDNkG
YB3iVqu7DNu6ZMstq4UkG3rErn0T1OgCmcE+Yjuqe3xwozPc6hvb398uWALv+Rd5
5mr3J+W6fkQIamDbhJlWUysKXYDLGkkXbXpOvoEPcvQfCJmIDGR0ZZmxKauOZ4yQ
TPQrnybCZlNmo/qgq24ryVglFXXOUQ==
=CPXg
-----END PGP SIGNATURE-----
--=-=-=--

From brian.e.carpenter@gmail.com  Tue Mar 27 01:19:58 2018
Return-Path: <brian.e.carpenter@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-0.1 required=5.0 tests=DKIM_SIGNED=0.1,
	DKIM_VALID=-0.1,DKIM_VALID_AU=-0.1,FREEMAIL_FROM=0.001,
	RCVD_IN_DNSWL_NONE=-0.0001 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [131.188.34.45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 7DE4458C4B5
	for <eckert@i4.informatik.uni-erlangen.de>; Tue, 27 Mar 2018 01:19:58 +0200 (CEST)
Received: from mail-pl0-x231.google.com (mail-pl0-x231.google.com [IPv6:2607:f8b0:400e:c01::231])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 3C76D74F168
	for <tte@cs.fau.de>; Tue, 27 Mar 2018 01:19:56 +0200 (CEST)
Received: by mail-pl0-x231.google.com with SMTP id 9-v6so12913163ple.11
        for <tte@cs.fau.de>; Mon, 26 Mar 2018 16:19:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=sender:subject:to:cc:references:from:message-id:date:user-agent
         :mime-version:in-reply-to:content-language:content-transfer-encoding;
        bh=Q/u7vLu0wUON7c03wN9zd4BWLLKkPKqbWtaAIhr9+mE=;
        b=muRgtgwNO6XCALdK6pwkI1C+goX/BZRL+mMJbZT6z+55bU5DcHzqMydpYE5eGYXZll
         yHVggQ36Cq+PVIrRgnQkVeV1jl/U+Jf4jvMPpSy3PJ/WbvGMD2p8a1fCLir6fvROK1iZ
         kBGTeksv9QlyfuJx7AbC6UImoUD+/7+vTSaQEd4lfqw/K2DJnIaJETkyGUJsCrA8SkRK
         hpBUHC9w86YmHT1Rt1TonPJoFo+efvwbINEJbgttXDxvL8LIySAJenE+qeQrxtphGXES
         pH5rQOiP+RiR5Xdh9dGjPCsOtSM9+PYgJZWl4ltRzIBfvBl0hSW+/1nYu+N/HW8pVSS1
         fR0A==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:sender:subject:to:cc:references:from:message-id
         :date:user-agent:mime-version:in-reply-to:content-language
         :content-transfer-encoding;
        bh=Q/u7vLu0wUON7c03wN9zd4BWLLKkPKqbWtaAIhr9+mE=;
        b=PK9jXcDWFkELqRXFJ/u5YCRqEwwWI/c2JaXg5tPSb6wtCaQ58YjNZq0IYFf/FNP1sV
         OASzpqt4OiMwhIkXabRpRa/b7xEhWmz/BlNOYZr1P6qmYFCZbQbELQs3yZsCDwUXrJku
         Ty87fdUVr+C5C71A4R1x5JsHQkZxaifoWFn1J/EUF5IFXDpd4g+OWBxejHgkLwEy0I7G
         47hcid+F6aRJCWgq/QEC2bzda5AZgsomwvh8dEUnWDWZWU/qkPo4quaIcvhLZfyp1ZLV
         QQ+h2GX6fzmDWw6FcdoOdBwjC+wFH5J1+QcQVWZKfR9ep3W5txv/Y7O0OD37qd3W1oL8
         X0pw==
X-Gm-Message-State: AElRT7Hgad07RWQsMsB13KVpAS02HCH1h2VishUr6J7OBll5FPFTR7pM
	xFCDXurgrBQ3VLGn4DK2Xt/hnA==
X-Google-Smtp-Source: AG47ELvuXTVPUY+8j1EIeMTUttquznl0nXfS9ab707x2PDGVzMZ3medCuMvVZD5asMGtL/LVUHrEgg==
X-Received: by 2002:a17:902:6bca:: with SMTP id m10-v6mr35179933plt.387.1522106394344;
        Mon, 26 Mar 2018 16:19:54 -0700 (PDT)
Received: from [130.216.38.155] (sc-cs-567-laptop.uoa.auckland.ac.nz. [130.216.38.155])
        by smtp.gmail.com with ESMTPSA id o66sm35149837pfg.90.2018.03.26.16.19.51
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 26 Mar 2018 16:19:53 -0700 (PDT)
Sender: Brian Carpenter <becarpenter46@gmail.com>
Subject: Re: dns-sd [was Shepherd review
 draft-ietf-anima-bootstrapping-keyinfra-09]
To: Michael Richardson <mcr+ietf@sandelman.ca>
Cc: anima@ietf.org, Toerless Eckert <tte@cs.fau.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
 <2380.1522091464@obiwan.sandelman.ca>
 <7212c1c6-e906-8018-6939-68552daa1b40@gmail.com>
 <8731.1522100867@obiwan.sandelman.ca>
From: Brian E Carpenter <brian.e.carpenter@gmail.com>
Message-ID: <6d509e01-6eba-5134-8038-96e1ee2f785e@gmail.com>
Date: Tue, 27 Mar 2018 12:19:51 +1300
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101
 Thunderbird/52.6.0
MIME-Version: 1.0
In-Reply-To: <8731.1522100867@obiwan.sandelman.ca>
Content-Type: text/plain; charset=utf-8
Content-Language: en-US
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Status: RO
Content-Length: 1162
Lines: 32

On 27/03/2018 10:47, Michael Richardson wrote:
> 
> Brian E Carpenter <brian.e.carpenter@gmail.com> wrote:
>     > On 27/03/2018 08:11, Michael Richardson wrote:
>     > ...
>     >>
>     >> > d) Add section to request brksi-proxy and brski-registrar to
>     >> > IANA service name registry.
>     >>
>     >> I'm still not sure I understand the why of dns-sd discovery in an ANI
>     >> environment.
> 
>     > That's a discussion on its own and I think it should be kept separate.
> 
> Good, I think so as well.
> 
>     > So I would leave these registrations aside for now; nobody else
>     > is going to ask for brksi-* service names, so there's no urgency.
> 
>     > Once this phase is done, I hope we can discuss
>     > draft-eckert-anima-grasp-dnssd
>     > properly in the WG, and the deeper implications.
> 
> I'm not sure what to do about the current statements in the appendix then.

I really can't judge whether that material is sufficiently 
baked to be normative text (even under a MAY). I do have
sympathy with making BRSKI usable more generally, but I'm
not competent to judge whether this text is ready for the
standards track.

    Brian

From mcr+ietf@sandelman.ca  Mon Mar 26 21:36:13 2018
Return-Path: <mcr+ietf@sandelman.ca>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	faui40.informatik.uni-erlangen.de
X-Spam-Level: 
X-Spam-Status: No, score=-1.3 required=5.0 tests=RCVD_IN_DNSWL_MED=-2.3,
	SPF_SOFTFAIL=0.972 autolearn=disabled version=3.4.0
X-Original-To: eckert@i4.informatik.uni-erlangen.de
Delivered-To: eckert@i4.informatik.uni-erlangen.de
Received: from faui45.informatik.uni-erlangen.de (faui45.informatik.uni-erlangen.de [IPv6:2001:638:a000:4134::ffff:45])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui40.informatik.uni-erlangen.de (Postfix) with ESMTPS id 488FF58C4B2
	for <eckert@i4.informatik.uni-erlangen.de>; Mon, 26 Mar 2018 21:36:13 +0200 (CEST)
Received: from tuna.sandelman.ca (tuna.sandelman.ca [209.87.249.19])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by faui45.informatik.uni-erlangen.de (Postfix) with ESMTPS id 4616C74F10F
	for <tte@cs.fau.de>; Mon, 26 Mar 2018 21:36:10 +0200 (CEST)
Received: from sandelman.ca (obiwan.sandelman.ca [IPv6:2607:f0b0:f:2::247])
	by tuna.sandelman.ca (Postfix) with ESMTP id ED5CA20090;
	Mon, 26 Mar 2018 15:45:26 -0400 (EDT)
Received: from obiwan.sandelman.ca (localhost [IPv6:::1])
	by sandelman.ca (Postfix) with ESMTP id 0A77C812C9;
	Mon, 26 Mar 2018 15:36:09 -0400 (EDT)
From: Michael Richardson <mcr+ietf@sandelman.ca>
cc: Toerless Eckert <tte@cs.fau.de>
to: anima@ietf.org
Subject: Re: Shepherd review draft-ietf-anima-bootstrapping-keyinfra-09
In-Reply-To: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
References: <20180214010910.GA27823@faui40p.informatik.uni-erlangen.de>
X-Mailer: MH-E 8.6; nmh 1.7-RC3; GNU Emacs 24.5.1
X-Face: $\n1pF)h^`}$H>Hk{L"x@)JS7<%Az}5RyS@k9X%29-lHB$Ti.V>2bi.~ehC0;<'$9xN5Ub#
 z!G,p`nR&p7Fz@^UXIn156S8.~^@MJ*mMsD7=QFeq%AL4m<nPbLgmtKK-5dC@#:k
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="=-=-=";
	micalg=pgp-sha256; protocol="application/pgp-signature"
Date: Mon, 26 Mar 2018 15:36:09 -0400
Message-ID: <8048.1522092969@obiwan.sandelman.ca>
X-Virus-Scanned: clamav-milter 0.99.3 at faui45
X-Virus-Status: Clean
Content-Length: 5930
Lines: 176

--=-=-=
Content-Type: text/plain


Final comments/actions on Toerless' awesome review.
The -13 is coming out soon, but we have 13 issues to resolve still.

    > -----------------------------------------------------------------------------
    > Section 8)

    > a) First paragraph: Unvailable MASA is not a security but an
    > operational consideration.
    > Feel free to add "Operational considerations" section before security
    > considerations and move it there. Might want to add some more
    > considerations around
    > MASA to set context: Suggest something like:

It's due to that operational consideration that someone might want a nonceless
voucher, and therein is the security consideration.

So while I'm not oppposed to an Operational Considerations section,
it would not start with that first paragraph.

    > c) "The MASA authorization log..."

    > Not security consideration either IMHO.  Suggest to move into a new
    > "Privacy considerations"

Agreed.
MAX: when did the MASA audit log became an authorization log?
     Is this intentional?

    > -----------------------------------------------------------------------------
    > Appendix A)

    > a) Would change title to non-IPv6 or non-ANI operations:
    > b) Initial explanation:

I'm changing it to IPv4 and non-ANI operations.
I'd rather search found "IPv4"

    > Specification of BRSKI in Section 4. only covered the mechanisms for an IP6
    > Pledge (link-local IPv6 address) and Proxy options necessary for IPv6
    > and ANI.
    > It does not cover the options for non-IPv6 Pledge or non-ANI Proxies
    > (IPv4 or IPv6).

done.

    > -----------------------------------------------------------------------------
    > Appendix A.2)

    > a) Replace with:

    > A.2.  Use of DHCP

Not sure I agree. I think that DHCPv6 considerations are very different.
There are RAs, DHCPv6, as well as what kind of address will be given.
An IPv4 address is almost 100% certain to be RFC1918/NAPT, while IPv6 will not.

I don't mind adding a section on this, but I'd prefer to have a seperate
section as it needs significantly more details.

    > -----------------------------------------------------------------------------
    > Appendix B)

    > a) Use suggested service name of "_brski-proxy" in all caes where
    > "_bootstrapks"
    > is used. (see comment for section 4.1.1 for why that name is better).

Opened issue: https://github.com/anima-wg/anima-bootstrap/issues/57

    > b) After "The Pledge MAY perform DNS-based Service Discovery", new paragraph:

    > A non-ANI Proxy MAY perform DNS-based Service Discovery using unicast DNS
    > to discover Registrars searching for searching for the service
    > "_brski-registrar._tcp.local.".

okay.

    > c) "To prevent unaccceptable levels of network traffic" -> add ", when
    > using mDNS"

okay.

    > d) "received a useable IPv4 address via DHCPv4 as suggested in Appendix A" ->
    > "received a useable IP address via DHCP/DHCPv6 as suggested in Appendix
    > A.2"

see above.

    > e) "If no local bootstrapks service": Add at end of paragraph: See
    > Section 2.6 (Cloud Registrar).

done.

    > -----------------------------------------------------------------------------

    > Appendix C)

    > a) See discussion for section 4.3 above for the issues i see with
    > current IPIP
    > specification and suggestion to maybe move out of BRSKI to resolve with
    > more time.

Yes, I think that I agreed to remove it.

    > -----------------------------------------------------------------------------
    > Appendix E)

    > a) Please add a sentence how to decode Hex Certs (not keys) with utility
    > at the very top of the appendix (right now its further down in the
    > text).

I'm confused by this.
a) there are no Hex Certs, they are all base64, and they are in standard
   PEM format.
b) I never say how to decode them... so?

    > b) E.1.4: which element in the cert would become the serial-number ?

Good point, it's not in the Subject in this example.
     https://github.com/anima-wg/anima-bootstrap/issues/58

I expect to regenerate the examples at AUTH48 time, once IANA
has assigned everything.

    > c) There are no ASN1 decodings of the artefacts, Please fix.
    > If this is subject to IANA assignments, please add RFC editor note to
    > block draft progressing.

Sorry?  Which one is missing?

    > X) Applicability outside ANIMA

    > If i am not mistaken, BRSKI-MASA should be one option how a bootstrap
    > server in "draft-ietf-netconf-zerotouch" could obtain a voucher from a
    > MASA (if i understand it correctly, the mean by which such a bootstrap
    > server obtains a voucher is left open). If that is correct, then it would
    > be great to mention this in a sentence or two in an appropriate section
    > of BRSKI as a very explicit example how BRSKI can be reused outside the
    > complete ANIMA scope (also add draft-ietf-netconf-zerotouch as an
    > informational
    > reference).

I would prefer to let ietf-netconf-zerotouch do that.
Or a new document in netconf, to be done after we finish BRSKI.
Otherwise, I think we wind up with too close coupling, and cycles
in the review process.

DONE your comments.
Many issues open.


--
Michael Richardson <mcr+IETF@sandelman.ca>, Sandelman Software Works
 -= IPv6 IoT consulting =-




--=-=-=
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----

iQEzBAEBCAAdFiEEbsyLEzg/qUTA43uogItw+93Q3WUFAlq5S6gACgkQgItw+93Q
3WXudgf8Com/Z2xYqkr1qFhrV2ct04FoYxajGakCoNd+R9NHMS7dWDYF6gLgX4jq
cs1hMgF+wCamcJDC89Frmceit9xBe//y4M6KefcxrnZt4H0btXMfzmfDxPJnG661
uOGbm/Kz2+2+FJ8R8+GNqldNM55hxo50irJ0fev3HT6LnDfAgWRbMyr2D50Euq3f
LaLgUGzdmkyEhB8LWdYdbwyj4W0ktzv0TUoui0qihczFPSpg5D0laYe7einTv5LJ
LGtRl2R3/pCycIWRDc8QVvXkdV19Hy53TorCKjrVeAhcf26eLAaaYLvdLktKVhx2
nlj/qvZWyu1ihT3MKcMdwI6MbkcBAQ==
=c7Fw
-----END PGP SIGNATURE-----
--=-=-=--

